(this["webpackJsonp@livechat/chat-widget"]=this["webpackJsonp@livechat/chat-widget"]||[]).push([[10],[,,function(e,t,n){"use strict";function r(e,t){return e+t}n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return p})),n.d(t,"b",(function(){return h})),n.d(t,"f",(function(){return m})),n.d(t,"g",(function(){return b})),n.d(t,"h",(function(){return v})),n.d(t,"i",(function(){return g})),n.d(t,"j",(function(){return y})),n.d(t,"k",(function(){return O})),n.d(t,"l",(function(){return j})),n.d(t,"m",(function(){return w})),n.d(t,"o",(function(){return _})),n.d(t,"p",(function(){return x})),n.d(t,"q",(function(){return C})),n.d(t,"r",(function(){return D})),n.d(t,"n",(function(){return k})),n.d(t,"s",(function(){return c})),n.d(t,"t",(function(){return S})),n.d(t,"u",(function(){return A})),n.d(t,"v",(function(){return T})),n.d(t,"w",(function(){return F})),n.d(t,"x",(function(){return z})),n.d(t,"y",(function(){return B})),n.d(t,"z",(function(){return M})),n.d(t,"A",(function(){return L})),n.d(t,"B",(function(){return o})),n.d(t,"C",(function(){return I})),n.d(t,"D",(function(){return P})),n.d(t,"E",(function(){return l})),n.d(t,"F",(function(){return R})),n.d(t,"G",(function(){return q})),n.d(t,"H",(function(){return d})),n.d(t,"J",(function(){return N})),n.d(t,"I",(function(){return V})),n.d(t,"K",(function(){return U})),n.d(t,"L",(function(){return H})),n.d(t,"M",(function(){return G})),n.d(t,"O",(function(){return W})),n.d(t,"P",(function(){return f})),n.d(t,"Q",(function(){return $})),n.d(t,"T",(function(){return Z})),n.d(t,"U",(function(){return Y})),n.d(t,"R",(function(){return K})),n.d(t,"S",(function(){return J})),n.d(t,"V",(function(){return X})),n.d(t,"W",(function(){return ee})),n.d(t,"X",(function(){return ne})),n.d(t,"Y",(function(){return re})),n.d(t,"Z",(function(){return te})),n.d(t,"ab",(function(){return ie})),n.d(t,"bb",(function(){return ae})),n.d(t,"cb",(function(){return ue})),n.d(t,"db",(function(){return ce})),n.d(t,"eb",(function(){return se})),n.d(t,"fb",(function(){return le})),n.d(t,"gb",(function(){return de})),n.d(t,"hb",(function(){return fe})),n.d(t,"ib",(function(){return pe})),n.d(t,"jb",(function(){return me})),n.d(t,"kb",(function(){return ve})),n.d(t,"lb",(function(){return Oe})),n.d(t,"mb",(function(){return je})),n.d(t,"nb",(function(){return we})),n.d(t,"ob",(function(){return _e})),n.d(t,"qb",(function(){return xe})),n.d(t,"rb",(function(){return Ee})),n.d(t,"sb",(function(){return Ce})),n.d(t,"tb",(function(){return De})),n.d(t,"ub",(function(){return ke})),n.d(t,"vb",(function(){return Ie})),n.d(t,"wb",(function(){return Se})),n.d(t,"xb",(function(){return Ae})),n.d(t,"N",(function(){return Te})),n.d(t,"pb",(function(){return Fe})),n.d(t,"yb",(function(){return Be})),n.d(t,"zb",(function(){return Me})),n.d(t,"Ab",(function(){return Le})),n.d(t,"Bb",(function(){return Q})),n.d(t,"Cb",(function(){return Pe}));var i={}.hasOwnProperty;function o(e,t){return i.call(t,e)}function a(){return(a=Object.assign||function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.forEach((function(t){for(var n in t)o(n,t)&&(e[n]=t[n])})),e}).apply(void 0,arguments)}var u=function(e){return e.charAt(0).toUpperCase()+e.slice(1)};function c(e,t){var n;return(n=[]).concat.apply(n,t.map(e))}function s(e,t){for(var n=[],r=0;r<e.length;r+=t)n.push(e.slice(r,r+t));return n}var l=Array.isArray;function d(e){return"object"===typeof e&&null!==e&&!l(e)}function f(e,t){return Object.keys(t).reduce((function(n,r){return n[r]=e(t[r]),n}),{})}function p(e){return l(e)?e.map(p):d(e)?f(p,e):e}function h(e){var t=e.trim();return 0===t.length?"":1===t.length?t.toLowerCase():/^[a-z\d]+$/.test(t)?t:(t!==t.toLowerCase()&&(t=function(e){for(var t=e,n=!1,r=!1,i=!1,o=0;o<t.length;o++){var a=t[o];n&&/[a-zA-Z]/.test(a)&&a.toUpperCase()===a?(t=t.slice(0,o)+"-"+t.slice(o),n=!1,i=r,r=!0,o++):r&&i&&/[a-zA-Z]/.test(a)&&a.toLowerCase()===a?(t=t.slice(0,o-1)+"-"+t.slice(o-1),i=r,r=!1,n=!0):(n=a.toLowerCase()===a,i=r,r=a.toUpperCase()===a)}return t}(t)),t=t.replace(/^[_.\- ]+/,"").toLowerCase().replace(/[_.\- ]+(\w|$)/g,(function(e,t){return t.toUpperCase()})))}function m(e){return l(e)?e.filter((function(e){return null!==e&&void 0!==e})):Object.keys(e).reduce((function(t,n){var r=e[n];return null!==r&&void 0!==r&&(t[n]=r),t}),{})}function b(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function v(e,t){var n;return function(){clearTimeout(n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];n=setTimeout.apply(void 0,[t,e].concat(i))}}function g(e,t){return Object.keys(t).reduce((function(n,r){return t[r]&&"object"===typeof t[r]?Array.isArray(t[r])?(n[e(r)]=t[r].map((function(t){return g(e,t)})),n):(n[e(r)]=g(e,t[r]),n):(n[e(r)]=t[r],n)}),{})}function y(e){return function(t){return function(e){return null===e||void 0===e}(t)?e:t}}function O(e,t){return t.slice(0,-e)}function j(e){return l(e)?e:[e]}function w(e){return Object.keys(e).map((function(t){return[t,e[t]]}))}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];if(e(r))return r}}function x(e,t){for(var n=0;n<t.length;n++)if(e(t[n]))return n;return-1}function C(e,t){for(var n=t.length-1;n>=0;n--)if(e(t[n]))return t[n]}function E(e,t,n){for(var r=t;r>=0;r--)if(e(n[r]))return r;return-1}function D(e,t){return E(e,t.length-1,t)}function k(e,t){for(var n=[];e--;)n.push(t);return n}function I(e){return e}function S(e,t){return Object.keys(t).forEach((function(n){e(t[n],n)}))}var A=function(e){return e.reduce((function(e,t){var n=t[0],r=t[1];return e[n]=r,e}),{})};function T(){return Math.random().toString(36).substring(2)}function F(e){var t=T();return o(t,e)?F(e):t}function z(e,t){for(var n="string"===typeof e?e.split("."):e,r=0,i=t;i&&r<n.length;)i=i[n[r++]];return i}function B(e,t,n){var r=z(t,n);return void 0!==r&&null!==r?r:e}function M(e,t){return Object.keys(t).reduce((function(n,r){var i=t[r],o=e(i);return n[o]=n[o]||[],n[o].push(i),n}),{})}function L(e,t){return Object.keys(t).reduce((function(n,r){var i=e(r);return n[i]=n[i]||{},n[i][r]=t[r],n}),{})}function P(e,t){return-1!==t.indexOf(e)}function R(e){return 0===(l(e)?e:Object.keys(e)).length}var q=function(e){return!e},N=function(e){return!!e},V=function(e){return!!e&&"function"===typeof e.then};function U(e,t){return t.reduce((function(t,n){return t[n[e]]=n,t}),{})}function H(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}function G(e){return e.length>0?e[e.length-1]:null}function W(e,t){return Object.keys(t).reduce((function(n,r){return n[e(r)]=t[r],n}),{})}function $(e,t){return Object.keys(t).reduce((function(n,r){return n[r]=e(t[r],r),n}),{})}function Z(e,t){if(R(t))return e;var n={};return S((function(r,i){if(o(i,t))if(d(e[i])&&d(t[i]))n[i]=Z(e[i],t[i]);else if(l(e[i])&&l(t[i])){var a=Math.max(e[i].length,t[i].length);n[i]=new Array(a);for(var u=0;u<a;u++)u in t[i]?n[i][u]=t[i][u]:u in e[i]&&(n[i][u]=e[i][u])}else n[i]=t[i];else n[i]=e[i]}),e),S((function(e,r){o(r,n)||(n[r]=t[r])}),t),n}function Y(e){if(0===e.length)return{};var t=e[0];return e.slice(1).reduce((function(e,t){return Z(e,t)}),t)}function K(e){return function(e,t){var n={};return function(){var r=e.apply(void 0,arguments);if(o(r,n))return n[r];var i=t.apply(void 0,arguments);return n[r]=i,i}}(I,e)}function J(e){var t,n,r=!1;return function(){return r&&(arguments.length<=0?void 0:arguments[0])===n?t:(r=!0,n=arguments.length<=0?void 0:arguments[0],t=e.apply(void 0,arguments))}}function X(){}function Q(e){return Object.keys(e).map((function(t){return e[t]}))}function ee(e,t){var n="function"===typeof e?e:function(t){return z(e,t)};return(l(t)?[].concat(t):Q(t)).sort((function(e,t){return n(e)-n(t)}))}function te(e,t){return Object.keys(t).reduce((function(n,r){return e(t[r],r)||(n[r]=t[r]),n}),{})}function ne(e,t){return te((function(t,n){return-1!==e.indexOf(n)}),t)}function re(e,t){return Object.keys(t).reduce((function(n,r){return e(t[r])||(n[r]=t[r]),n}),{})}function ie(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(void 0,arguments))}}function oe(e,t){return[e,t]}function ae(e,t){return Object.keys(t).reduce((function(n,r){return n[e(t[r])?0:1][r]=t[r],n}),[{},{}])}function ue(e,t){return e.reduce((function(e,n){return e[n]=t[n],e}),{})}function ce(e,t){return Object.keys(t).reduce((function(n,r){return e(t[r])&&(n[r]=t[r]),n}),{})}function se(e,t){return Object.keys(t).reduce((function(n,r){return e(t[r],r)&&(n[r]=t[r]),n}),{})}function le(e,t){return e.reduce((function(e,n){return o(n,t)&&(e[n]=t[n]),e}),{})}function de(e){for(var t=[],n=0;n<=e;)t.push(n++);return t}function fe(e,t){return t.filter((function(t){return!e(t)}))}function pe(e,t){var n=[].concat(t);return n.splice(e,1),n}var he=n(1);function me(e,t,n){var r,i=e.split?e.split("."):e,a=i[0],u=t;if(i.length>1){var c=null!=n&&o(a,n)?n[a]:{};u=me(i.slice(1),t,c)}return Object(he.a)({},n,((r={})[a]=u,r))}function be(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function ve(e,t){if(be(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!o(n[i],t)||!be(e[n[i]],t[n[i]]))return!1;return!0}function ge(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return ye(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ye(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}function ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Oe=function(e,t){if(t.length<=e)return t;for(var n,r=[],i=0,o=ge(t.split(" "));!(n=o()).done;){var a=n.value;if(i+a.length>e)break;i+=a.length+1,r.push(a)}return r.join(" ")+"..."};function je(e){return"number"!==typeof e||isNaN(e)?NaN:0===e?0:-0===e?-0:e>0?1:-1}function we(e){var t=e.replace(/[A-Z]|([-_ ]+)/g,(function(e){var t=e.charCodeAt(0);return t>64&&t<91?"_"+e.toLowerCase():"_"}));return"_"===t[0]?t.substr(1):t}function _e(e,t){return[t.slice(0,e),t.slice(e,t.length)]}function xe(e){return e.reduce(r,0)}function Ce(e,t,n){var r=E((function(t){return!e(t)}),t,n);return r===t?[]:n.slice(r+1,t+1)}function Ee(e,t){return Ce(e,t.length-1,t)}function De(e,t){var n,r=Date.now()-2*e,i=function(){r=Date.now(),t.apply(void 0,arguments)};return function(){for(var t=Date.now(),o=arguments.length,a=new Array(o),u=0;u<o;u++)a[u]=arguments[u];t-r>=e?i.apply(void 0,a):(clearTimeout(n),n=setTimeout.apply(void 0,[i,r-t+e].concat(a)))}}function ke(e){return Array.prototype.slice.call(e)}var Ie=function(e,t){return Number(e.toFixed(t))},Se=function(e){return Object.keys(e).map((function(t){return[t,e[t]]}))};function Ae(e,t){var n,r=Date.now()-2*e,i=function(){return r=Date.now(),t.apply(void 0,arguments)};return function(){var t=Date.now();t-r>=e&&(r=Date.now()),clearTimeout(n);for(var o=arguments.length,a=new Array(o),u=0;u<o;u++)a[u]=arguments[u];n=setTimeout.apply(void 0,[i,r-t+e].concat(a))}}function Te(e,t){var n=0;return function(){var r=Date.now();r-n>=e&&(n=Date.now(),t.apply(void 0,arguments))}}var Fe=function(e,t){return e===t?0:e<t?-1:1};var ze=/\s+$/;function Be(e){return e.replace(ze,"")}function Me(e,t){var n=[];return t.filter((function(t){var r=e(t);return-1===n.indexOf(r)&&(n.push(r),!0)}))}function Le(e,t,n){return[].concat(n.slice(0,e),[t],n.slice(e+1,n.length))}function Pe(e,t){return function(e,t,n){return t.map((function(t,r){return e(t,n[r])}))}(oe,e,t)}},function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"g",(function(){return o})),n.d(t,"i",(function(){return a})),n.d(t,"f",(function(){return u})),n.d(t,"e",(function(){return c})),n.d(t,"c",(function(){return s})),n.d(t,"h",(function(){return l})),n.d(t,"a",(function(){return d}));var r="liveChatChatId",i="email_prompt",o="message_draft",a=100,u=20,c=255,s="Invalid `chat.id`",l="Move chat to mobile",d={labs:"https://mobile-chat.labs.livechat.com/chat-widget-moment/",staging:"https://mobile-chat.staging.livechat.com/chat-widget-moment/",production:"https://mobile-chat.livechat.com/chat-widget-moment/"}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return r.a})),n.d(t,"b",(function(){return o.a})),n.d(t,"c",(function(){return a.a})),n.d(t,"d",(function(){return s.a})),n.d(t,"e",(function(){return l.a})),n.d(t,"f",(function(){return d.a})),n.d(t,"g",(function(){return f.a})),n.d(t,"h",(function(){return h.a})),n.d(t,"i",(function(){return b.a})),n.d(t,"j",(function(){return y.a})),n.d(t,"k",(function(){return _})),n.d(t,"l",(function(){return x})),n.d(t,"m",(function(){return E.a})),n.d(t,"n",(function(){return B})),n.d(t,"o",(function(){return D.a})),n.d(t,"p",(function(){return L})),n.d(t,"r",(function(){return P.a})),n.d(t,"q",(function(){return q})),n.d(t,"s",(function(){return F.a})),n.d(t,"t",(function(){return w.a})),n.d(t,"u",(function(){return N.a})),n.d(t,"v",(function(){return V.a})),n.d(t,"w",(function(){return U.a})),n.d(t,"x",(function(){return H.a})),n.d(t,"y",(function(){return I.a})),n.d(t,"z",(function(){return G.a})),n.d(t,"A",(function(){return W.a})),n.d(t,"B",(function(){return Z.a})),n.d(t,"C",(function(){return A.a})),n.d(t,"D",(function(){return Y.a})),n.d(t,"E",(function(){return z})),n.d(t,"F",(function(){return J.a})),n.d(t,"G",(function(){return X.a})),n.d(t,"H",(function(){return Q.a})),n.d(t,"I",(function(){return ee.a}));var r=n(153),i=n(154),o=n.n(i),a=n(155),u=(n(156),n(65)),c=n.n(u),s=n(93),l=n(60),d=n(157),f=n(158),p=n(95),h=n(159),m=n(28),b=n.n(m),v=n(51),g=n(46),y=n.n(g),O=n(27),j=n(47),w=n.n(j);function _(e,t){return w.a.apply(void 0,t.map((function(t){return Object(O.a)(e,t)})))}function x(e,t){return c()((function(n){return e.on(t,n),function(){e.off(t,n)}}))}var C=n(160),E=n.n(C),D=n(96),k=n(75),I=n.n(k),S=n(97),A=n.n(S),T=n(56),F=n.n(T);function z(e){return function(t){return Object(v.a)(F()(e)(t))}}function B(e){return I()(Object(l.a)((function(){return Object(D.a)(Promise.race([e.call("isFocused"),new Promise((function(t){return r="focus",i=t,void(n=e).on(r,(function e(t){n.off(r,e),i(t)}));var n,r,i}))]))})),z((function(t){return I()(x(e,"focus"),A()(t))})))}var M=n(40);function L(){var e=Object(M.a)((function(){return!!document.hasFocus&&document.hasFocus()})),t=F()((function(){return!0}))(Object(O.a)(window,"focus")),n=F()((function(){return!1}))(Object(O.a)(window,"blur"));return w()(e,t,n)}var P=n(161);var R,q=(R=function(){return p.a},function(e){return function(t,n){if(0===t){var r,i=!1,o=function(e,t){r(e,t)};e(t,(function e(t,a){if(0===t)return r=a,i?void o(1):void n(t,o);if(2===t&&a&&!i){i=!0;try{R(a)(0,e)}catch(u){n(2,u)}}else n(t,a)}))}}}),N=(n(128),n(162)),V=n(163),U=n(164),H=n(165),G=n(166),W=n(44),$=n(167),Z=n.n($),Y=(n(81),n(129)),K=n(37),J=n.n(K),X=n(55),Q=(n(168),n(169),n(64),n(170)),ee=n(39)},function(e,t,n){"use strict";n.r(t),n.d(t,"getView",(function(){return c})),n.d(t,"getDefaultView",(function(){return s})),n.d(t,"getCurrentView",(function(){return l})),n.d(t,"getConnectionState",(function(){return d})),n.d(t,"getEvent",(function(){return h})),n.d(t,"getEventByServerId",(function(){return m})),n.d(t,"hasEvent",(function(){return b})),n.d(t,"hasEventByServerId",(function(){return v})),n.d(t,"getIndexedEvents",(function(){return g})),n.d(t,"getEvents",(function(){return y})),n.d(t,"getChat",(function(){return O})),n.d(t,"getChatByServerId",(function(){return j})),n.d(t,"hasChat",(function(){return w})),n.d(t,"getChats",(function(){return _})),n.d(t,"getUsers",(function(){return x})),n.d(t,"getSessionUser",(function(){return C})),n.d(t,"getUser",(function(){return E})),n.d(t,"getUserByServerId",(function(){return D})),n.d(t,"hasUser",(function(){return k})),n.d(t,"getTimeline",(function(){return I})),n.d(t,"getChatList",(function(){return S})),n.d(t,"getSessionUserId",(function(){return A})),n.d(t,"getLastDeliveredEvent",(function(){return T})),n.d(t,"getLastSeenEvent",(function(){return F})),n.d(t,"getLastEvent",(function(){return z})),n.d(t,"getUnseenCount",(function(){return P})),n.d(t,"getLastSeenAgentEvent",(function(){return R})),n.d(t,"getParticipants",(function(){return q})),n.d(t,"localize",(function(){return N})),n.d(t,"getApplicationState",(function(){return V}));var r=n(1),i=n(66),o=n(2),a=n(68),u=function(e,t){return t},c=function(e,t){var n=t.replace(/\//gi,".");return Object(o.x)(n,e.views)},s=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Object(o.x)(n+"._default",e.views)},l=function(e){return e.views.current},d=function(e){return e.session.connectionState},f=function(e){return e.entities.chats.byIds},p=function(e,t){return f(e)[t]},h=function(e,t,n){return p(e,t).events.byIds[n]},m=function(e,t,n){return h(e,t,p(e,t).events.serverIdsMapping[n])},b=function(e,t,n){return!!h(e,t,n)},v=function(e,t,n){return!!m(e,t,n)},g=function(e,t){return p(e,t).events.byIds},y=Object(i.a)([function(e,t){return p(e,t).events.orderedIds},g],(function(e,t){return e.map((function(e){return t[e]}))}))(u),O=Object(i.a)([p,y],(function(e,t){return Object(r.a)({},e,{events:t})}))(u),j=function(e,t){return O(e,e.entities.chats.serverIdsMapping[t])},w=function(e,t){return!!p(e,t)},_=function(e){return Object(o.P)((function(t){var n=t.id;return O(e,n)}),f(e))},x=function(e){return e.entities.users.byIds},C=function(e){return x(e)[function(e){return e.session.id}(e)]},E=function(e,t){return x(e)[t]},D=function(e,t){return E(e,e.entities.users.serverIdsMapping[t])},k=function(e,t){return!!E(e,t)},I=function(e,t){var n;return null==(n=e.views)?void 0:n.Chat[t].timeline},S=function(e){var t;return null==(t=e.views)?void 0:t.ChatList},A=function(e){return C(e).id},T=Object(i.a)([y,A],(function(e,t){return Object(o.q)((function(e){var n=e.delivered,r=e.author;return n&&r===t}),e)}))(u),F=Object(i.a)([y,A],(function(e,t){return Object(o.q)((function(e){var n=e.seen,r=e.author;return n&&r===t}),e)}))(u),z=function(e,t){return Object(o.M)(y(e,t))},B={boosters:!0,form:!0,system_message:!0},M=Object(a.createSelector)([y,function(e){return C(e).id}],(function(e,t){return Object(o.r)((function(e){var n=e.author===t&&"message"===e.type,r=!!e.properties&&"file"===e.properties.serverType,i=!0===e.seen&&!B[e.type]&&e.serverId;return n&&!r||i}),e)})),L=function(e,t){return e.author!==t&&!e.seen&&!B[e.type]},P=function(e,t){var n=M(e,t),r=C(e).id;return y(e,t).slice(n+1).filter((function(e){return L(e,r)})).length},R=function(e,t){var n=M(e,t);if(-1===n)return null;var r=C(e).id,i=y(e,t).slice(n+1);return Object(o.o)((function(e){return L(e,r)}),i)},q=Object(i.a)([function(e,t){return p(e,t).participants},x],(function(e,t){return e.map((function(e){return t[e]}))}))(u),N=function(e,t,n){var r=e.localization[t];return n?Object.keys(n).reduce((function(e,t){return e.replace(new RegExp("%"+t+"%","g"),n[t])}),r):r};function V(e,t){if(void 0===t)return e.application;var n=t;return e.application[n]}},function(e,t,n){"use strict";n.d(t,"z",(function(){return w})),n.d(t,"a",(function(){return R})),n.d(t,"b",(function(){return we})),n.d(t,"c",(function(){return Ce})),n.d(t,"f",(function(){return Ee})),n.d(t,"g",(function(){return Be})),n.d(t,"h",(function(){return ge})),n.d(t,"i",(function(){return Lt})),n.d(t,"n",(function(){return ft})),n.d(t,"m",(function(){return pt})),n.d(t,"j",(function(){return Mt})),n.d(t,"k",(function(){return $e})),n.d(t,"l",(function(){return He})),n.d(t,"q",(function(){return z})),n.d(t,"v",(function(){return Nt})),n.d(t,"o",(function(){return Gt})),n.d(t,"p",(function(){return Ut})),n.d(t,"s",(function(){return at})),n.d(t,"w",(function(){return ct})),n.d(t,"x",(function(){return Yt})),n.d(t,"r",(function(){return rn})),n.d(t,"t",(function(){return nn})),n.d(t,"u",(function(){return cn})),n.d(t,"d",(function(){return xt})),n.d(t,"e",(function(){return An})),n.d(t,"y",(function(){return re}));var r={};n.r(r),n.d(r,"Root",(function(){return F})),n.d(r,"Maximized",(function(){return D})),n.d(r,"Minimized",(function(){return S}));var i=n(1),o=n(237),a=n(2),u=function(e){var t={};if(e.flexFill&&(t.flexGrow=1,t.maxWidth="100%"),e.flexFit&&(t.flexGrow=0),e.noShrink&&(t.flexShrink=0),e.ellipsis&&(t.whiteSpace="nowrap",t.overflow="hidden",t.textOverflow="ellipsis"),e.nowrap&&(t.whiteSpace="nowrap"),"isFocusVisible"in e&&(t["&:focus"]={outlineStyle:e.isFocusVisible?"auto":"none"}),e.preserveLines&&(t.whiteSpace="pre-line"),e.textWrap){var n="break-word";t.wordWrap=n,t.overflowWrap=n,t.wordBreak=n}return t},c=n(0),s=n(63),l=c.createContext(),d=function(e){var t=e.value,n=e.children;return c.createElement(s.d,{theme:t},c.createElement(l.Provider,{value:t},n))},f=n(8),p=function(e){return e.charAt(0)!==e.charAt(0).toLowerCase()},h=function(e,t){return p(t)},m=(a.Z.bind(null,h),a.eb.bind(null,h)),b={},v=function(e){if(!e)return b;var t=e.css,n=e.vars,r=Object(f.a)(e,["css","vars"]);return Object(i.a)({css:t,vars:n},function(e){return Object(a.A)((function(t){return p(t)?"components":Object(a.H)(e[t])?"propsDescriptions":"themeProps"}),e)}(r))},g=function(e){return function(t){return function(n){var r=n[e];if(!r)return n;var o=v(r),u=o.propsDescriptions,c=o.components;if(!u&&!c)return n;var s=function(e,t,n){void 0===n&&(n={});var r=Object(a.eb)((function(e,n){return t[n]}),n);return Object.keys(r).map((function(t){var n,o=r[t],a=v(o),u=a.themeProps,c=a.components;if(!u)return c;var s=((n={})[e]=u,n);return c?Object(i.a)({},s,c):s}))}(e,t,u);return Object(a.U)([n,c].concat(s).filter(Boolean))}}},y=function(e){var t=e.__ui_kit_name,n=g(t);return c.forwardRef((function(t,r){return c.createElement(d,{value:n(t)},c.createElement(e,Object(i.a)({},t,{ref:r})))}))},O=function e(t,n){var r=Object(a.db)(a.H,n);return 0===Object.keys(r)?n:Object(a.f)(Object(a.Q)((function(n,r){return Object(a.H)(n)?":"===r[0]?e(t,n):n[Object(a.o)((function(e){return t[e]}),Object.keys(n))]||n.default:n}),n))},j=function(e,t,n){var r=e.theme,o=e.style,a=v(r[t]),c=a.css,s=a.vars,l=a.themeProps;return[s?Object(i.a)({},r.vars,s):r.vars,"function"===typeof n&&void 0!==l&&n(l),c&&O(e,c),u(e),"function"===typeof n&&n(Object(i.a)({},l,e)),o]},w=function(e,t){void 0===t&&(t={});var n=t,r=n.displayName,i=n.displayType,a=n.mapPropsToStyles;var u=(0,o.a)(e,t);return function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];if(n.length>0&&void 0!==n[0].raw){var c=n;n=[c[0][0]];for(var s=1;s<c.length;s++)n.push(c[s],c[0][s])}var l=r||i||null,d=u.apply(void 0,n.concat([function(e){return j(e,l,a)}]));return d.__ui_kit_name=l,t.section?Object.defineProperty(y(d),"toString",{value:d.toString}):d}},_=n(10),x=n(343);var C=w("div",{displayName:"FixedWrapperMaximized",mapPropsToStyles:function(e){var t={};return e.theme&&(t.right="right"===e.theme.FixedWrapperRoot.position?"0":"auto",t.left="left"===e.theme.FixedWrapperRoot.position?"0":"auto"),e.animationDuration&&(t.transition="all "+e.animationDuration+"ms ease-out"),e.state&&(t.transform="entered"===e.state?"none":"scale(0.8) translate(10%, 30%)",t.opacity="entered"===e.state?"1":"0"),e.height&&(t.height=e.height),e.width&&(t.width=e.width),t},target:"ep7mz240"})({name:"1jmpskd",styles:"display:flex;flex-direction:column;max-height:100vh;position:absolute;bottom:0;@media (max-width: 490px){width:100%;height:100%;position:fixed;}"}),E=function(e){var t=Object(s.g)();return c.createElement(x.a,{in:e.active,mountOnEnter:!0,timeout:t.FixedWrapperMaximized.animationDuration,unmountOnExit:!0},(function(t){return c.createElement(C,Object(i.a)({},e,{state:t}),c.Children.map(e.children,(function(t){return c.cloneElement(t,{minimize:e.minimize})})))}))};E.propTypes={active:_.bool,children:_.node.isRequired,minimize:_.func,style:_.shape()};var D=E;var k=w("div",{displayName:"FixedWrapperMinimized",mapPropsToStyles:function(e){var t=e.state,n=e.theme,r={};return n&&(r.transition="all "+n.FixedWrapperMaximized.animationDuration+"ms ease-out",r.right="right"===n.FixedWrapperRoot.position?"0":"auto",r.left="left"===n.FixedWrapperRoot.position?"0":"auto"),t&&(r.transform="entered"===t?"none":"scale(0.8) translate(10%, 30%)",r.opacity="entered"===t?"1":"0"),r},target:"eq1nrcm0"})({name:"m2cnsn",styles:"width:60px;height:60px;position:absolute;bottom:1em"}),I=function(e){var t=Object(s.g)();return c.createElement(x.a,{in:e.active,mountOnEnter:!0,timeout:t.FixedWrapperMinimized.animationDuration,unmountOnExit:!0},(function(t){return c.createElement(k,Object(i.a)({},e,{state:t}),c.Children.map(e.children,(function(t){return c.cloneElement(t,{maximize:e.maximize})})))}))};I.propTypes={active:_.bool,children:_.node.isRequired,maximize:_.func,style:_.shape()};var S=I;var A=w("div",{displayName:"FixedWrapperRoot",mapPropsToStyles:function(e){var t={};return"right"===e.position?(t.right="1em",t.left="auto"):"left"===e.position&&(t.right="auto",t.left="1em"),t},target:"e7t7c040"})({name:"1inca8e",styles:"position:fixed;bottom:0;z-index:99;font-size:16px"}),T=function(e){var t=c.useState(e.maximizedOnInit),n=t[0],r=t[1];return c.createElement(A,e,c.createElement("div",null,c.Children.map(e.children,(function(e){return e.type===D?c.cloneElement(e,{minimize:function(){return r(!1)},active:n}):e.type===S?c.cloneElement(e,{maximize:function(){return r(!0)},active:!n}):e}))))};T.defaultProps={maximizedOnInit:!1},T.propTypes={children:_.node.isRequired,maximizedOnInit:_.bool,style:_.shape()};var F=T;var z=w("div",{mapPropsToStyles:function(e){var t={};return e.verticalAlign&&("top"===e.verticalAlign?t.alignItems="flex-start":"bottom"===e.verticalAlign?t.alignItems="flex-end":t.alignItems=e.verticalAlign),e.justify&&(!0===e.justify?t.justifyContent="space-between":"left"===e.justify?t.justifyContent="flex-start":"right"===e.justify?t.justifyContent="flex-end":t.justifyContent=e.justify),e.reverse&&(t.flexDirection="row-reverse"),t},target:"e108e6fy0"})({name:"14u08z3",styles:"display:flex;min-width:0"});var B=w(z,{displayName:"ChatListItem",mapPropsToStyles:function(e){return{background:e.active?"rgba(0, 0, 0, 0.1)":"rgba(0, 0, 0, 0)"}},section:!0,target:"edumshe0"})({name:"141f6e2",styles:"padding:0.5em;transition:background 0.2s;border-bottom:1px solid rgba(0, 0, 0, 0.1);&:hover{cursor:pointer;}"}),M=function(e){return c.createElement(B,e)};M.propTypes={active:_.bool,children:_.node.isRequired};var L=w(z,{displayName:"AgentBar",section:!0,target:"e1j58gbc0"})({name:"66u5jz",styles:"padding:1em"}),P=function(e){return c.createElement(L,Object(i.a)({verticalAlign:"center"},e))};P.propTypes={children:_.node};var R=P,q=n(4),N=n(108);var V=function(e){var t=e.color;return t?{fill:t,"& *":{fill:t}}:null},U=Object(a.R)((function(e){return w(e,{displayType:"Icon",mapPropsToStyles:V,shouldForwardProp:N.a,target:"e5ibypu0"})({name:"y0b0au",styles:"&{display:block;}&,& *{fill:currentColor;}"})})),H=function(e){var t=e.children,n=Object(f.a)(e,["children"]),r=U(t.type);return c.createElement(r,n)};H.propTypes={children:_.node.isRequired};var G=H,W=function(e){return c.createElement("svg",Object(i.a)({width:"8px",height:"13px",viewBox:"0 0 8 13"},e),c.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},c.createElement("g",{transform:"translate(-840.000000, -560.000000)",fill:"#424D57",fillRule:"nonzero"},c.createElement("g",{transform:"translate(845.000000, 567.000000) scale(-1, 1) translate(-845.000000, -567.000000) translate(831.000000, 553.000000)"},c.createElement("g",{transform:"translate(3.000000, 1.000000)"},c.createElement("polygon",{points:"8.59 17.34 13.17 12.75 8.59 8.16 10 6.75 16 12.75 10 18.75"}))))))},$=function(e){return c.createElement(G,e,c.createElement(W,null))},Z=function(e){return c.createElement("svg",Object(i.a)({width:"8px",height:"13px",viewBox:"0 0 8 13"},e),c.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},c.createElement("g",{transform:"translate(-1104.000000, -560.000000)",fill:"#424D57",fillRule:"nonzero"},c.createElement("g",{transform:"translate(1094.000000, 553.000000)"},c.createElement("g",{transform:"translate(2.000000, 1.000000)"},c.createElement("polygon",{points:"8.59 17.34 13.17 12.75 8.59 8.16 10 6.75 16 12.75 10 18.75"}))))))},Y=function(e){return c.createElement(G,e,c.createElement(Z,null))},K=function(e){return c.createElement("svg",Object(i.a)({viewBox:"0 0 58 58",style:{enableBackground:"new 0 0 58 58"}},e),c.createElement("rect",{style:{fillRule:"evenodd",clipRule:"evenodd",fill:"#F2F2F2"},width:"58",height:"58"}),c.createElement("path",{style:{fillRule:"evenodd",clipRule:"evenodd",fill:"#424D57"},d:"M40,38c7.3,3.8,11,8.4,11,13.9v6c0,0.2-0.1,0.3-0.2,0.4C47.9,62,6.1,62,6.1,58l0-0.1l0-0.1 v-6c0-5.5,3.7-10.1,11-13.9c1.2-0.7,2-0.2,2-0.2c2.5,2.3,5.8,3.7,9.5,3.7l-0.1,0l0.3,0c3.5-0.1,6.7-1.5,9.1-3.7 C38,37.8,38.8,37.3,40,38z M28.5,17C34.3,17,39,21.7,39,27.5S34.3,38,28.5,38S18,33.3,18,27.5S22.7,17,28.5,17z"}))},J=function(e){return c.createElement(G,e,c.createElement(K,null))},X=function(e){return c.createElement("svg",Object(i.a)({height:"18px",viewBox:"0 0 21 18",width:"21px"},e),c.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},c.createElement("g",{fill:"#000000"},c.createElement("polygon",{points:"0.01 18 21 9 0.01 0 0 7 15 9 0 11"}))))},Q=function(e){return c.createElement(G,e,c.createElement(X,null))},ee=n(20);function te(){var e=Object(ee.a)(["\n\t0% {\n\t\topacity: 1.0;\n\t}\n\n\t50% {\n\t\topacity: 0.4;\n\t}\n\n\t100% {\n\t\topacity: 1.0;\n\t}\n"]);return te=function(){return e},e}var ne=Object(q.e)(te()),re=Object(q.c)("animation:1.5s ease-in-out 0s infinite;animation-name:",ne,";");var ie=w("div",{target:"e11eolwx0"})({name:"3st5dg",styles:"width:100vw;max-width:100%;height:100%;display:flex;align-items:center;justify-content:center;background-color:#e5e5e5"}),oe={name:"1t9hbt0",styles:"width:32px;height:32px;fill:currentColor"},ae=function(e){return Object(q.d)(ie,e,Object(q.d)("svg",{viewBox:"0 0 32 32",css:[oe,re,""]},Object(q.d)("path",{d:"M6.1,22.1l5.3-4.8c0.4-0.3,1-0.3,1.3,0l3.2,2.8l6.5-5.8c0.4-0.3,1-0.3,1.3,0l2.3,2.1V9c0-0.6-0.4-1-1-1h-18 c-0.6,0-1,0.4-1,1L6.1,22.1C6.1,22,6.1,22,6.1,22.1z M8,23h8.1l-4.1-3.7L8,23z M19.1,23h5.9c0.6,0,1-0.4,1-1v-3l-3-2.7l-5.7,5.1 L19.1,23z M7.1,6h18c1.7,0,3,1.3,3,3v13c0,1.7-1.3,3-3,3h-18c-1.7,0-3-1.3-3-3V9C4.1,7.3,5.4,6,7.1,6z M15.1,16c-1.7,0-3-1.3-3-3 s1.3-3,3-3s3,1.3,3,3S16.8,16,15.1,16z M15.1,14c0.6,0,1-0.4,1-1s-0.4-1-1-1c-0.6,0-1,0.4-1,1S14.5,14,15.1,14z"})))},ue=function(e){return Object(q.d)(ie,e,Object(q.d)("svg",{viewBox:"0 0 32 32",css:oe},Object(q.d)("path",{d:"M3.6,5.1L3.6,5.1l24.1,21.1c0.4,0.4,0.5,1,0.1,1.4c-0.3,0.4-0.9,0.4-1.3,0.2l-0.1-0.1l-8.1-7.1l-2,1.8  l1.7,1.5h4l2.3,2l-0.1,0L24,26H6c-1.6,0-2.9-1.2-3-2.8L3,23L3,7.3L2.3,6.7c-0.4-0.4-0.5-1-0.1-1.4C2.6,4.9,3.1,4.9,3.6,5.1z   M11,20.3L6.9,24h8.1L11,20.3z M26,5c1.6,0,2.9,1.2,3,2.8L29,8v15.4l0,0l-2-1.7l0-3.7l-3-2.7l-2.2,2L20.3,16l3.1-2.8  c0.3-0.3,0.9-0.3,1.2-0.1l0.1,0.1l2.3,2.1V8c0-0.5-0.4-0.9-0.9-1L26,7H10L7.7,5l0.1,0L8,5H26z M5,9.1l0,14l5.3-4.8  c0.3-0.3,0.9-0.3,1.2-0.1l0.1,0.1l3.2,2.8l1.9-1.7L5,9.1z M20,8c1.7,0,3,1.3,3,3s-1.3,3-3,3s-3-1.3-3-3S18.3,8,20,8z M20,10  c-0.6,0-1,0.4-1,1s0.4,1,1,1s1-0.4,1-1S20.6,10,20,10z"})))},ce=n(512);function se(){var e=Object(ee.a)(["\n\t&-enter {\n\t\topacity: 0;\n\t\theight: 0;\n\t}\n\n\t&-enter&-enter-active {\n\t\topacity: 1;\n\t\theight: 1.2em;\n\t\ttransition: height 200ms ease-in-out, opacity 100ms ease-in-out 100ms;\n\t}\n\n\t&-exit {\n\t\topacity: 1;\n\t\theight: 1.2em;\n\t}\n\n\t&-exit&-exit-active {\n\t\topacity: 0;\n\t\theight: 0;\n\t\ttransition: height 100ms ease-in-out 100ms, opacity 200ms ease-in-out;\n\t}\n"]);return se=function(){return e},e}var le=function(e){return e(se())},de=function(e){return c.createElement(q.a,null,(function(t){var n=t.css;return c.createElement(ce.a,Object(i.a)({},e,{classNames:le(n),timeout:200}))}))};de.propTypes={children:_.node};var fe=de;function pe(){var e=Object(ee.a)(["\n\t&-enter {\n\t\topacity: 0;\n\t\ttransform: scale(1.2);\n\t}\n\n\t&-enter-active {\n\t\topacity: 1;\n\t\ttransform: scale(1);\n\t\ttransition: opacity ","ms ",", transform ","ms ",";\n\t}\n\n\t&-enter-done {\n\t\topacity: 1;\n\t\ttransform: scale(1);\n\t}\n"]);return pe=function(){return e},e}var he="cubic-bezier(0.14, 0, 0, 1)",me=function(e){return e(pe(),200,he,200,he)},be=function(e){return c.createElement(q.a,null,(function(t){var n=t.css;return c.createElement(ce.a,Object(i.a)({},e,{classNames:me(n),timeout:500}))}))},ve=function(e){var t=e.children,n=e.src,r=e.srcSet,o=(e.scaleImage,e.className),a=e.alt,u=void 0===a?"":a,s=Object(f.a)(e,["children","src","srcSet","scaleImage","className","alt"]),l=c.useState("pending"),d=l[0],p=l[1],h=c.useState(!1),m=h[0],b=h[1],v=c.useRef(0),g="loaded"===d,y=null;if(t)y=t({imageStatus:d,shouldAnimate:m});else switch(d){case"pending":y=c.createElement(ae,s);break;case"failed":y=c.createElement(ue,s);break;default:y=null}return c.useLayoutEffect((function(){return p("pending"),b(!1),v.current=setTimeout((function(){return b(!0)}),300),function(){return clearTimeout(v.current)}}),[n,r]),c.createElement(c.Fragment,null,c.createElement(be,{in:m&&g},c.createElement("img",Object(i.a)({alt:u},s,{src:n,srcSet:r,className:o,onLoad:function(){p("loaded"),clearTimeout(v.current)},onError:function(){return p("failed")},style:Object(i.a)({},!g&&{display:"none"})}))),y)};ve.propTypes={children:_.func};var ge=ve;var ye={name:"1wtwico",styles:"display:block;border-radius:inherit;width:100%;height:100%;object-fit:cover"},Oe=w("div",{displayName:"Avatar",mapPropsToStyles:function(e){var t={},n={},r=e.size,o=e.radius,a=e.fontSize;return r&&(t.width=r,t.height=r,t.lineHeight=r),o&&(t.borderRadius=o,n.borderRadius=o),a&&(t.fontSize=a),Object(i.a)({},t,{"& img":n})},target:"e11ezd0e0"})({name:"1f2to7",styles:"border:1px solid #fff;border-radius:50%;text-align:center;background-color:#fff;text-transform:uppercase;overflow:hidden"}),je=function(e){var t=e.imgUrl,n=e.letter,r=null;return t||n?t?r=Object(q.d)(ge,{src:t,css:ye,alt:"avatar"},(function(e){var t=e.imageStatus,n=e.shouldAnimate;switch(t){case"pending":return Object(q.d)(J,{css:[ye,n&&re,""]});case"failed":return Object(q.d)(J,{css:ye});default:return null}})):n&&(r=Object(q.d)("span",null,n)):r=Object(q.d)("div",{css:ye},Object(q.d)(J,{css:ye})),Object(q.d)(Oe,e,r)};je.propTypes={imgUrl:_.string,letter:_.string,size:_.string,style:_.shape()};var we=je;var _e={name:"1oep8ze",styles:"&>:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit;border-bottom-right-radius:0;border-bottom-left-radius:0;}&>:last-child{border-top-left-radius:0;border-top-right-radius:0;border-bottom-right-radius:inherit;border-bottom-left-radius:inherit;}&>:first-child:last-child{border-top-left-radius:inherit;border-top-right-radius:inherit;border-bottom-right-radius:inherit;border-bottom-left-radius:inherit;}"},xe=w("div",{displayName:"Bubble",mapPropsToStyles:function(e){var t=e.isOwn,n=e.ovalBorderRadius,r=e.sharpBorderRadius,i=e.radiusType,o={borderTopLeftRadius:"single"===i||"first"===i?n:r,borderTopRightRadius:n,borderBottomRightRadius:n,borderBottomLeftRadius:"single"===i||"last"===i?n:r};return t?function(e){var t=e.borderTopLeftRadius,n=e.borderTopRightRadius,r=e.borderBottomRightRadius;return{borderTopLeftRadius:n,borderTopRightRadius:t,borderBottomRightRadius:e.borderBottomLeftRadius,borderBottomLeftRadius:r}}(o):o},target:"emwkn670"})(_e,";border:1px solid rgba(0, 0, 0, 0.05);display:inline-block;max-width:100%;margin-bottom:0.1em;& img{max-width:100%;display:block;}");xe.propTypes={children:_.node,isOwn:_.bool,radiusType:_.oneOf(["single","first","last"])};var Ce=xe;var Ee=w("div",{target:"ek650k30"})({name:"1ojnsow",styles:"display:flex;flex-direction:column;min-width:0"}),De=w("div",{mapPropsToStyles:function(e){return{flexShrink:e.shrink?1:0}},target:"e1jdwequ0"})(""),ke=function(e){return c.createElement(De,Object(i.a)({flexFill:!0},e))};ke.defaultProps={shrink:!0},ke.propTypes={shrink:_.bool};var Ie=ke,Se=w("div",{mapPropsToStyles:function(e){return{flexShrink:e.shrink?1:0}},target:"e1yi1p4d0"})(""),Ae=function(e){return c.createElement(Se,Object(i.a)({flexFit:!0},e))};Ae.defaultProps={shrink:!0},Ae.propTypes={shrink:_.bool};var Te=n(16),Fe=w("button",{displayName:"IconButton",section:!0,target:"e1m5b1js0"})("appearance:none;background:transparent;border:0;display:inline-block;margin:0;padding:0.5em;color:inherit;&:hover{cursor:",(function(e){return e.disabled?"default":"pointer"}),";}"),ze=c.forwardRef((function(e,t){var n=Object(Te.f)();return c.createElement(Fe,Object(i.a)({ref:t},n,e))}));ze.propTypes={active:_.bool,disabled:_.bool,children:_.node.isRequired,color:_.string,onClick:_.func};var Be=ze,Me=n(33),Le=n(513),Pe=n(35),Re=n(14),qe=function(e){return e.getBoundingClientRect().top+window.pageYOffset},Ne=n(82);var Ve=c.createContext({registerUnseenListItem:a.V,isScrollOnBottom:a.V,scrollToBottom:a.V}),Ue=Ve.Provider,He=Ve.Consumer,Ge=function(e){void 0===e&&(e=0);var t=e;return function(){return t++}}(),We=w("div",{displayName:"MessageList",target:"e1i3n9g60"})({name:"1qptc4e",styles:"padding:0.5em;overflow-y:auto;height:100%;outline-offset:-5px"}),$e=c.forwardRef((function(e,t){var n=e.active,r=void 0===n||n,o=e.onScroll,u=Object(f.a)(e,["active","onScroll"]),s=c.useRef(),l=Object(Ne.a)(s,t),d=function(){var e=c.useRef([]);return{getAll:function(){return e.current},registerItem:c.useCallback((function(t){var n=Ge(),r=e.current;return r.push(Object(i.a)({},t,{id:n})),function(){var e=Object(a.p)((function(e){return e.id===n}),r);-1!==e&&r.splice(e,1)}}),[])}}(),p=d.getAll,h=d.registerItem,m=Object(Me.l)(r),b=Object(Me.l)(o),v=Object(Te.f)(),g=c.useCallback((function(){p().forEach((function(e){var t,n;(t=s.current,n=e.ref,qe(n)-qe(t)+n.clientHeight<=t.clientHeight)&&e.onSeen()}))}),[p]),y=c.useMemo((function(){return Object(a.tb)(300,(function(){m.current&&g()}))}),[m,g]),O=c.useCallback((function(e){y(),b.current&&b.current(e)}),[b,y]);c.useEffect((function(){r&&g()}),[r,g]);var j=c.useMemo((function(){return{registerUnseenListItem:h,isScrollOnBottom:function(){return e=s.current,void 0===(t=20)&&(t=0),e.scrollTop+e.clientHeight-e.scrollHeight>=-t;var e,t},scrollToBottom:function(){var e;(e=s.current).scrollTop=e.scrollHeight}}}),[h]);return c.createElement(Ue,{value:j},c.createElement(We,Object(i.a)({},v,u,{ref:l,onScroll:O,role:"grid","aria-live":"polite","aria-relevant":"additions"})))})),Ze=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this)._unregisterFromMessageList=a.V,t._registerInMessageList=Object(a.S)((function(e){return function(n){t._unregisterFromMessageList(),n&&(t._unregisterFromMessageList=e({ref:n,onSeen:t.props.onSeen}))}})),t}Object(Pe.a)(t,e);var n=t.prototype;return n.componentWillUnmount=function(){this._unregisterFromMessageList()},n.render=function(){var e=this;return c.createElement(He,null,(function(t){var n=t.registerUnseenListItem;return c.createElement("div",{ref:e.props.seen?null:e._registerInMessageList(n),role:"row"},c.Children.only(e.props.children))}))},t}(c.Component);Ze.propTypes={children:_.node.isRequired,onSeen:_.func},Ze.defaultProps={onSeen:a.V};var Ye=Ze;var Ke=w("div",{displayName:"Message",mapPropsToStyles:function(e){var t=e.horizontalAlign;return t?{flexDirection:"left"===t?"row":"row-reverse"}:null},section:!0,target:"e10ccb475"})({name:"gsl41n",styles:"display:flex;align-items:flex-start;font-size:0.9em;margin:0.3em;max-width:100%"}),Je=w("span",{displayName:"AuthorName",target:"e10ccb474"})({name:"1rawn5e",styles:"font-size:0.8em"}),Xe=w("div",{displayName:"MessageMeta",target:"e10ccb473"})({name:"1flj9lk",styles:"text-align:left"}),Qe=w("div",{displayName:"Content",target:"e10ccb472"})({name:"fabj5c",styles:"display:flex;flex-direction:column;overflow:hidden;align-items:flex-start"}),et=w("span",{displayName:"Time",target:"e10ccb471"})({name:"1rawn5e",styles:"font-size:0.8em"}),tt=w("div",{displayName:"Status",target:"e10ccb470"})({name:"5m4wg",styles:"text-align:right;font-size:0.8em"}),nt={name:"oldbq4",styles:"user-select:none"},rt=c.forwardRef((function(e,t){var n=e.children,r=e.authorName,o=e.deliveryStatus,u=void 0===o?"":o,c=e.isOwn,s=e.date,l=e.showMetaOnClick,d=e.onSeen,p=(e.radiusType,e.seen),h=e.enforceDeliveryStatusDisplay,m=e.onClick,b=void 0===m?a.V:m,v=e.onKeyUp,g=void 0===v?a.V:v,y=Object(f.a)(e,["children","authorName","deliveryStatus","isOwn","date","showMetaOnClick","onSeen","radiusType","seen","enforceDeliveryStatusDisplay","onClick","onKeyUp"]),O=Object(Te.f)(),j=Object(Me.x)(!1),w=j[0],_=j[1];return Object(q.d)(Ye,{onSeen:d,seen:p},Object(q.d)(Ke,Object(i.a)({ref:t,"aria-expanded":l?w:null},y,{onKeyUp:function(e){g(e),"Enter"!==e.key&&" "!==e.key||_()},onClick:function(e){b(e),_()},own:c,tabIndex:null}),Object(q.d)(Qe,Object(i.a)({role:"gridcell"},O),Object(q.d)(Le.a,null,(!l||w)&&Object(q.d)(fe,null,Object(q.d)(Xe,null,r&&Object(q.d)(Je,null,r," "),s&&Object(q.d)(et,null,s)))),n,u?Object(q.d)(tt,null,u):h?Object(q.d)(tt,{css:nt},"\xa0"):null)))}));rt.propTypes={authorName:_.oneOfType([_.string,_.node]),authorOpen:_.bool,children:_.node,date:_.string,deliveryStatus:_.string,enforceDeliveryStatusDisplay:_.bool,isOwn:_.bool,onClick:_.func,onSeen:_.func,showMetaOnClick:_.bool,style:_.shape(),toggleAuthor:_.func,radiusType:_.oneOf(["single","first","last"]),seen:_.bool},rt.defaultProps={onClick:a.V,seen:!1};var it=rt;var ot=w("div",{displayName:"SubTitle",target:"e1fut3qs0"})({name:"1ecjc06",styles:"font-weight:300;opacity:0.7"});ot.defaultProps={textWrap:!0};var at=ot;var ut=w("div",{displayName:"Title",target:"e9xf8br0"})({name:"mmvz9h",styles:"font-weight:400"});ut.defaultProps={textWrap:!0};var ct=ut;Object(a.ab)(console.warn.bind(console));var st=w("div",{displayName:"MessageTitle",target:"e1ykjxgu0"})({name:"1kj42yy",styles:"font-weight:600;padding:1em"}),lt={name:"11rcwxl",styles:"margin-bottom:4px"},dt=function(e){var t=e.children,n=e.title,r=e.subtitle,i=Object(f.a)(e,["children","title","subtitle"]);var o=t||[n&&Object(q.d)(ct,{key:"title",preserveLines:!0,css:lt},n),r&&Object(q.d)(at,{key:"subtitle",preserveLines:!0},r)];return Object(q.d)(st,i,o)};dt.propTypes={children:_.oneOfType([_.arrayOf(_.node),_.node]),subtitle:_.string,title:_.string};var ft=dt;var pt=w("div",{displayName:"MessageText",target:"eovu8nx0"})({name:"tzdp72",styles:"white-space:pre-line;word-wrap:break-word;overflow-wrap:break-word;max-width:100%;padding:1em"});var ht=w("div",{displayName:"MessageMedia",mapPropsToStyles:function(e){var t=e.style||{};return{img:{borderTopLeftRadius:t.borderTopLeftRadius,borderTopRightRadius:t.borderTopRightRadius,borderBottomRightRadius:t.borderBottomRightRadius,borderBottomLeftRadius:t.borderBottomLeftRadius}}},target:"evmhqt80"})({name:"d3v9zr",styles:"overflow:hidden"}),mt="rgba(0, 0, 0, 0.1)",bt="1px solid "+mt,vt=w("div",{displayName:"MessageButtons",target:"edowbh60"})(_e,";&>:first-child{border-top:",bt,";}&:first-child>:first-child{border-top:0;}&>:last-child{border-bottom:",bt,";}&:last-child>:last-child{border-bottom:0;}>*{border-color:",mt,"!important;}"),gt=n(21),yt=n(134),Ot=n(19);var jt=Object(gt.a)(.2),wt=w(c.forwardRef((function(e,t){var n=e.href,r=Object(f.a)(e,["href"]);return n?c.createElement("a",Object(i.a)({href:n,rel:"nofollow noopener"},r,{ref:t})):c.createElement("button",Object(i.a)({},r,{ref:t}))})),{displayName:"Button",mapPropsToStyles:function(e){var t=e.primary?e.theme.vars["--primary-color"]:"black",n=jt(t);return{borderColor:t,color:t,"&:hover":{color:n,borderColor:n}}},shouldForwardProp:N.a,target:"e1972fzd0"})({name:"1x6954b",styles:"border-width:1px;border-style:solid;background-color:#fff;font-size:1em;font-family:inherit;line-height:1.4em;text-align:center;text-decoration:none;appearance:none;padding:0.8em;transition:box-shadow 0.1s,color 0.1s,border-color 0.2s;&:hover{cursor:pointer;}&:active{box-shadow:none;outline:none;}&[disabled]{pointer-events:none;}"}),_t=function(e){var t=e.label,n=e.onPress,r=e.disabled,o=Object(f.a)(e,["label","onPress","disabled"]),a=Object(Te.f)(),u=c.useRef(),s=Object(yt.a)(Object(i.a)({onPress:n,isDisabled:r},o),u).buttonProps;return c.createElement(wt,Object(Ot.h)(a,s,o,{ref:u}),t)};_t.propTypes={label:_.oneOfType([_.string,_.node])};var xt=_t,Ct=w(xt,{target:"e121y1dq0"})("display:inline-block;width:100%;border-left:0;border-right:0;border-top:0;border-bottom-color:rgba(0, 0, 0, 0.1);box-shadow:none;transition:background-color 0.1s;background:transparent;color:",(function(e){return e.disabled?"#8D9BA9":"inherit"}),";margin:0;&:hover{border-bottom-color:rgba(0, 0, 0, 0.15);background:rgba(0, 0, 0, 0.02);color:inherit;}&:active{background:rgba(0, 0, 0, 0.04);color:inherit;}"),Et=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){e.stopPropagation(),t.props.onClick(e)},t}return Object(Pe.a)(t,e),t.prototype.render=function(){return c.createElement(Ct,Object(i.a)({},this.props,{onClick:this.handleClick}))},t}(c.Component);Et.propTypes={className:_.string,label:_.string,onClick:_.func,primary:_.bool,value:_.oneOfType([_.string,_.number])},Et.defaultProps={onClick:a.V};var Dt=function(e){return c.Children.toArray(e).filter(Boolean)};var kt={radiusType:"single"},It={radiusType:"first"},St={radiusType:"last"},At={authorName:null,date:null},Tt=w("div",{displayName:"MessageGroup",mapPropsToStyles:function(e){return e.isOwn?{flexDirection:"row-reverse"}:null},target:"eslhdd61"})({name:"a5a8k1",styles:"display:flex;margin-bottom:1em"}),Ft=w("div",{target:"eslhdd60"})("display:flex;flex-direction:column;align-items:center;text-align:center;font-size:0.7em;line-height:1.6em;",(function(e){return{minWidth:e.theme.Avatar.size,margin:e.isOwn?"0 0 0 .3em":"0 .3em 0 0"}}),";"),zt={name:"d3v9zr",styles:"overflow:hidden"},Bt=function(e){var t=e.avatar,n=e.avatarLetter,r=e.children,o=e.onlyFirstWithMeta,a=Object(f.a)(e,["avatar","avatarLetter","children","onlyFirstWithMeta"]),u=Dt(r),s=c.Children.count(u);return Object(q.d)(Tt,a,(t||n)&&Object(q.d)(Ft,{flexFit:!0,isOwn:a.isOwn},Object(q.d)(we,{imgUrl:t,letter:n})),Object(q.d)(Ie,{css:zt},c.Children.map(u,(function(e,t){if(1===s)return Object(c.cloneElement)(e,kt);if(0===t)return Object(c.cloneElement)(e,It);var n=o&&t>0;return t===s-1?Object(c.cloneElement)(e,n?Object(i.a)({},St,At):St):n?Object(c.cloneElement)(e,At):e}))))};Bt.propTypes={avatar:_.string,avatarLetter:_.string,children:_.node,isOwn:_.bool,onlyFirstWithMeta:_.bool};var Mt=Bt,Lt=it,Pt="#fff",Rt={vars:{"primary-color":"#427fe1","secondary-color":"#fbfbfb","tertiary-color":Pt},AgentBar:{Avatar:{size:"42px",css:{marginRight:".6em"}},css:{backgroundColor:"var(--secondary-color)"}},Avatar:{size:"30px"},Bubble:{sharpBorderRadius:"0.3em",ovalBorderRadius:"1.4em",css:{backgroundColor:{default:"var(--secondary-color)",bot:"green"}}},Button:{},ChatListItem:{Avatar:{css:{marginRight:".5em"}}},FixedWrapperMaximized:{animationDuration:100,width:"400px",height:"500px"},FixedWrapperMinimized:{animationDuration:100},FixedWrapperRoot:{position:"right",css:{}},Message:{secondaryTextColor:"#000",horizontalAlign:"left",own:{horizontalAlign:"right",Bubble:{css:{backgroundColor:"var(--primary-color)",color:Pt}},Content:{css:{alignItems:"flex-end"}},MessageMeta:{css:{textAlign:"right"}},Time:{css:{textAlign:"right"}}},bot:{Bubble:{css:{backgroundColor:"green"}}}},MessageButtons:{},MessageGroup:{},MessageList:{css:{backgroundColor:"var(--tertiary-color)"}},MessageMedia:{},MessageText:{},MessageTitle:{},QuickReply:{css:{borderColor:"var(--primary-color)",backgroundColor:"#fff",color:"var(--primary-color)"}},TextComposer:{inputColor:"#000",Icon:{color:"#aaa"},IconButton:{active:{Icon:{color:"var(--primary-color)"}}}},TitleBar:{iconsColor:"#fff",behaviour:"default",css:{backgroundColor:"var(--primary-color)"}}},qt=function e(t){var n=m(t);return 0===Object.keys(n).length?Object(i.a)({},t,{vars:Object(a.O)((function(e){return"--"+e}),t.vars||{})}):Object(i.a)({},t,Object(a.P)((function(t){return Object(i.a)({},e(t),{css:t.css||{}})}),n),{vars:Object(a.O)((function(e){return"--"+e}),t.vars||{})})},Nt=function(e){var t=e.theme,n=void 0===t?{}:t,r=e.children,i=qt(Object(a.T)(Rt,n));return c.createElement(d,{value:i},r)};var Vt=w("button",{displayName:"QuickReply",target:"e1gt5po80"})({name:"hta3ic",styles:"border-width:1px;border-style:solid;font-size:1em;line-height:1em;appearance:none;transition:box-shadow 0.1s,color 0.1s,border-color 0.2s;margin:0.25em;background-color:#fff;border-radius:1.4em;box-shadow:0 0.1em 0.1em 0 rgba(32, 34, 40, 0.05);font-weight:400;overflow:hidden;padding:0.375em 1em 0.5em;word-break:break-word;&:hover{cursor:pointer;}&:active{outline:none;}"}),Ut=function(e){var t=e.value,n=e.onSelect,r=void 0===n?a.V:n,o=e.onClick,u=void 0===o?a.V:o,s=Object(f.a)(e,["value","onSelect","onClick"]),l=Object(Te.f)(),d=c.useCallback((function(e){r(t),u(e)}),[u,r,t]);return c.createElement(Vt,Object(i.a)({value:t},s,l,{onClick:d}))};Object(a.ab)(console.warn.bind(console));var Ht=w("div",{displayName:"QuickReplies",target:"e1dnb9qc0"})({name:"1q028wg",styles:"display:flex;flex-wrap:wrap;text-align:center;justify-content:center;width:100%"}),Gt=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this)._handleSelect=function(e){return t.props.onSelect(e)},t}return Object(Pe.a)(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.children,r=t.replies,o=(t.onSelect,Object(f.a)(t,["children","replies","onSelect"]));var a=n?Dt(n):r.map((function(e,t){return c.createElement(Ut,{key:t,value:e},e)}));return c.createElement(Ht,Object(i.a)({},o,{role:"group"}),c.Children.map(a,(function(t){return Object(c.cloneElement)(t,{onSelect:e._handleSelect})})))},t}(c.Component);Gt.defaultProps={onSelect:a.V},Gt.propTypes={children:_.node,onSelect:_.func,replies:_.arrayOf(_.string)};var Wt=w("div",{displayName:"TitleBar",section:!0,target:"e1ohfhv1"})({name:"1rw1ajx",styles:"display:flex;justify-content:center;align-items:center;width:100%;border:#000;color:#fff;position:relative;z-index:2;text-align:center;padding:0.4em"}),$t=w("div",{displayName:"TitleBarTitle",target:"e1ohfhv0"})({name:"1tbgouq",styles:"width:100%;margin:0;margin-bottom:4px;padding:0 2px;text-align:center;font-size:0.9em;flex-grow:1"}),Zt=function(e){var t=e.leftIcons,n=e.rightIcons,r=e.title,i=Object(f.a)(e,["leftIcons","rightIcons","title"]);return c.createElement(Wt,i,t,c.createElement($t,{ellipsis:!0},r),n)};Zt.propTypes={leftIcons:_.arrayOf(_.node),rightIcons:_.arrayOf(_.node),theme:_.shape(),title:_.node};var Yt=Zt,Kt=function(e){return 13===e.which},Jt=function(e){return Kt(e)&&(e.altKey||e.shiftKey)},Xt=function(e){return Kt(e)&&!e.altKey&&!e.shiftKey};var Qt=c.createContext(),en=function(){return c.useContext(Qt)},tn=w("div",{displayName:"TextComposer",section:!0,target:"eyij3xx0"})({name:"1xbhw8e",styles:"padding:0;background:#fff;border-top:1px solid rgba(0, 0, 0, 0.1)"}),nn=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).state={value:t._getValue({value:t.props.defaultValue})},t._handleButtonClick=function(e){t.maybeSend()&&t.props.onButtonClick(e)},t._handleChange=function(e){var n=e.target.value;t._isControlled()||t.setState({value:n}),t.props.onValueChange(n),t.props.onChange(e)},t._handleInputRef=function(e){t._inputRef=e},t._handleKeyDown=function(e){var n=t.props.onKeyDown;Xt(e)&&e.preventDefault(),Kt(e)&&!Jt(e)?(t.maybeSend(),n(e)):n(e)},t.maybeSend=function(){return!!t._canSend()&&(t._isControlled()||t.setState({value:""}),t.props.onValueChange(""),t.props.onSend(Object(a.yb)(t._getValue())),!0)},t}Object(Pe.a)(t,e);var n=t.prototype;return n._getValue=function(e,t){return void 0===e&&(e=this.state),void 0===t&&(t=this.props),this._isControlled()?t.value:e.value},n._canSend=function(){return this.props.active&&""!==this._getValue().trim()},n._isControlled=function(){return"string"===typeof this.props.value},n._setCursorAtTheEnd=function(){var e=this._inputRef.value.length;this._inputRef.setSelectionRange(e,e)},n.componentDidMount=function(){this.props.defaultValue&&this._inputRef&&document.activeElement===this._inputRef&&this._setCursorAtTheEnd()},n.componentDidUpdate=function(e,t){var n=this._getValue();n!==this._getValue(t,e)&&""===n&&this._inputRef.focus()},n.render=function(){var e=this.props,t=(e.active,e.children),n=(e.defaultValue,e.onButtonClick,e.onChange,e.onKeyDown,e.onSend,e.onValueChange,e.value,Object(f.a)(e,["active","children","defaultValue","onButtonClick","onChange","onKeyDown","onSend","onValueChange","value"])),r={active:this._canSend(),inputRef:this._handleInputRef,value:this._getValue(),maybeSend:this.maybeSend,onButtonClick:this._handleButtonClick,onChange:this._handleChange,onKeyDown:this._handleKeyDown};return c.createElement(Qt.Provider,{value:r},c.createElement(tn,n,t))},t}(c.Component);nn.propTypes={active:_.bool,children:_.node,defaultValue:_.string,onButtonClick:_.func,onChange:_.func,onKeyDown:_.func,onSend:_.func,value:_.string},nn.defaultProps={active:!0,defaultValue:"",onButtonClick:a.V,onChange:a.V,onKeyDown:a.V,onSend:a.V,onValueChange:a.V};var rn=function(e){var t=e.icon,n=e.onClick,r=void 0===n?a.V:n,o=Object(f.a)(e,["icon","onClick"]),u=en(),s=u.active,l=u.onButtonClick;return c.createElement(Be,Object(i.a)({},o,{active:s,disabled:!s,onClick:function(e){s&&(l(e),r(e))}}),t?c.createElement(G,{"aria-hidden":!0},t):c.createElement(Q,null))},on=n(232),an=n(74);var un=w(c.forwardRef((function(e,t){e.flexFill;var n=Object(f.a)(e,["flexFill"]);return c.createElement(on.a,Object(i.a)({ref:t},n))})),{displayName:"TextInput",target:"e1m92qam0"})({name:"1c0v4at",styles:"appearance:none;border:0;resize:none;background-color:#fff;height:1.5em;line-height:1.5em;min-width:0;width:100%;font-size:1em;&:focus,&:active{outline:none;}"}),cn=c.forwardRef((function(e,t){var n=e.maxRows,r=void 0===n?3:n,o=e.placeholder,a=void 0===o?"Write a message...":o,u=Object(f.a)(e,["maxRows","placeholder"]),s=c.useRef(),l=Object(Ne.a)(s,t),d=en(),p=d.value,h=d.inputRef,m=d.onChange,b=d.onKeyDown,v=Object(an.useFrame)().document;return c.createElement(un,Object(i.a)({},u,{onChange:function(e){m(e),u.onChange&&u.onChange(e)},onKeyDown:function(e){b(e),u.onKeyDown&&u.onKeyDown(e)},value:p,maxRows:r,placeholder:a,ref:function(e){l(e),h(e)},document:v}))})),sn=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleButtonClick=function(e){return function(n){t.props.onButtonClick(n,e)}},t}return Object(Pe.a)(t,e),t.prototype.render=function(){var e=this,t=null,n=Object(a.p)((function(e){return e.showMore}),this.props.buttons);if(-1!==n){var r=this.props.buttons[n],o=r.text,u=Object(f.a)(r,["text"]);t=c.createElement(Et,Object(i.a)({},u,{label:o,"data-variant":"show-more",onClick:this.handleButtonClick(n)}))}return c.createElement(c.Fragment,null,c.createElement(vt,null,this.props.buttons.map((function(t,r){var o=t.text,a=t.key,u=(t.showMore,Object(f.a)(t,["text","key","showMore"])),s=void 0!==a?a:r;return r!==n?c.createElement(Et,Object(i.a)({key:s,label:o.length>20?o.slice(0,20).trim()+"\u2026":o,onClick:e.handleButtonClick(s)},u)):null}))),t)},t}(c.Component);sn.defaultProps={onButtonClick:a.V};var ln=sn,dn=function(e){return e.stopPropagation()},fn=function(e){return Object(q.d)("a",Object(i.a)({},e,{onClick:dn,rel:"nofollow noopener",target:"_blank"}))},pn=function(e){return Object(q.c)("display:block;width:100%;height:",e?"100%":"150px",";object-fit:cover;")},hn=w("div",{target:"e9ztsyy0"})("display:flex;margin:0 auto;overflow:hidden;width:100%;min-width:110px;height:",(function(e){return e.horizontalLayout?"100%":"150px"}),";align-items:center;justify-content:center;background:#fff;"),mn=function(e){var t=e.link,n=e.url,r=e.srcset,o=e.horizontalLayout,a=Object(f.a)(e,["link","url","srcset","horizontalLayout"]),u=Object(q.d)(ht,a,Object(q.d)(hn,{horizontalLayout:o},Object(q.d)(ge,Object(i.a)({alt:"",css:pn(o)},function(e,t){var n={src:e};return void 0!==t&&(n.srcSet=t),n}(n,r)))));return t?Object(q.d)(fn,{href:t,style:a.style},u):u};mn.propTypes={link:_.string,url:_.string.isRequired,srcSet:_.string};var bn=mn;var vn={name:"oipjxo",styles:"width:230px"},gn={name:"ho1qnd",styles:"display:flex;flex-direction:row"},yn={name:"1mb649y",styles:"max-width:110px"},On=w("div",{target:"es7wtci0"})("width:230px;min-width:0px;max-width:",(function(e){return e.horizontalLayout?"66%":"100%"}),";"),jn={borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit",borderBottomRightRadius:0,borderBottomLeftRadius:0},wn={borderTopLeftRadius:"inherit",borderTopRightRadius:0,borderBottomRightRadius:0,borderBottomLeftRadius:"inherit"},_n=(c.Component,n(233));var xn=w("div",{target:"epptpc33"})({name:"1u909ow",styles:"position:relative;width:100%;display:flex"}),Cn={name:"fol00x",styles:"scrollbar-width:none;-ms-overflow-style:none;&::-webkit-scrollbar{display:none;}"},En=w("div",{target:"epptpc32"})("display:flex;width:100%;overflow-x:auto;-webkit-overflow-scrolling:touch;align-items:flex-start;",Cn," ",(function(e){var t,n=e.padding,r=e.dir;return Object(i.a)({},"undefined"!==typeof n&&{padding:n},{"> :not(:last-child)":(t={},t["rtl"===r?"marginLeft":"marginRight"]=8,t)})}),";"),Dn=w("div",{target:"epptpc31"})({name:"1blnsxj",styles:"flex-grow:0;flex-shrink:0"}),kn=w("button",{target:"epptpc30"})("position:absolute;width:30px;height:30px;border-radius:50%;background:#fff;border:0;box-shadow:0 4px 12px rgba(0, 0, 0, 0.3);text-align:center;top:32%;display:flex;align-items:center;justify-content:center;padding:0;z-index:1;outline:0;-webkit-transform:translate3d(0, 0, 0);&:hover{cursor:pointer;}svg{display:inline;}",(function(e){var t;return(t={})[e.variant]=".5em",t}),";"),In=function(e){var t=e.itemCount;return t*e.itemWidth+(t-1)*e.spacing},Sn=function(e){var t=e.clientWidth,n=e.scrollableElement,r=e.currentX,i=e.nextX,o=e.scrollDirection,a=e.isRtl,u=n.firstElementChild.getBoundingClientRect().width,c=function(e,t){if(e.length<2)return 0;var n=e[0],r=e[1],i=n.getBoundingClientRect(),o=r.getBoundingClientRect();return t?i.left-o.right:o.left-i.right}(n.children,a),s=(a?n.lastElementChild:n.firstElementChild).getBoundingClientRect().left-n.getBoundingClientRect().left+r,l=function(e){var t=e.x,n=e.scrollDirection,r=(t-e.leftElementXOffset)/(e.itemWidth+e.spacing);return 1===n?Math.floor(r):Math.ceil(r)}({x:i,scrollDirection:o,leftElementXOffset:s,itemWidth:u,spacing:c});if(u>t)return s+(1===o?l+1:l-1)*(u+c);var d=s+l*(u+c),f=Math.floor(t/(u+c)),p=In({itemCount:f,itemWidth:u,spacing:c});return d+(p+u<=t?In({itemCount:f+1,itemWidth:u,spacing:c}):p)/2-t/2},An=function(e){var t=e.children,n=e.scrollableElementPadding,r=e.dir,o=c.useRef(0),u=c.useRef(null),s=Object(Te.f)().isFocusVisible,l=c.useState(!0),d=l[0],f=l[1],p=c.useState(!0),h=p[0],m=p[1],b=Object(Me.j)(),v=b[0],g=b[1],y=Object(Me.t)("x",u),O=!(v&&s),j=c.useCallback((function(){var e=u.current;e&&(f(!function(e){if("ltr"===getComputedStyle(e).direction)return e.scrollLeft<=1;var t=e.scrollWidth-e.clientWidth;switch(Object(Re.g)()){case"negative":return e.scrollLeft<=1-t;case"positive-ascending":return e.scrollLeft>=t-1;case"positive-descending":return e.scrollLeft<=1}}(e)),m(!function(e){var t=getComputedStyle(e).direction,n=e.scrollWidth-e.clientWidth;if("ltr"===t)return e.scrollLeft>=n-1;switch(Object(Re.g)()){case"negative":return e.scrollLeft>=-1;case"positive-ascending":return e.scrollLeft<=1;case"positive-descending":return e.scrollLeft>=n-1}}(e)))}),[]),w=c.useMemo((function(){return Object(a.tb)(200,j)}),[j]);Object(Me.n)((function(){var e=requestAnimationFrame(j),t=new _n.a(Object(a.h)(200,j));return t.observe(u.current),function(){cancelAnimationFrame(e),t.disconnect()}}));var _=function(e){o.current+=e,o.current<0?o.current=0:o.current>=t.length&&(o.current=t.length-1);var n=u.current,i=n.clientWidth,a=n.scrollWidth,c="rtl"===r,s=function(e,t){var n=e.scrollWidth-e.clientWidth;if(t)switch(Object(Re.g)()){case"negative":return n+e.scrollLeft;case"positive-ascending":return n-e.scrollLeft;case"positive-descending":return e.scrollLeft}return e.scrollLeft}(n,c),l=s+e*i,d=1===e?Math.min(l,a-i):Math.max(l,0),f=l===d?Sn({clientWidth:i,scrollableElement:n,currentX:s,nextX:l,scrollDirection:e,isRtl:c}):d;if(c)switch(Object(Re.g)()){case"negative":return void y(-a+i+f);case"positive-ascending":return void y(a-i-f);case"positive-descending":return void y(f)}else y(f)};return c.createElement(xn,null,O&&d&&c.createElement(kn,{variant:"left","aria-label":"Previous item",onClick:function(e){e.stopPropagation(),_(-1)}},c.createElement($,{"aria-hidden":!0})),c.createElement(En,Object(i.a)({dir:r,tabIndex:-1,ref:u,onScroll:w,padding:n},g),c.Children.map(t,(function(e,t){return c.createElement(Dn,{onFocus:function(){return _(Object(a.mb)(t-o.current))}},e)}))),O&&h&&c.createElement(kn,{variant:"right","aria-label":"Next item",onClick:function(e){e.stopPropagation(),_(1)}},c.createElement(Y,{"aria-hidden":!0})))}},,function(e,t,n){"use strict";n.d(t,"c",(function(){return d})),n.d(t,"g",(function(){return f})),n.d(t,"H",(function(){return p})),n.d(t,"E",(function(){return h})),n.d(t,"U",(function(){return m})),n.d(t,"D",(function(){return b})),n.d(t,"n",(function(){return g})),n.d(t,"r",(function(){return y})),n.d(t,"e",(function(){return O})),n.d(t,"l",(function(){return j})),n.d(t,"q",(function(){return w})),n.d(t,"x",(function(){return _})),n.d(t,"f",(function(){return x})),n.d(t,"z",(function(){return C})),n.d(t,"lb",(function(){return E})),n.d(t,"Z",(function(){return D})),n.d(t,"db",(function(){return k})),n.d(t,"G",(function(){return I})),n.d(t,"J",(function(){return S})),n.d(t,"kb",(function(){return A})),n.d(t,"p",(function(){return F})),n.d(t,"k",(function(){return z})),n.d(t,"h",(function(){return B})),n.d(t,"F",(function(){return M})),n.d(t,"s",(function(){return L})),n.d(t,"eb",(function(){return P})),n.d(t,"o",(function(){return R})),n.d(t,"t",(function(){return q})),n.d(t,"i",(function(){return N})),n.d(t,"S",(function(){return V})),n.d(t,"T",(function(){return U})),n.d(t,"L",(function(){return H})),n.d(t,"ib",(function(){return W})),n.d(t,"fb",(function(){return $})),n.d(t,"gb",(function(){return Z})),n.d(t,"w",(function(){return Y})),n.d(t,"R",(function(){return K})),n.d(t,"hb",(function(){return J})),n.d(t,"A",(function(){return X})),n.d(t,"ab",(function(){return Q})),n.d(t,"jb",(function(){return ee})),n.d(t,"bb",(function(){return ne})),n.d(t,"K",(function(){return re})),n.d(t,"cb",(function(){return ie})),n.d(t,"j",(function(){return ae})),n.d(t,"N",(function(){return ue})),n.d(t,"I",(function(){return ce})),n.d(t,"d",(function(){return se})),n.d(t,"O",(function(){return le})),n.d(t,"mb",(function(){return de})),n.d(t,"X",(function(){return fe})),n.d(t,"M",(function(){return pe})),n.d(t,"C",(function(){return he})),n.d(t,"Y",(function(){return me})),n.d(t,"P",(function(){return be})),n.d(t,"a",(function(){return ve})),n.d(t,"m",(function(){return ye})),n.d(t,"b",(function(){return Oe})),n.d(t,"Q",(function(){return je})),n.d(t,"W",(function(){return we})),n.d(t,"B",(function(){return _e})),n.d(t,"V",(function(){return xe})),n.d(t,"y",(function(){return Ee})),n.d(t,"v",(function(){return De})),n.d(t,"u",(function(){return ke}));var r=n(2),i=n(3),o=n(49),a=n(62),u=n(68),c=n(6),s=n(23),l=n(18),d=function(e,t){var n=t.getChat(e).properties.currentAgent;return n?t.getUser(n):null},f=function(e,t){return t.getApplicationState("config").features[e]},p=function(e){return f("continuousChat",e).enabled},h=function(e){return f("chatHistory",e).enabled},m=function(e){return!!e.getView("Chat")[i.d].hasDividers},b=function(e){return U(e)&&!p(e)},v=function(e,t,n){var i=t.authorPredicate,o=t.lastSeenPredicate,a=n.getEvents(e),u=Object(r.r)(o,a),c=Object(r.sb)((function(e){return i(e)||!e.seen}),u,a);return Object(r.hb)(i,c)},g=function(e,t,n){var r=n.getSessionUserId();return v(e,{authorPredicate:function(e){return e.author!==r},lastSeenPredicate:function(e){return(e.serverTimestamp||e.timestamp)<=t}},n)},y=function(e,t,n){var r=n.getSessionUserId();return v(e,{authorPredicate:function(e){return e.author===r},lastSeenPredicate:function(e){return e.timestamp<=t}},n)},O=function(e,t,n){var o=e.getEvent(t,n);if(o.type===i.g&&null===o.serverId){var a=Object(r.q)((function(e){return e.type===i.g}),e.getEvents(t));return o.id===a.id?e.localize("not_sent_yet"):null}if(!o.own)return null;if(o.failed)return"Message not sent";if(o.seen){var u=e.getLastSeenEvent(t);return u&&n===u.id?e.localize("message_read"):null}var c=e.getLastDeliveredEvent(t);return c&&n===c.id?e.localize("message_delivered"):null},j=function(e){var t=e.getApplicationState("config");return!0===e.getApplicationState("mobile")?t.mobileMinimizedType:t.minimizedType},w=function(e){var t=e.getApplicationState("config");return!0===e.getApplicationState("mobile")?t.mobileScreenPosition:t.screenPosition},_=function(e,t){return h(e)&&e.getChat(t).properties.hasMoreHistory},x=function(e,t){var n=e.getChat(t).properties.fakeAgentMessageId;return n?e.getEvent(t,n):null},C=function(e,t){return!!x(e,t)},E=function(e){var t=e.getApplicationState(),n=t.embedded,r=t.actingAsDirectLink,i=t.isInCustomContainer;return!!n&&!r&&!i},D=function(e,t){var n=t.getChat(i.d),o=n.active,a=n.properties.queued;if(o||a)return!1;var u=t.getApplicationState(),c=u.availability,l=u.readyState;return"online"===c&&(l===s.a.NOT_READY||(!we(t,"maximized")||Object(r.F)(t.getEvents(e))))},k=function(e,t){if(h(t))return!1;var n=t.getApplicationState(),r=n.availability,i=n.embedded,o=n.actingAsDirectLink,a=n.isInCustomContainer,u=t.getChat(e);return i&&!o&&!a&&!u.active&&!u.properties.ended&&"offline"===r&&!U(t)},I=function(e){return e.getConnectionState()===o.a},S=function(e){return e.getConnectionState()===o.b},A=function(e){return e.getConnectionState()===o.d||S(e)},T=function e(t,n){if(n<0)return null;var r=t[n];return r.own&&"message"===r.type?null:"system_message"===r.type||"rich_message_postback"===r.type?e(t,n-1):r.properties.quickReplies?r:null},F=function(e,t){var n=t.getEvents(e),r=T(n,n.length-1);return r&&(r.properties.invitation||t.getChat(e).active)?r:null},z=function(e,t){var n=t.getApplicationState().availability,r=t.getChat(e),i=r.active,o=r.properties,a=o.queued,u=o.ended;if(a)return t.localize("embedded_waiting_for_operator");var c=d(e,t);return i&&c?t.localize("embedded_chat_with",{operator:c.name}):u?t.localize("embedded_chat_ended"):"online"===n?t.localize("embedded_chat_now"):U(t)?t.localize("embedded_leave_message"):t.localize("agents_not_available")},B=function(e,t){var n=e.getChat(t),r=p(e);return e.getApplicationState().limitReached||ee(e)&&!te(e)?null:n.active?"text":be(e,t)||H(e)?null:!n.properties.ended||r&&!V(e)?r||"offline"!==e.getApplicationState().availability?C(e,i.d)?V(e)&&f("preChatAfterGreeting",e).enabled?r&&"offline"===e.getApplicationState().availability?null:"requestPrechat":d(t,e).properties.isBot||G(e)?"startChat":"text":r?V(e)?"offline"===e.getApplicationState().availability?null:"requestPrechat":"text":r&&n.properties.ended?"text":null:null:"startChatAgain"},M=function(e,t){return!!t.getChat(e).properties.starting},L=function(e){return e.getApplicationState("testGroup")},P=function(e){return 1520===e.getApplicationState("license")},R=function(e){var t=e.localize("user_in_queue"),n=e.getView("Chat/prechat").fields;if(!n||Object(r.F)(n))return t;var i=n.find((function(e){var t=e.meta;return t&&"groupSelect"===t}));if(!i||!i.options||Object(r.F)(i.options))return t;var o=i.options.find((function(t){return t.groupNumber===e.getApplicationState("group")}));return o&&o.queueTemplate?o.queueTemplate:t},q=function(e){return e.getApplicationState("config").theme.name},N=function(e,t){return Object(r.q)((function(e){return!e.own&&Object(r.D)(e.type,["message","rich_message","url_preview","emoji"])}),e.getEvents(t))},V=function(e){return e.getApplicationState().config.features.preChatForm.enabled},U=function(e){return e.getApplicationState().config.features.ticketForm.enabled},H=function(e,t){void 0===t&&(t=void 0);var n=e.getLastEvent(i.d);if(!n)return!1;var r=n.type,o=n.properties;return"form"===r&&!o.answered&&"ask_for_email"!==o.formId&&("string"!==typeof t||o.formType===t)},G=function(e){return!!e.getChat(i.d).properties.groupHasProbableQueue},W=function(e){var t=e.getChat(i.d),n=t.active,r=t.properties,o=r.queued,a=r.ended,u=r.startChatAgainPending,c=r.currentAgent,s=e.getApplicationState(),l=s.availability,d=s.limitReached,f=p(e),h=U(e);return!(!d||h&&!f)||"offline"===l&&(!(a&&!u)&&(f?!c&&!o:!n&&!o&&!h))},$=function(e){return d(i.d,e)&&!H(e)&&!function(e,t){return!!t.getChat(e).properties.queued}(i.d,e)&&!W(e)},Z=function(e){return!(!ee(e)||e.getView("Chat/queue"))||("loader"===e.getDefaultView("Chat")||!me(e)&&he(e))},Y=function(e){var t=e.getLastEvent(i.d);return!!t&&("form"===t.type&&"ticket"===t.properties.formType&&t.properties.answered)},K=function(e){return e.getApplicationState("config").nonProfitLicense},J=function(e){var t=e.getApplicationState(),n=t.actingAsDirectLink,r=t.isInCustomContainer,i=t.mobileWrapper,o=t.embedded;return!n&&!r&&(i||o)},X=function(e){return Boolean(e.getApplicationState("invitation").current)},Q=function(e){var t=e.getChat(i.d).properties,n=t.lastThread,o=t.currentAgent,a=t.queued;return!(!p(e)||o||a)&&!!!Object(r.q)((function(e){var t=e.type,r=e.thread;return"email_prompt"===t&&r===n}),e.getEvents(i.d))},ee=function(e){return e.getChat(i.d).properties.queued},te=function(e){var t;return Boolean(null==(t=f("queue",e))?void 0:t.writingInQueueEnabled)},ne=function(e){return f("fileSharing",e).enabled},re=function(e){return e.getChat(i.d).active&&!A(e)},ie=function(e){return!A(e)},oe=Object(u.createSelector)([function(e){return Object(c.getEvents)(e,i.d)},function(e){return Object(c.getChat)(e,i.d).properties.lastThread}],(function(e,t){return Object(r.rb)((function(e){return e.thread===t}),e)})),ae=function(e){return oe(e.getState())},ue=function(e,t){return!!e.hasEvent(i.d,t)&&e.getEvent(i.d,t).properties.invitation},ce=function(e){return!e.getApplicationState().mobile&&"bar"===j(e)},se=function(e){var t=x(e,i.d);return t&&t.properties.invitation?t:null},le=function(e,t){void 0===t&&(t=se(e));var n=e.getApplicationState(),i=n.availability,o=n.invitation;return!("offline"!==i&&!ce(e))||Boolean(t&&Object(r.D)(t.properties.uniqueId,o.hiddenIds))},de=function(e,t){void 0===t&&(t=se(e));var n=e.getApplicationState().invitation;return Boolean(t&&Object(r.D)(t.properties.uniqueId,n.displayedIds))},fe=function(e){return!ae(e).some((function(e){var t=e.author;return!e.own&&"system"!==t}))},pe=function(e){var t=e.properties,n=t.formType,i=t.fields,o=t.answered,a=i.filter((function(e){return e.answer&&e.label}));return"ticket"!==n&&o&&Object(r.F)(a)},he=function(e){var t=e.getEvents(i.d);return Object(r.F)(t)||t.every((function(e){return"form"===e.type&&pe(e)}))},me=function(e){return $(e)||W(e)||ee(e)},be=function(e,t){return e.getEvents(t).some((function(e){return e.type===i.g&&null===e.serverId}))},ve=function(e){var t=e.getApplicationState(),n=t.embedded,r=t.actingAsDirectLink;return!n||r?"direct_link":"code"},ge=Object(u.createSelector)([function(e){return oe(e)}],(function(e){return e.filter((function(e){return"file"===e.type&&!e.delivered&&!e.properties.canceled}))})),ye=function(e){return ge(e.getState())},Oe=function(e){return e.getChat(i.d).serverId},je=function(e){var t=e.getApplicationState().mobile;return f(t?"mobileMinimized":"minimized",e).enabled},we=function(e,t){return e.getApplicationState("visibility").state===t},_e=function(e,t){var n=e.getApplicationState("config").properties.license;return Object.keys(n).some((function(e){return n[e][t]}))},xe=function(e){var t=e.getApplicationState().mobile;return f("hideTrademark",e).enabled||t},Ce=function(e,t){return e.getApplicationState("config").properties.license[t]},Ee=function(e){var t=a.a,n=Ce(e,t);return Boolean(null==n?void 0:n.transfer_identity_enabled)},De=function(e){var t=a.d,n=Ce(e,t);return{url:null==n?void 0:n.widget_message_box_moment_url,height:null==n?void 0:n.widget_message_box_moment_height}},ke=function(e){var t,n,r=De(e).url;return{disabled:!e.getChat(i.d).active||!d(i.d,e),visible:Object(l.s)(r)&&(null==(t=e.getView("Moment"))||null==(n=t.data)?void 0:n.url)!==r}}},,function(e,t,n){"use strict";var r=n(1),i=n(4),o=n(0),a=n(116);t.a=function(e,t){return o.memo((function(n){return Object(i.d)(a.a,Object(r.a)({},t,n),e)}))}},function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"e",(function(){return u})),n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"f",(function(){return d}));var r=n(1),i=n(2),o=n(52),a=function(e,t){var n=function(n){var r=Object.create(n);r.action=function(t,r){var i={type:e,payload:t};r&&(i.meta=r),n.dispatch(i)};for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];return t.apply(void 0,[r].concat(o))};return n.toString=function(){return e},n},u=function(e,t){var n="REQUEST_"+e,u=a(e,t),c=function(e){for(var a=arguments.length,c=new Array(a>1?a-1:0),s=1;s<a;s++)c[s-1]=arguments[s];var l,d=Object.create(e);if(d.action=function(t){var a=Object(o.a)(),s=a.promise,d=a.resolve,f=a.reject;e.dispatch({type:n,payload:Object(r.a)({},t,{resolve:d,reject:f})}),(l=s).then((function(){u.apply(void 0,[e].concat(c))}),i.V)},t.apply(void 0,[d].concat(c)),"undefined"===typeof l)throw new Error("You forgot to call `action` handler in "+n+" creator.");return l};return c.toString=function(){return n},{actionMethod:u,requestActionMethod:c}},c=function(e,t){if("object"!==typeof e||null===e||Array.isArray(e))throw new Error("bindActionMethods expects a plain object with actionMethods as values.");return Object(i.P)((function(e){return function(e,t){return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.apply(void 0,[t].concat(r))}}(e,t)}),e)},s=function(e,t){return t[void 0]&&console.warn(["Reducer contains an 'undefined' action type.","Have you misspelled a constant?"].join("\n")),function(n,r){return void 0===n&&(n=e),Object(i.B)(r.type,t)?t[r.type](n,r.payload):n}};var l=function(e,t){if("object"!==typeof e||null===e||Array.isArray(e))throw new Error("bindSelectors expects a plain object with selectors as values.");return Object(i.P)((function(e){return function(e,t){return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.apply(void 0,[t()].concat(r))}}(e,t)}),e)},d=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,n){return t.reduce((function(e,t){return t(e,n)}),e)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return s})),n.d(t,"h",(function(){return h})),n.d(t,"i",(function(){return p})),n.d(t,"f",(function(){return b})),n.d(t,"j",(function(){return d})),n.d(t,"k",(function(){return y})),n.d(t,"l",(function(){return j})),n.d(t,"m",(function(){return f})),n.d(t,"g",(function(){return _})),n.d(t,"c",(function(){return C}));var r=n(2),i=function(e){return Object(r.wb)(e).map((function(e){return e.map(encodeURIComponent).join("=")})).join("&")},o=function(e){var t=e.split("&").map((function(e){return e.split("=").map((function(e){return decodeURIComponent(e.replace("+","%20"))}))}));return Object(r.u)(t)},a=/(?:[^:]+:\/\/)?([^/\s]+)/;function u(e){var t=e.match(a);return t&&t[1]}var c=/[^:]+:\/\/[^(/|?)\s]+/,s=function(e){var t=e.match(c);return t&&t[0]},l=/.*?\?([^#]+)/,d=function(e){var t=e.match(l);return t?"?"+t[1]:""},f=function(e){return e.replace(/^\?/,"")},p=function(e){var t=f(d(e));return o(t||e)},h=function(e,t){return p(t)[e]},m=/^(?:https?:)?\/\/[^/]+\/([^?#]+)/,b=function(e){var t=e.match(m);return"/"+(t&&t[1]||"")},v=function(e){return e.replace(/\w/g,"$&[\\r\\n\\t]*")},g=new RegExp("^[\0-\x1f]*("+v("javascript")+"|"+v("data")+"):","i"),y=function(e){return g.test(e)},O=/^((http(s)?:)?\/\/)/,j=function(e){return e.replace(O,"")},w=/^((http(s)?:)?\/\/)/,_=function(e){var t=e.match(w);return t?t[2]:null},x=n(1),C=function(e,t){if(0===Object.keys(t).length)return e;var n=s(e),r=b(e),o=d(e)?p(e):{};return""+n+r+"?"+i(Object(x.a)({},o,t))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"e",(function(){return u})),n.d(t,"f",(function(){return s})),n.d(t,"h",(function(){return l})),n.d(t,"g",(function(){return f})),n.d(t,"i",(function(){return p})),n.d(t,"j",(function(){return h})),n.d(t,"k",(function(){return m})),n.d(t,"c",(function(){return b})),n.d(t,"d",(function(){return c.a}));var r=n(2),i=function(e,t){Object(r.t)((function(e,n){t.style[n]=e}),e)},o=function(e,t){Object(r.t)((function(e,n){"style"!==n?t.setAttribute(n,e):i(e,t)}),e)},a=!!document.documentElement.currentStyle,u=function(e,t){var n=window.getComputedStyle(t),i="border-box"===n.boxSizing,o=Object(r.cb)(e,n);if(a&&i&&Object(r.B)("width",o)&&null!==o.width){var u=[o.width,n.paddingLeft,n.paddingRight,n.borderLeftWidth,n.borderRightWidth];o.width=Object(r.qb)(u.map(parseFloat))+"px"}if(a&&i&&Object(r.B)("height",o)&&null!==o.height){var c=[o.height,n.paddingTop,n.paddingBottom,n.borderTopWidth,n.borderBottomWidth];o.height=Object(r.qb)(c.map(parseFloat))+"px"}return o},c=n(94);function s(e,t){void 0===t&&(t=document.body);var n=Object(c.b)(t),i=Object(r.p)((function(t){return t===e}),n);return n[i===n.length-1?0:i+1]}function l(){return new Promise((function(e){!function t(){document.body?e(document.body):setTimeout(t,100)}()}))}var d=null,f=function(){if(d)return d;var e=document.createElement("div"),t=e.style;t.width="50px",t.height="50px",t.overflow="scroll",t.direction="rtl";var n=document.createElement("div"),r=n.style;return r.width="100px",r.height="50px",e.appendChild(n),document.body.appendChild(e),e.scrollLeft>0?d="positive-descending":(e.scrollLeft=1,d=0===e.scrollLeft?"negative":"positive-ascending"),document.body.removeChild(e),d};function p(e,t){return void 0===t&&(t=0),Math.abs(e.scrollTop+e.clientHeight-e.scrollHeight)<=t}function h(e,t){return void 0===t&&(t=0),e.scrollTop<=t}function m(e){var t=e.parentNode;t&&t.removeChild(e)}var b=function(e,t){var n=document.createElement(e);return o(t,n),n}},function(e,t,n){"use strict";var r=n(22);t.a={spaceBase:8,typography:r.g,colors:r.c,transitions:r.f,borderRadius:r.a,boxShadow:r.b,spaces:r.e}},,function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"e",(function(){return d})),n.d(t,"i",(function(){return f})),n.d(t,"h",(function(){return p})),n.d(t,"g",(function(){return h})),n.d(t,"d",(function(){return m})),n.d(t,"f",(function(){return b})),n.d(t,"a",(function(){return v}));var r=n(13),i=n(21),o=n(3),a=n(9),u=n(62),c=function(){var e=Object(r.i)(window.location.search);return parseInt(function(){var e=String(window.location).match(/licen(?:s|c)e\/g?(\d+)/);return e?e[1]:null}()||e.license_id,10)},s=function(e){var t=parseInt(e,10);return t>-1?t:null},l=function(e){return"group"in e?s(e.group):"groups"in e?s(e.groups):null},d=function(){return"1"===Object(r.h)("unique_groups",window.location.search)||"1"===Object(r.h)("unique_group",window.location.search)},f=function(e,t,n){void 0===n&&(n={});var r=n,i=r.name,u=void 0===i?function(e){return e.getSessionUser().name||e.localize("client")}(e):i,c=r.agent,s=void 0===c?function(e){return Object(a.c)(o.d,e).name}(e):c;return t.replace(/%name%/g,u).replace(/%agent%/g,s)},p=function(e){return Object(i.c)(e)>.7},h=function(e){return Object(i.c)(e)<=.179},m=function(e){var t,n,r=u.b,i=Boolean(null==(t=e.properties.group[r])?void 0:t.forwardTicketFormToHelpdesk),o=e.__unsafeProperties.license.inboundForwardingToHelpdeskEnabled,a=null==(n=e.properties.license[r])?void 0:n.hdLicenseID;return"number"===typeof a&&a>-1&&(i||o)?"helpdesk":e.__unsafeProperties.group.offlineMessagesEnabled?"offline_message":"livechat"},b=function(e){var t,n=u.c;return Boolean(null==(t=e.properties.license[n])?void 0:t.messaging_in_queue_enabled)},v=function(e){return"https://"+e+"."+("api"===e?"livechatinc":"livechat")+".com"}},function(e,t,n){"use strict";n.d(t,"d",(function(){return C})),n.d(t,"b",(function(){return E})),n.d(t,"k",(function(){return D})),n.d(t,"p",(function(){return k})),n.d(t,"q",(function(){return I})),n.d(t,"m",(function(){return S})),n.d(t,"t",(function(){return A})),n.d(t,"v",(function(){return T})),n.d(t,"r",(function(){return F})),n.d(t,"l",(function(){return z})),n.d(t,"B",(function(){return M})),n.d(t,"C",(function(){return L})),n.d(t,"A",(function(){return P})),n.d(t,"D",(function(){return R})),n.d(t,"H",(function(){return q})),n.d(t,"G",(function(){return N})),n.d(t,"K",(function(){return V})),n.d(t,"z",(function(){return U})),n.d(t,"L",(function(){return H})),n.d(t,"g",(function(){return W})),n.d(t,"i",(function(){return $})),n.d(t,"h",(function(){return Z})),n.d(t,"M",(function(){return Y})),n.d(t,"u",(function(){return K})),n.d(t,"n",(function(){return J})),n.d(t,"I",(function(){return X})),n.d(t,"s",(function(){return ee})),n.d(t,"F",(function(){return te})),n.d(t,"a",(function(){return ne})),n.d(t,"f",(function(){return re})),n.d(t,"N",(function(){return ie})),n.d(t,"E",(function(){return oe})),n.d(t,"x",(function(){return ue})),n.d(t,"w",(function(){return ce})),n.d(t,"y",(function(){return se})),n.d(t,"j",(function(){return le})),n.d(t,"c",(function(){return de})),n.d(t,"o",(function(){return fe})),n.d(t,"J",(function(){return pe})),n.d(t,"e",(function(){return he}));var r=n(8),i=n(1),o=n(173),a=n(2),u=n(13),c=n(143),s=n.n(c),l=n(144),d=n.n(l),f=n(3),p=n(17),h=n(9),m=n(99),b=function(e){var t=0;return e.split("").forEach((function(e){var n=e.charCodeAt(0);t=(t<<5)-t+n,t&=t})),t},v=function(e,t){return b(e)%(1/t)===0},g=n(87),y=[0,2,4,6,8,1,3,5,7,9],O=function(e){return e.replace(/\b(?:\d[ -]*?){8,15}((?:\d[ -]*?){4})\b/g,(function(e,t){var n=e.replace(/(-|\s)/g,"");return function(e){if(/[^0-9-\s]+/.test(e))return!1;for(var t,n=e.replace(/\D/g,""),r=n.length,i=1,o=0;r;)t=parseInt(n.charAt(--r),10),o+=(i^=1)?y[t]:t;return o&&o%10===0}(n)?""+function(e){var t=e%4,n=t?4-t:0,r=Math.floor(e/4)+(t?1:0)-n-1,i=Object(a.n)(n,"XXX"),o=Object(a.n)(r,"XXXX");return i.concat(o).join("-").concat("-")}(n.length)+t:e}))},j=n(36),w=n(23),_=n(25);(new s.a).tlds(d.a);var x=function(e,t,n){var r=Object(a.p)((function(t){return t.name===e}),n);return-1!==r?Object(a.Ab)(r,Object(i.a)({},n[r],{defaultValue:t}),n):n},C=function(e,t,n){e.addEvent(t,Object(i.a)({},n,{serverId:n.serverId||null}))},E=function(e,t,n){var r=n.systemMessageType,i=n.textVariables,o=n.text;C(e,t,{id:Object(a.w)(e.getIndexedEvents(f.d)),serverId:null,type:"system_message",author:"system",seen:!0,properties:Object(a.f)({systemMessageType:r,textVariables:i,defaultText:o})})},D=function(e){e.updateChat(f.d,{active:!1,properties:{ended:!0,queued:!1,agentIsTyping:!1}}),e.setApplicationState({greetingsMuted:!1})},k=function(e){e.setApplicationState({eyeCatcher:Object(i.a)({},e.getApplicationState().eyeCatcher,{hidden:!0})})},I=function(e){var t=h.d(e);if(t&&t.properties.uniqueId&&!h.O(e,t)){var n=e.getApplicationState().invitation;e.setApplicationState({invitation:Object(i.a)({},n,{hiddenIds:[].concat(n.hiddenIds,[t.properties.uniqueId])})}),v(e.getSessionUser().serverId,.01)&&Object(j.d)({minimizedType:h.l(e),greetingId:t.properties.id,greetingUniqueId:t.properties.uniqueId,greetingType:t.properties.type,greetingSubtype:t.properties.subtype,greetingAddon:t.properties.addon||"none"})}},S=function(e){var t=h.d(e);if(t&&t.properties.uniqueId&&!h.mb(e)){var n=e.getApplicationState().invitation;e.setApplicationState({invitation:Object(i.a)({},n,{displayedIds:[].concat(n.displayedIds,[t.properties.uniqueId])})})}},A=function(e){h.W(e,"maximized")||e.setApplicationState({visibility:{state:"maximized"}})},T=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getApplicationState(),i=r.visibility,o=r.destroyed;!t&&"hidden"===i.state&&i.forced||"minimized"===i.state||(!h.Q(e)||h.db(f.d,e)||o?e.setApplicationState({visibility:{state:"hidden"}}):n||!e.getView("Moment").show?e.setApplicationState({visibility:{state:"minimized"}}):e.emit("request_close_moment"))},F=function(e){h.W(e,"minimized")&&e.setApplicationState({visibility:{state:"hidden"}})},z=function(e,t){var n=t.id,r=t.active,i=void 0===r||r,o=t.thread,u=t.group,c=t.agent,s=t.queued,l=void 0!==s&&s;null===e.getChat(f.d).serverId&&e.setChatServerId(f.d,n);var d={ended:!1,queued:l,fakeAgentMessageId:null,lastThread:o,currentAgent:c};"number"===typeof u&&(d.group=u),k(e),e.updateChat(f.d,{active:i,properties:d}),ue(e);var p=h.c(f.d,e);Object(a.x)("properties.isBot",p)?setTimeout((function(){return"loader"===e.getDefaultView("Chat")&&e.setDefaultView("Chat","timeline")}),1500):e.setDefaultView("Chat","timeline"),e.setApplicationState({hidden:!1});var m=e.getApplicationState().readyState;e.setCurrentView("Chat"),m===w.a.NOT_READY||h.W(e,"maximized")||A(e)},B=function(e,t,n){void 0===n&&(n={});var r=h.g("creditCardMasking",e).enabled?O(t):t;return{type:Object(m.a)(r)?"emoji":"message",thread:e.getChat(f.d).active?e.getChat(f.d).properties.lastThread:null,properties:Object(a.f)(Object(i.a)({text:r},n))}},M=function(e,t,n,r){e.sendEvent(t,B(e,n,{triggeredBy:r}))},L=function(e,t,n,r){var o=e.getApplicationState("invitation").current,u=e.getEvent(t,o),c=B(e,n,Object(i.a)({triggeredBy:r},u&&{fromGreeting:Object(i.a)({},Object(a.cb)(["id","uniqueId"],u.properties))})),s=e.getChat(t).active,l=h.S(e),d=h.g("preChatAfterGreeting",e).enabled;if(l&&!s&&d){var p=h.L(e,"prechat"),m=h.P(e,t);C(e,t,Object(i.a)({},c,{seen:!0,type:f.g,author:e.getSessionUserId(),id:Object(a.w)(e.getIndexedEvents(f.d))})),p||m||q(e)}else e.sendEvent(t,c)},P=function(e,t,n){var r=n.text,i=n.recipients,o=void 0===i?"all":i;e.sendEvent(t,{type:"custom_system_message",thread:e.getChat(f.d).active?e.getChat(f.d).properties.lastThread:null,properties:{text:r.trim(),recipients:o}})},R=function(e,t){e.updateChat(f.d,{properties:{currentAgent:t}})},q=function(e){if(!h.L(e,"prechat")){var t=e.getView("Chat/prechat");Q(e,t)}},N=function(e,t){var n=e.getChat(f.d).properties,o=n.rate,a=n.rateComment,u=t.fields,c=Object(r.a)(t,["fields"]);o&&(u=x("rating",o,u)),a&&(u=x("rateComment",a,u)),Q(e,Object(i.a)({},c,{fields:u}))},V=function(e){e.updateChat(f.d,{properties:{startChatAgainPending:!0}})},U=function(e,t,n){var r=void 0===n?{}:n,i=r.chatId,o=r.forced;e.updateChat(f.d,{properties:{startChatAgainPending:!1}}),re(e);var a=e.getChat(f.d),u=a.properties.lastThread,c=a.serverId;if(o||!h.E(e)||c&&i!==c)e.flushChat(t),i&&e.setChatServerId(f.d,i);else{ae(e);var s=h.f(e,f.d);s&&e.removeEvent(f.d,s.id),e.hasEvent(f.d,"boosters")&&e.removeEvent(f.d,"boosters")}e.updateChat(t,{properties:{agentIsTyping:!1,ended:!1,fakeAgentMessageId:null,lastThread:u,loadingHistory:!1,queued:!1,rate:null,rateComment:null,transcriptSentTo:null}}),e.setApplicationState({greetingsMuted:!1}),ne(e)},H=function(e,t){var n=t.getApplicationState("config");t.setApplicationState({config:Object(i.a)({},n,{features:Object(i.a)({},n.features,{fileSharing:{enabled:e.__unsafeProperties.license.fileSharingEnabled},agentAvatar:{enabled:e.__unsafeProperties.group.hasAgentAvatarsEnabled},continuousChat:{enabled:e.__unsafeProperties.license.continuousChatWidgetEnabled},chatHistory:{enabled:e.__unsafeProperties.license.continuousChatWidgetEnabled||e.__unsafeProperties.license.customerHistoryEnabled},rating:{enabled:e.__unsafeProperties.group.ratingEnabled},emailTranscript:{enabled:e.__unsafeProperties.group.transcriptButtonEnabled},logo:{enabled:e.__unsafeProperties.group.logo.enabled,path:e.__unsafeProperties.group.logo.src},linksPreview:{enabled:e.__unsafeProperties.group.linksUnfurlingEnabled},ticketForm:{enabled:"ticketForm"in e,mode:Object(p.d)(e)},queue:{writingInQueueEnabled:Object(p.f)(e)},preChatForm:{enabled:"prechatForm"in e},preChatAfterGreeting:{enabled:e.__unsafeProperties.group.prechatFormAfterGreetingEnabled},creditCardMasking:{enabled:e.__unsafeProperties.license.creditCardMaskingEnabled},hideTrademark:{enabled:e.__unsafeProperties.group.hasHiddenTrademark},disableSounds:{enabled:!e.__unsafeProperties.group.hasSoundsEnabled},minimized:{enabled:!e.__unsafeProperties.group.disabledMinimized},mobileMinimized:{enabled:e.__unsafeProperties.group.hasCustomMobileSettings?!e.__unsafeProperties.group.disabledMinimizedOnMobile:!e.__unsafeProperties.group.disabledMinimized}}),minimizedType:e.__unsafeProperties.group.minimizedType,mobileMinimizedType:e.__unsafeProperties.group.minimizedTypeOnMobile,theme:Object(a.T)(n.theme,Object(g.a)(e.__unsafeProperties.group.theme)),screenPosition:e.__unsafeProperties.group.screenPosition,mobileScreenPosition:e.__unsafeProperties.group.screenPositionOnMobile,nonProfitLicense:e.__unsafeProperties.license.nonProfit,properties:e.properties,screenOffset:{x:e.__unsafeProperties.group.offsetX,y:e.__unsafeProperties.group.offsetY}})}),t.getApplicationState("config").features.disableSounds.enabled&&t.setApplicationState({muted:!0})},G=function(e,t,n){var r,o=e.getApplicationState("config");e.setApplicationState({config:Object(i.a)({},o,{features:Object(a.T)(o.features,(r={},r[t]=n,r))})})},W=function(e,t){G(e,t,{enabled:!1})},$=function(e,t,n){G(e,t,Object(i.a)({enabled:!0},n))},Z=function(e,t){try{var n=JSON.parse(t).filter((function(e){return"moment"===e.template_id}));if(Object(a.F)(n))return;$(e,"boosters",{items:n.map((function(e){var t={type:e.action.type,label:e.action.label,url:e.action.url};return e.action.webview_height&&(t.webviewHeight=e.action.webview_height),{id:e.id,template:e.template_id,title:e.title,description:e.description,icon:e.icon,action:t}}))})}catch(r){}},Y=function(e,t,n){var r={answered:!0};n&&(r.fields=n.properties.fields,n.id&&e.setEventServerId(f.d,t,n.id)),e.updateEvent(f.d,t,{properties:r})},K=function(e,t){t.properties.receivedFirstTime&&v(e.getSessionUser().serverId,.01)&&Object(j.e)({minimizedType:h.l(e),greetingId:t.properties.id,greetingUniqueId:t.properties.uniqueId,greetingType:t.properties.type,greetingSubtype:t.properties.subtype,greetingAddon:t.properties.addon||"none"})},J=function(e,t){var n=e.getApplicationState(),r=n.embedded,o=n.actingAsDirectLink,u=n.availability,c=n.greetingsMuted,s=h.L(e,"prechat");R(e,t.author),"bar"!==h.l(e)&&k(e),e.setDefaultView("Chat","timeline"),ue(e),se(e);var l,d,m,b,v,g=h.d(e);g&&(Object(j.f)({minimizedType:h.l(e),greetingId:null==(l=g.properties)?void 0:l.id,greetingUniqueId:null==(d=g.properties)?void 0:d.uniqueId,greetingType:null==(m=g.properties)?void 0:m.type,greetingSubtype:null==(b=g.properties)?void 0:b.subtype,greetingAddon:(null==(v=g.properties)?void 0:v.addon)||"none"}),e.removeEvent(f.d,g.id));Object(a.l)(t.properties.cards||t.properties.card).filter(Boolean).forEach((function(t){t.title&&(t.title=Object(p.i)(e,t.title)),t.subtitle&&(t.subtitle=Object(p.i)(e,t.subtitle)),t.buttons&&(t.buttons.forEach((function(e){return e.invitation=!0})),r&&!o||t.buttons.filter((function(e){return"url"===e.type&&"target"in e})).forEach((function(e){return e.target="new"})))}));var y=Object(a.w)(e.getIndexedEvents(f.d));C(e,f.d,Object(i.a)({},t,{seen:!c,id:y,properties:Object(i.a)({},t.properties,t.properties.text&&{text:Object(p.i)(e,t.properties.text)})})),e.updateChat(f.d,{properties:{fakeAgentMessageId:y}}),e.setApplicationState({invitation:Object(i.a)({},e.getApplicationState("invitation"),{current:y})}),h.W(e,"maximized")||(e.setCurrentView("Chat"),h.O(e,t)&&t.properties.receivedFirstTime&&!c?A(e):T(e,!0)),h.H(e)&&"offline"===u&&s&&q(e),c||K(e,t)},X=function(e){Q(e,e.getView("Chat/ticketForm"))},Q=function(e,t){var n={formType:t.type,formId:t.id,fields:t.fields};if(h.L(e)){var r=e.getLastEvent(f.d).id;return e.updateEvent(f.d,r,{properties:n})}var i={id:Object(a.w)(e.getIndexedEvents(f.d)),type:"form",author:"system",properties:n};return C(e,f.d,i)},ee=function(e){return!!e&&function(e){var t=Object(u.g)(e);return!t||"https:"===t||!1}(Object(o.a)(e))},te=function(e,t){var n=e.getView("Moment");if(n.show&&!t.wasTriggeredByGreeting)return n.data.url===t.url?void e.emit("request_expand_moment"):void e.emit("request_expand_moment",{nextMoment:t});ee(t.url)?(e.updateView("Moment",{show:!0,data:t}),n.show&&e.emit("request_expand_moment")):E(e,f.d,{text:"Link attached to the button is invalid."})},ne=function(e){var t=h.g("boosters",e);t.enabled&&(e.hasEvent(f.d,"boosters")||e.addEvent(f.d,{type:"boosters",id:"boosters",author:"system",seen:!0,properties:{boosters:t.items}}))},re=function(e,t){e.updateView("Moment",{show:!1,data:{}}),t&&T(e)},ie=function(e,t){e.requestUpdateUser(e.getSessionUser().id,t)},oe=function(e,t){var n;e.setUserServerId(e.getSessionUser().id,t),e.setApplicationState({testGroup:(n=t,b(n)%2?"A":"B")})},ae=function(e,t){if(void 0===t&&(t=void 0),h.L(e,t)){var n=e.getLastEvent(f.d).id;e.removeEvent(f.d,n)}},ue=function(e){ae(e,"prechat")},ce=function(e){ae(e,"postchat")},se=function(e){ae(e,"ticket")},le=function(e,t,n){var r=Object(a.x)("error.details.errors",e);if(r){var o=r.reduce((function(e,n){return"requester.email"===n.field?Object(i.a)({},e,{email:t("invalid_email")}):"requester.name"===n.field?Object(i.a)({},e,{name:n.message}):e}),{});Object(a.F)(o)?n():n(o)}else n()},de=function(e){var t=f.b,n=e.getChat(f.d).properties.lastThread;e.hasEvent(f.d,t)&&e.removeEvent(f.d,t),!!h.j(e).find((function(e){return"form"===e.type&&"ask_for_email"===e.properties.formId}))||e.addEvent(f.d,{id:t,serverId:null,seen:!0,type:f.b,author:"system",thread:n})},fe=function(e,t,n,r){switch(Object(a.D)(n.type,["message","webview"])&&A(e),n.type){case"message":L(e,f.d,n.text,{event:t,button:n});break;case"webview":te(e,{url:n.value,height:n.webviewHeight,wasTriggeredByGreeting:r,source:r?"targeted_message":"rich_message"});break;case"cancel":me(e,f.d,t)}e.emit("rich_greeting_button_clicked",{button:n,event:e.getEvent(f.d,t)})},pe=function(e){e.emit("start_thread")},he=function(e,t,n){void 0===n&&(n="button");var r=e.getChat(f.d),i=Object(a.D)("image",t.type);("clipboard"===n||Math.random()<.1)&&Object(_.d)("file_upload_added",{uploadSource:n}),e.sendEvent(f.d,{type:"file",thread:r.properties.lastThread,properties:{name:t.name.substring(0,f.e),progress:0,finished:!1,failed:!1,failReason:null,fileType:i?"image":"other",url:i?URL.createObjectURL(t):null,uploadSource:n}},{file:t})},me=function(e,t,n){var r=e.getChat(t),i=e.getApplicationState().mobile,o=e.getEvent(t,n);!r.active&&o&&(v(e.getSessionUser().serverId,.01)&&Object(j.c)({mobile:i,greetingId:o.properties.id,greetingUniqueId:o.properties.uniqueId,greetingType:o.properties.type,greetingSubtype:o.properties.subtype,greetingAddon:o.properties.addon||"none",minimizedType:h.l(e)}),e.emit("request_cancel_greeting",o.properties.uniqueId))}},,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"e",(function(){return a})),n.d(t,"f",(function(){return u})),n.d(t,"g",(function(){return c})),n.d(t,"d",(function(){return L}));var r={};n.r(r),n.d(r,"xs",(function(){return s})),n.d(r,"sm",(function(){return l})),n.d(r,"md",(function(){return d})),n.d(r,"lg",(function(){return f})),n.d(r,"xl",(function(){return p})),n.d(r,"none",(function(){return h})),n.d(r,"round",(function(){return m})),n.d(r,"def",(function(){return b}));var i={};n.r(i),n.d(i,"caution",(function(){return v})),n.d(i,"divider",(function(){return g})),n.d(i,"border",(function(){return y})),n.d(i,"error",(function(){return O})),n.d(i,"success",(function(){return j})),n.d(i,"accent",(function(){return w})),n.d(i,"notification",(function(){return _})),n.d(i,"webkitOutline",(function(){return x})),n.d(i,"surface",(function(){return C})),n.d(i,"text",(function(){return E})),n.d(i,"grayscale",(function(){return D})),n.d(i,"brand",(function(){return k}));var o={};n.r(o),n.d(o,"xs",(function(){return A})),n.d(o,"sm",(function(){return T})),n.d(o,"md",(function(){return F})),n.d(o,"lg",(function(){return z})),n.d(o,"floating",(function(){return B})),n.d(o,"outline",(function(){return M}));var a={};n.r(a),n.d(a,"space0",(function(){return N})),n.d(a,"space1",(function(){return V})),n.d(a,"space2",(function(){return U})),n.d(a,"space3",(function(){return H})),n.d(a,"space4",(function(){return G})),n.d(a,"space5",(function(){return W})),n.d(a,"space6",(function(){return $})),n.d(a,"space7",(function(){return Z}));var u={};n.r(u),n.d(u,"easings",(function(){return Y}));var c={};n.r(c),n.d(c,"heading",(function(){return K})),n.d(c,"subheading",(function(){return J})),n.d(c,"input",(function(){return X})),n.d(c,"placeholder",(function(){return Q})),n.d(c,"caption",(function(){return ee})),n.d(c,"basic",(function(){return te})),n.d(c,"basicContrast",(function(){return ne})),n.d(c,"errorCaption",(function(){return re}));var s="2px",l="4px",d="6px",f="8px",p="12px",h="0px",m="50%",b=d,v="#ffd000",g="#e3e3e3",y="#b3b3b3",O="#d93311",j="#268750",w="#2000f0",_="#e30d34",x="#3b99fc",C={light:"#ffffff",lightVariant:"#f0f0f0",dark:"#252525",darkVariant:"#2e2e2e "},E={white:"#ffffff",black:"#111111",muted:"#6E6E6E"},D={50:"#f8f8f8",100:"#e3e3e3",200:"#d5d5d5",300:"#c0c0c0",400:"#b3b3b3",500:"#757575",600:"#575757",700:"#2e2e2e",800:"#252525",900:"#111111"},k={black:"#1b1b20",orange:"#ff5100"},I=n(21),S="rgba(0, 0, 0, 0)",A="0px 1px 2px "+Object(I.e)(.1,S),T="0px 0px 8px "+Object(I.e)(.2,S),F="0px 1px 10px "+Object(I.e)(.2,S),z="0px 0px 24px "+Object(I.e)(.2,S),B="0 4px 12px "+Object(I.e)(.3,S),M="0 0 0 1px "+w,L=function(e){return e/16+"rem"},P=L(16),R=L(14),q=L(12),N="0px",V="2px",U="4px",H="8px",G="10px",W="12px",$="16px",Z="24px",Y={linear:"cubic-bezier(0, 0, 1, 1)",sharp:"cubic-bezier(0.33, 0, 0, 1)",smooth:"cubic-bezier(0.33, 0, 0.67, 1)",swift:"cubic-bezier(0.14, 0, 0, 1)",spring:"cubic-bezier(0.18, 0.89, 0.32, 1.28)"},K={fontSize:P,fontWeight:"bold",color:E.black},J={fontSize:R,fontWeight:"bold",color:E.black},X={fontSize:R,fontWeight:"normal",color:E.black},Q={fontSize:R,fontWeight:"normal",color:E.muted},ee={fontSize:q,fontWeight:"normal",color:E.black},te={fontSize:R,fontWeight:"normal",color:E.black},ne={fontSize:R,fontWeight:"normal",color:E.white},re={fontSize:q,fontWeight:"normal",color:O}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={};n.r(r),n.d(r,"NOT_READY",(function(){return i})),n.d(r,"READY",(function(){return o})),n.d(r,"BOOTSTRAPPED",(function(){return a}));var i="not_ready",o="ready",a="bootstrapped"},function(e,t,n){"use strict";n.d(t,"e",(function(){return Ie})),n.d(t,"c",(function(){return Fe})),n.d(t,"b",(function(){return Pe})),n.d(t,"a",(function(){return Le})),n.d(t,"d",(function(){return r}));var r={};n.r(r),n.d(r,"CONNECTED",(function(){return o})),n.d(r,"DISCONNECTED",(function(){return a})),n.d(r,"NOT_INITIALIZED",(function(){return u})),n.d(r,"RECONNECTING",(function(){return c}));var i={};n.r(i),n.d(i,"addView",(function(){return w})),n.d(i,"setCurrentView",(function(){return _})),n.d(i,"updateView",(function(){return x})),n.d(i,"setDefaultView",(function(){return C})),n.d(i,"addChat",(function(){return E})),n.d(i,"addEvent",(function(){return D})),n.d(i,"removeEvent",(function(){return k})),n.d(i,"addHistoryEvents",(function(){return I})),n.d(i,"addParticipant",(function(){return S})),n.d(i,"addUser",(function(){return A})),n.d(i,"flushChat",(function(){return T})),n.d(i,"recalculateTimeline",(function(){return F})),n.d(i,"removeParticipant",(function(){return z})),n.d(i,"sendEvent",(function(){return B})),n.d(i,"setApplicationState",(function(){return M})),n.d(i,"updateFeature",(function(){return L})),n.d(i,"setConnectionState",(function(){return P})),n.d(i,"setChatServerId",(function(){return R})),n.d(i,"setEventData",(function(){return q})),n.d(i,"setEventServerId",(function(){return N})),n.d(i,"setLocalization",(function(){return V})),n.d(i,"setUserServerId",(function(){return U})),n.d(i,"setUserProperties",(function(){return G})),n.d(i,"requestSetUserProperties",(function(){return W})),n.d(i,"updateChat",(function(){return Z})),n.d(i,"requestUpdateChat",(function(){return Y})),n.d(i,"updateEvent",(function(){return J})),n.d(i,"requestUpdateEvent",(function(){return X})),n.d(i,"updateUser",(function(){return ee})),n.d(i,"requestUpdateUser",(function(){return te}));var o="connected",a="disconnected",u="not_initialized",c="reconnecting",s=n(1),l=n(57),d=n(26),f=n(12),p=n(2),h=n(98),m=n(8),b=function(e){var t=e.id,n=e.serverId,r=void 0===n?null:n,i=e.active,o=void 0===i||i,a=e.participants,u=void 0===a?[]:a,c=e.properties;if("string"!==typeof t)throw new Error("Chat ID has to be a string.");if(null!==r&&t!==r)throw new Error('If serverId is given ("'+r+'") it should match id ("'+t+'").');return{id:t,serverId:r,active:o,participants:u,properties:c}},v=function(e){var t=e.id,n=e.type,r=e.author,i=e.timestamp,o=e.own,a=e.serverId,u=void 0===a?null:a,c=e.thread,s=void 0===c?null:c,l=e.serverTimestamp,d=void 0===l?null:l,f=e.delivered,p=void 0===f||f,h=e.seen,m=void 0!==h&&h,b=e.failed,v=void 0!==b&&b,g=e.properties,y=void 0===g?{}:g;if("string"!==typeof t)throw new Error("Event ID has to be a string.");if("string"!==typeof n)throw new Error("Event has to have string `type` property.");if(null!==u&&t!==u)throw new Error('If serverId is given ("'+u+'") it should match id ("'+t+'").');return{id:t,serverId:u,type:n,thread:s,author:r,own:o,timestamp:i,serverTimestamp:d,delivered:p,seen:m,failed:v,properties:y}},g=function(e){var t=e.id,n=e.serverId,r=void 0===n?t:n,i=e.type,o=void 0===i?null:i,a=e.name,u=void 0===a?null:a,c=e.email,s=void 0===c?null:c,l=e.avatar,d=void 0===l?null:l,f=e.properties,p=void 0===f?{}:f;if("string"!==typeof t)throw new Error("User ID has to be a string.");return{id:t,serverId:r,type:o,name:u,email:s,avatar:d,properties:p}},y=n(6),O=["delivered","failed","properties","seen","serverTimestamp","thread"],j=function(e,t){return e.forEach((function(e){if(Object(p.B)(e,t))throw new Error("Updating `"+e+"` property is not possible.")}))},w=Object(f.c)("ADD_VIEW",(function(e,t,n){var r=e.action,i=e.getState;if(void 0===n&&(n={}),y.getView(i(),t))throw new Error('There is already the "'+t+'" view. It has to be unique.');return r({name:t,data:n}),y.getView(i(),t)})),_=Object(f.c)("SET_CURRENT_VIEW",(function(e,t){var n=e.action,r=e.getState;if(!y.getView(r(),t))throw new Error('Given view "'+t+"\" doesn't exist.");return n({name:t}),y.getCurrentView(r())})),x=Object(f.c)("UPDATE_VIEW",(function(e,t,n){var r=e.action,i=e.getState;if(!y.getView(i(),t))throw new Error('There is no "'+t+'" view. You should add it first.');return r({name:t,data:n}),y.getView(i(),t)})),C=Object(f.c)("SET_DEFAULT_VIEW",(function(e,t,n){var r=e.action,i=e.getState;return r({name:n,path:t}),y.getView(i(),t+"/"+n)})),E=Object(f.c)("ADD_CHAT",(function(e,t){var n=e.action,r=e.getState,i=t.events,o=void 0===i?[]:i,a=Object(m.a)(t,["events"]);if(a.id&&y.hasChat(r(),a.id))throw new Error('There is already a chat with "'+a.id+'" ID. It has to be unique.');var u=Object(p.o)((function(e){return!y.hasUser(r(),e)}),o.map((function(e){return e.author})).concat(a.participants||[]));if(u)throw new Error('Given user ("'+u+"\") doesn't exist. You should add it first.");var c=a.id||Object(p.w)(y.getChats(r()));return n({id:c,chat:b(Object(s.a)({},a,{id:c})),events:o.map(v)}),y.getChat(r(),c)})),D=Object(f.c)("ADD_EVENT",(function(e,t,n){var r=e.action,i=e.getState,o=n.id,a=n.serverId,u=i();if(o&&a&&o!==a)throw new Error('Specified ID ("'+o+'") differs from specified serverId ("'+a+'"). You either should use only ID or both should be the same.');if(!y.hasChat(u,t))throw new Error('There is no chat with "'+t+'" ID. You should add it first.');if(y.hasEvent(u,t,o))throw new Error('There is already an event with "'+o+'" ID in this chat ("'+t+'"). It has to be unique.');if(!y.hasUser(u,n.author))throw new Error('Specified author ("'+n.author+"\") doesn't exist. You should add it first.");return r({id:o,chat:t,event:v(Object(s.a)({timestamp:Date.now()},n,{own:n.author===y.getSessionUserId(u)}))}),y.getEvent(i(),t,o)})),k=Object(f.c)("REMOVE_EVENT",(function(e,t,n){var r=e.action,i=(0,e.getState)();if(!y.hasChat(i,t))throw new Error('There is no chat with "'+t+'" ID. You should add it first.');if(!y.hasEvent(i,t,n))throw new Error('There is no event with "'+n+'" ID in this chat ("'+t+'").');r({id:n,chat:t})})),I=Object(f.c)("ADD_HISTORY_EVENTS",(function(e,t,n){var r=e.action,i=(0,e.getState)();if(!y.hasChat(i,t))throw new Error('There is no chat with "'+t+'" ID. You should add it first.');n.forEach((function(e){if(y.hasEvent(i,t,e.id))throw new Error('There is already an event with "'+e.id+'" ID in this chat ("'+t+'"). It has to be unique.');if(!y.hasUser(i,e.author))throw new Error('Specified author ("'+e.author+"\") doesn't exist. You should add it first.")}));var o=y.getSessionUserId(i);r({chat:t,events:n.map((function(e){return v(Object(s.a)({},e,{serverId:e.id,own:e.author===o}))}))})})),S=Object(f.c)("ADD_PARTICIPANT",(function(e,t,n){var r=e.action,i=e.getState;if(!y.hasChat(i(),t))throw new Error('There is no chat with "'+t+'" ID. You should add it first.');if(!y.hasUser(i(),n))throw new Error('Given user ("'+n+"\") doesn't exist. You should add it first.");return r({chat:t,user:n}),y.getParticipants(i(),t)})),A=Object(f.c)("ADD_USER",(function(e,t){var n=e.action,r=e.getState,i=t.id;if(y.hasUser(r(),i))throw new Error('There is already a user with "'+i+'" ID. It has to be unique.');return n({id:i,user:g(t)}),y.getUser(r(),i)})),T=Object(f.c)("FLUSH_CHAT",(function(e,t){var n=e.action,r=e.getState;if(!y.hasChat(r(),t))throw new Error('There is no chat with "'+t+'" ID. You should add it first.');return n({id:t}),y.getChat(r(),t)})),F=Object(f.c)("RECALCULATE_TIMELINE",(function(e,t){var n=e.action,r=e.getState;if(!y.hasChat(r(),t))throw new Error('There is no chat with "'+t+'" ID. You should add it first.');return n({id:t}),y.getTimeline(r(),t)})),z=Object(f.c)("REMOVE_PARTICIPANT",(function(e,t,n){var r=e.action,i=e.getState;if(!y.hasChat(i(),t))throw new Error('There is no chat with "'+t+'" ID. You should add it first.');if(!y.hasUser(i(),n))throw new Error('Given user ("'+n+"\") doesn't exist. You should add it first.");return r({chat:t,user:n}),y.getParticipants(i(),t)})),B=Object(f.c)("SEND_EVENT",(function(e,t,n,r){var i=e.action,o=e.getState;if(!y.hasChat(o(),t))throw new Error('There is no chat with "'+t+'" ID. You should add it first.');if(y.hasEvent(o(),t,n.id))throw new Error('There is already an event with "'+n.id+'" ID in this chat ("'+t+'"). It has to be unique.');var a=n.id||Object(p.w)(y.getIndexedEvents(o(),t));return i({id:a,chat:t,event:v(Object(s.a)({},n,{author:y.getSessionUser(o()).id,own:!0,id:a,timestamp:Date.now(),delivered:!1}))},r),y.getEvent(o(),t,a)})),M=Object(f.c)("SET_APPLICATION_STATE",(function(e,t){var n=e.action,r=e.getApplicationState;if(!t||Object(p.F)(t))throw new Error("Given data object is empty.");return n(t),r()})),L=Object(f.c)("UPDATE_FEATURE",(function(e,t,n){var r=e.action,i=e.getApplicationState;if(!n||!t||Object(p.F)(n))throw new Error("Given data object is empty.");return r({feature:t,data:n}),i()})),P=Object(f.c)("SET_CONNECTION_STATE",(function(e,t){var n=e.action,r=e.getState;return n({connectionState:t}),y.getConnectionState(r())})),R=Object(f.c)("SET_CHAT_SERVER_ID",(function(e,t,n){var r=e.action,i=e.getState;if(!y.hasChat(i(),t))throw new Error('There is no chat with "'+t+'" ID. You should add it first.');if(null!==y.getChat(i(),t).serverId)throw new Error('Chat with "'+t+'" ID has already serverId.');return r({id:t,serverId:n}),y.getChat(i(),t)})),q=Object(f.c)("SET_EVENT_DATA",(function(e,t,n,r){var i=e.action,o=e.getState;if(!y.hasChat(o(),t))throw new Error('There is no chat with "'+t+'" ID. You should add it first.');if(!y.hasEvent(o(),t,n))throw new Error('There is no "'+n+'" event in "'+t+'" chat. You should add it first.');return j(["id","type","own"],r),i({chat:t,id:n,data:Object(s.a)({},Object(p.fb)(O.concat("author","serverId","timestamp"),r),{own:r.author===y.getSessionUserId(o())})}),y.getEvent(o(),t,n)})),N=Object(f.c)("SET_EVENT_SERVER_ID",(function(e,t,n,r){var i=e.action,o=e.getState;if(!y.hasChat(o(),t))throw new Error('There is no chat with "'+t+'" ID. You should add it first.');if(!y.hasEvent(o(),t,n))throw new Error('There is no "'+n+'" event in "'+t+'" chat. You should add it first.');if(null!==y.getEvent(o(),t,n).serverId)throw new Error('Event with "'+n+'" ID has already serverId.');return i({chat:t,id:n,serverId:r}),y.getEvent(o(),t,n)})),V=Object(f.c)("SET_LOCALIZATION",(function(e,t){(0,e.action)(t)})),U=Object(f.c)("SET_USER_SERVER_ID",(function(e,t,n){var r=e.action,i=e.getState;if(!y.hasUser(i(),t))throw new Error('There is no "'+t+'" user. You should add it first.');if(null!==y.getUser(i(),t).serverId)throw new Error('User with "'+t+'" ID has already serverId.');return r({id:t,serverId:n}),y.getUser(i(),t)})),H=Object(f.e)("SET_USER_PROPERTIES",(function(e,t,n){var r=e.action,i=e.getState;if(!y.hasUser(i(),t))throw new Error('There is no user with "'+t+'" ID. You should add it first.');return r({id:t,properties:n}),y.getUser(i(),t)})),G=H.actionMethod,W=H.requestActionMethod,$=Object(f.e)("UPDATE_CHAT",(function(e,t,n){var r=e.action,i=e.getState;if(!y.hasChat(i(),t))throw new Error('There is no chat with "'+t+'" ID. You should add it first.');return j(["id","participants","events"],n),r({id:t,data:Object(p.fb)(["active","properties"],n)}),y.getChat(i(),t)})),Z=$.actionMethod,Y=$.requestActionMethod,K=Object(f.e)("UPDATE_EVENT",(function(e,t,n,r){var i=e.action,o=e.getState;if(!y.hasChat(o(),t))throw new Error('There is no chat with "'+t+'" ID. You should add it first.');if(!y.hasEvent(o(),t,n))throw new Error('There is no "'+n+'" event in "'+t+'" chat. You should add it first.');return j(["id","type","author","own","timestamp"],r),i({chat:t,id:n,data:Object(p.fb)(O,r)}),y.getEvent(o(),t,n)})),J=K.actionMethod,X=K.requestActionMethod,Q=Object(f.e)("UPDATE_USER",(function(e,t,n){var r=e.action,i=e.getState;if(!y.hasUser(i(),t))throw new Error('There is no user with "'+t+'" ID. You should add it first.');return j(["id","type"],n),r({id:t,data:Object(p.fb)(["name","email","avatar","properties"],n)}),y.getUser(i(),t)})),ee=Q.actionMethod,te=Q.requestActionMethod,ne=function(e){var t;return void 0===e&&(e={}),Object(f.d)(e,((t={})[L]=function(e,t){var n,r=t.feature,i=t.data;return Object(s.a)({},e,{config:Object(s.a)({},e.config,{features:Object(s.a)({},e.config.features,(n={},n[r]=Object(s.a)({},e.config.features[r],i),n))})})},t[M]=function(e,t){return Object(s.a)({},e,t)},t))},re=function(e){return Object(p.Bb)(e).reduce((function(e,t){var n=t.serverId,r=t.id;return null===n||(e[n]=r),e}),{})},ie=function(e,t){var n;return null!==t.serverId?Object(s.a)({},e,((n={})[t.serverId]=t.id,n)):e},oe=function(e,t){var n,r,i=t.id,o=t.chat,a=t.event;return Object(s.a)({},e,{chats:Object(s.a)({},e.chats,{byIds:Object(s.a)({},e.chats.byIds,(r={},r[o]=Object(s.a)({},e.chats.byIds[o],{events:{byIds:Object(s.a)({},e.chats.byIds[o].events.byIds,(n={},n[i]=a,n)),orderedIds:e.chats.byIds[o].events.orderedIds.concat(i),serverIdsMapping:ie(e.chats.byIds[o].events.serverIdsMapping,a)}}),r))})})},ae=function(e,t){var n,r=t.id,i=t.chat;return Object(s.a)({},e,{chats:Object(s.a)({},e.chats,{byIds:Object(s.a)({},e.chats.byIds,(n={},n[i]=Object(s.a)({},e.chats.byIds[i],{events:{byIds:Object(p.X)([r],e.chats.byIds[i].events.byIds),orderedIds:e.chats.byIds[i].events.orderedIds.filter((function(e){return e!==r})),serverIdsMapping:Object(p.Y)((function(e){return e===r}),e.chats.byIds[i].events.serverIdsMapping)}}),n))})})},ue=function(e,t){var n,r=t.chat,i=t.events;return Object(s.a)({},e,{chats:Object(s.a)({},e.chats,{byIds:Object(s.a)({},e.chats.byIds,(n={},n[r]=Object(s.a)({},e.chats.byIds[r],{events:{byIds:Object(s.a)({},e.chats.byIds[r].events.byIds,Object(p.K)("id",i)),orderedIds:i.map((function(e){return e.id})).concat(e.chats.byIds[r].events.orderedIds),serverIdsMapping:Object(s.a)({},e.chats.byIds[r].events.serverIdsMapping,Object(p.P)((function(e){return e.id}),Object(p.K)("serverId",i)))}}),n))})})},ce=function(e,t){var n,r=t.id,i=t.user;return Object(s.a)({},e,{users:Object(s.a)({},e.users,{byIds:Object(s.a)({},e.users.byIds,(n={},n[r]=i,n)),serverIdsMapping:ie(e.users.serverIdsMapping,i)})})},se=function(e,t,n){var r,i=n.properties,o=Object(m.a)(n,["properties"]),a=e.byIds[t];return Object(s.a)({},e,{byIds:Object(s.a)({},e.byIds,(r={},r[t]=Object(s.a)({},a,o,{properties:i?Object(s.a)({},a.properties,i):a.properties}),r))})},le=function(e,t,n){var r,i,o=e.byIds[t],a=Object(s.a)({byIds:Object(s.a)({},e.byIds,(r={},r[t]=Object(s.a)({},o,n),r))},n.serverId&&Object(p.B)("serverIdsMapping",e)&&Object(s.a)({},e.serverIdsMapping,((i={})[n.serverId]=t,i)));return Object(s.a)({},e,a)},de=function(e){var t,n=(void 0===e?{}:e).users,r=void 0===n?[]:n,i=Object(p.K)("id",r.map(g));return Object(f.d)({users:{byIds:Object(s.a)({},i,{system:{id:"system",type:"system"}}),serverIdsMapping:re(i)},chats:{byIds:{},serverIdsMapping:{}}},((t={})[E]=function(e,t){var n,r=t.id,i=t.chat,o=t.events;return Object(s.a)({},e,{chats:Object(s.a)({},e.chats,{byIds:Object(s.a)({},e.chats.byIds,(n={},n[r]=Object(s.a)({},i,{events:{byIds:Object(p.K)("id",o),orderedIds:o.map((function(e){return e.id})),serverIdsMapping:re(o)}}),n)),serverIdsMapping:ie(e.chats.serverIdsMapping,i)})})},t[D]=oe,t[k]=ae,t[I]=ue,t[S]=function(e,t){var n,r=t.chat,i=t.user,o=e.chats.byIds[r].participants;return Object(p.p)((function(e){return i===e}),o)>-1?e:Object(s.a)({},e,{chats:Object(s.a)({},e.chats,{byIds:Object(s.a)({},e.chats.byIds,(n={},n[r]=Object(s.a)({},e.chats.byIds[r],{participants:[].concat(o,[i])}),n))})})},t[A]=ce,t[T]=function(e,t){var n,r=t.id;return Object(s.a)({},e,{chats:Object(s.a)({},e.chats,{byIds:Object(s.a)({},e.chats.byIds,(n={},n[r]=Object(s.a)({},e.chats.byIds[r],{serverId:null,events:{byIds:{},orderedIds:[],serverIdsMapping:{}},properties:{}}),n))})})},t[z]=function(e,t){var n,r=t.chat,i=t.user,o=e.chats.byIds[r].participants,a=Object(p.p)((function(e){return i===e}),o);return-1===a?e:Object(s.a)({},e,{chats:Object(s.a)({},e.chats,{byIds:Object(s.a)({},e.chats.byIds,(n={},n[r]=Object(s.a)({},e.chats.byIds[r],{participants:Object(p.ib)(a,o)}),n))})})},t[B]=oe,t[R]=function(e,t){var n,r=t.id,i=t.serverId;return Object(s.a)({},e,{chats:Object(s.a)({},se(e.chats,r,{serverId:i}),{serverIdsMapping:Object(s.a)({},e.chats.serverIdsMapping,(n={},n[i]=r,n))})})},t[N]=function(e,t){var n,r,i=t.id,o=t.chat,a=t.serverId;return Object(s.a)({},e,{chats:Object(s.a)({},e.chats,{byIds:Object(s.a)({},e.chats.byIds,(r={},r[o]=Object(s.a)({},e.chats.byIds[o],{events:Object(s.a)({},se(e.chats.byIds[o].events,i,{serverId:a}),{serverIdsMapping:Object(s.a)({},e.chats.byIds[o].events.serverIdsMapping,(n={},n[a]=i,n))})}),r))})})},t[q]=function(e,t){var n,r=t.id,i=t.chat,o=t.data;return Object(s.a)({},e,{chats:Object(s.a)({},e.chats,{byIds:Object(s.a)({},e.chats.byIds,(n={},n[i]=Object(s.a)({},e.chats.byIds[i],{events:le(e.chats.byIds[i].events,r,o)}),n))})})},t[G]=function(e,t){var n=t.id,r=t.properties;return Object(s.a)({},e,{users:le(e.users,n,{properties:r})})},t[U]=function(e,t){var n,r=t.id,i=t.serverId;return Object(s.a)({},e,{users:Object(s.a)({},se(e.users,r,{serverId:i}),{serverIdsMapping:Object(s.a)({},e.users.serverIdsMapping,(n={},n[i]=r,n))})})},t[Z]=function(e,t){var n=t.id,r=t.data;return Object(s.a)({},e,{chats:se(e.chats,n,r)})},t[J]=function(e,t){var n,r=t.id,i=t.chat,o=t.data;return Object(s.a)({},e,{chats:Object(s.a)({},e.chats,{byIds:Object(s.a)({},e.chats.byIds,(n={},n[i]=Object(s.a)({},e.chats.byIds[i],{events:se(e.chats.byIds[i].events,r,o)}),n))})})},t[ee]=function(e,t){var n=t.id,r=t.data;return Object(s.a)({},e,{users:se(e.users,n,r)})},t))},fe=function(e){return void 0===e&&(e={}),function(t,n){return void 0===t&&(t=e),n.type!==String(V)?t:Object(s.a)({},t,n.payload)}},pe=function(e){var t;return Object(f.d)(function(e){var t=e.id,n=e.connectionState;return{id:t,connectionState:void 0===n?u:n}}(e),((t={})[P]=function(e,t){var n=t.connectionState;return Object(s.a)({},e,{connectionState:n})},t))},he=function(e){return+new Date(e).setHours(0,0,0,0)},me=function(e,t){return he(e)===he(t)},be=function(e){var t=e.sessionUserId,n=e.event,r=e.showDate,i=void 0!==r&&r;return{own:n.author===t,author:n.author,events:[{id:n.id,type:n.type}],type:n.type,showDate:i,timestamp:n.timestamp}},ve=function(e,t){return be({sessionUserId:y.getSessionUser(e).id,event:t,showDate:!0})},ge=function(e){return Object(p.W)((function(e){return-1*Object(p.y)(0,"timestamp",Object(p.M)(e.events))}),e).map((function(e){return{id:e.id}}))},ye=function(e,t){var n,r=t.id;return Object(s.a)({},e,{Chat:Object(s.a)({},e.Chat,(n={},n[r]=Object(s.a)({},e.Chat[r],{timeline:[]}),n))})},Oe=function(){return!1},je=function(){return!0},we=function(){return function(e){return void 0===e&&(e={}),e}},_e=function(e,t){return Object(f.f)(Object(l.b)(Object(p.Q)((function(t,n){return t(e[n])}),{application:ne,entities:de,localization:fe,session:pe,views:we})),function(e){var t=e.shouldAddToTimeline,n=void 0===t?je:t,r=e.shouldCreateNewGroup,i=void 0===r?Oe:r,o=function(e,t){var n=y.getSessionUser(e).id;return function(r,o){var a=Object(p.M)(r),u=y.getEvent(e,t,Object(p.M)(a.events).id);if("message_draft"===o.type&&"form"===a.type){var c=Object(p.q)((function(e){return"message_draft"===e.type}),r);return c?[].concat(Object(p.k)(2,r),[Object(s.a)({},c,{events:[].concat(c.events,[{id:o.id,type:o.type}])}),a]):[].concat(Object(p.k)(1,r),[be({sessionUserId:n,event:o}),a])}return me(u.timestamp,o.timestamp)?o.timestamp>=a.timestamp+3e5||a.author!==o.author||i(o)?[].concat(r,[be({sessionUserId:n,event:o})]):[].concat(Object(p.k)(1,r),[Object(s.a)({},a,{events:[].concat(a.events,[{id:o.id,type:o.type}])})]):[].concat(r,[be({sessionUserId:n,event:o,showDate:!0})])}},a=function(e,t,r){var i=r.filter(n);if(0===i.length)return[];var a=i[0],u=i.slice(1),c=ve(e,a);return u.reduce(o(e,t),[c])},u=function(e,t,n){var r=y.getChats(n);return{Chat:Object(p.P)((function(e){var t;return(t={})[e.id]={timeline:a(n,e.id,e.events)},t}),r),ChatList:ge(r),current:null}},c=function(e,t,n){var r,i=t.id;return Object(s.a)({},e,{Chat:Object(s.a)({},e.Chat,(r={},r[i]={timeline:a(n,i,y.getChat(n,i).events)},r)),ChatList:ge(y.getChats(n))})},l=function(e,t,r){var i,a=t.chat,u=t.id,c=e.Chat[a].timeline,l=y.getEvent(r,a,u);return n(l)?Object(s.a)({},e,{Chat:Object(s.a)({},e.Chat,(i={},i[a]=Object(s.a)({},e.Chat[a],{timeline:c.length>0?o(r,a)(c,l):[ve(r,l)]}),i)),ChatList:ge(y.getChats(r))}):e},d=function(e,t){var n,r,i=t.chat,o=t.id,a=e.Chat[i].timeline,u=Object(p.p)((function(e){return e.events.some((function(e){return e.id===o}))}),a),c=a[u],l=c.events.filter((function(e){return e.id!==o}));return l.length>0?r=Object(p.Ab)(u,Object(s.a)({},c,{events:l}),a):(r=u+1<a.length?Object(p.Ab)(u+1,Object(s.a)({},a[u+1],{showDate:a[u+1].showDate||c.showDate}),a):a,r=Object(p.ib)(u,r)),Object(s.a)({},e,{Chat:Object(s.a)({},e.Chat,(n={},n[i]=Object(s.a)({},e.Chat[i],{timeline:r}),n))})},f=function(e,t,n){var r,i=t.chat,o=t.events,u=e.Chat[i].timeline,c=u[0],l=u.slice(1),d=Object(p.M)(o);c&&me(d.timestamp,c.timestamp)&&(c=Object(s.a)({},c,{showDate:me(Date.now(),c.timestamp)}));var f=a(n,i,o),h=c?[].concat(f,[c],l):f,m=o[0],b=!me(m.timestamp,Date.now());return Object(s.a)({},e,{Chat:Object(s.a)({},e.Chat,(r={},r[i]=Object(s.a)({},e.Chat[i],{hasDividers:b,timeline:h}),r))})},h=function(e,t,n){var r,i=t.id;return Object(s.a)({},e,{Chat:Object(s.a)({},e.Chat,(r={},r[i]={timeline:a(n,i,y.getChat(n,i).events)},r))})};return function(e,t){var n=t.type,r=t.payload;if(Object(p.F)(e.views))return Object(s.a)({},e,{views:u(e.views,0,e)});switch(n){case String(E):return Object(s.a)({},e,{views:c(e.views,r,e)});case String(D):case String(B):return Object(s.a)({},e,{views:l(e.views,r,e)});case String(k):return Object(s.a)({},e,{views:d(e.views,r)});case String(I):return Object(s.a)({},e,{views:f(e.views,r,e)});case String(w):var i=r.name.replace(/\//gi,".");return Object(s.a)({},e,{views:Object(p.jb)(i,r.data,e.views)});case String(T):return Object(s.a)({},e,{views:ye(e.views,r)});case String(C):var o=r.path.replace(/\//gi,".")+"._default";return Object(s.a)({},e,{views:Object(p.jb)(o,r.name,e.views)});case String(F):return Object(s.a)({},e,{views:h(e.views,r,e)});case String(_):return Object(s.a)({},e,{views:Object(s.a)({},e.views,{current:r.name})});case String(x):var a=r.name.replace(/\//gi,"."),m=Object(p.x)(a,e.views);return Object(s.a)({},e,{views:Object(p.jb)(a,Object(s.a)({},m,r.data),e.views)});default:return e}}}(t))},xe=function(e,t){var n=e.id,r=t.getState;return y.getChat(r(),n)},Ce=function(e,t){var n=e.id,r=e.chat,i=t.getState;return{chat:r,event:y.getEvent(i(),r,n)}},Ee=function(e,t){var n=e.id,r=t.getState;return y.getUser(r(),n)},De=function(e){var t=y.getCurrentView(e);return{view:t,default:y.getDefaultView(e,t)}},ke=function(e){var t;return function(e,t){return function(n,r){if(Object(p.B)(n.type,e)){var i=e[n.type](n.payload,r);n.meta&&(i.meta=n.meta),t(n.type.toLowerCase(),i)}}}(((t={})[E]=xe,t[D]=Ce,t[A]=Ee,t[T]=xe,t[Y]=p.C,t[X]=p.C,t[B]=Ce,t[M]=function(e,t){var n=t.getState;return y.getApplicationState(n())},t[P]=function(e,t){var n=t.getState;return y.getConnectionState(n())},t[_]=function(e,t){var n=e.name,r=t.getState;return{name:n,data:y.getView(r(),n),viewInfo:De(r())}},t[C]=function(e,t){var n=e.name,r=e.path,i=t.getState;return{name:n,path:r,data:y.getView(i(),r+"/"+n),viewInfo:De(i())}},t[Z]=xe,t[J]=Ce,t[ee]=Ee,t[G]=Ee,t[te]=p.C,t[W]=p.C,t[R]=p.C,t),e)};function Ie(e,t){void 0===e&&(e={}),void 0===t&&(t={});var n=Object(d.a)(),r=p.C,o=Object(h.a)(),a=Object(l.c)(_e(function(e){var t=e.entities,n=void 0===t?{}:t,r=e.session,i=void 0===r?{}:r,o=i.id,a=void 0===o?"session_"+Object(p.v)():o,u=n.users,c=void 0===u?[]:u,l=Object(p.o)((function(e){return e.id===a}),c);return Object(s.a)({},e,{entities:Object(s.a)({},n,{users:l?c:[].concat(c,[{id:a,serverId:null}])}),session:Object(s.a)({},i,{id:a})})}(e),t),void 0,r(Object(l.a)(o)));o.add(ke(n.emit));var u=a.getState(),c=u,m=u;return a.subscribe((function(){var e=a.getState();if(m!==e){var t=[m,e];c=t[0],m=t[1]}})),Object(p.a)(a,Object(f.a)(i,a),Object(f.b)(y,a.getState),{getPreviousState:function(){return c},emit:n.emit,on:n.on,once:n.once,off:function(e,t){if(!e||!t)throw new Error(".off needs to be called with both type and handler arguments.");if("*"===e)throw new Error(".off('*', ...) is not supported.");n.off(e,t)}}),a}var Se=n(101),Ae={},Te=function(){return Ae};var Fe=function(e,t){return void 0===t&&(t={}),Object(Se.b)(e,Te,void 0,Object(s.a)({areStatesEqual:function(e){return e.getState()===e.getPreviousState()}},t))},ze=n(0),Be=ze.createContext(void 0),Me=Fe((function(e){return{localize:e.localize,localization:e.getState().localization}}))((function(e){var t=e.localize,n=e.children;return ze.createElement(Be.Provider,{value:function(e,n){return t(e,n)}},n)})),Le=function(e){if("string"===typeof e.children){var t=e.children,n=Object(m.a)(e,["children"]);return ze.createElement(Be.Consumer,null,(function(e){return e(t,n)}))}return ze.createElement(Be.Consumer,e)};function Pe(e){var t=e.store,n=e.children,r=Object.create(t);return r.getState=function(){return t},ze.createElement(Se.a,{store:r},ze.createElement(Me,null,n))}},function(e,t,n){"use strict";n.d(t,"c",(function(){return r.a})),n.d(t,"d",(function(){return r.b})),n.d(t,"e",(function(){return r.c})),n.d(t,"b",(function(){return i.a})),n.d(t,"f",(function(){return i.g})),n.d(t,"a",(function(){return m}));var r=n(29),i=n(36),o=n(1),a=n(5),u=n(2),c=n(3),s=n(9),l=n(17),d=n(45),f=n(86),p=n(41),h=function(e){return s.j(e).some((function(e){return"form"===e.type&&e.properties.fields.some((function(e){return"group_chooser"===e.type}))}))},m=function(e){var t=Object(a.y)(Object(d.c)(e,(function(e){return Object(p.a)(e,"maximized")})),Object(a.B)(1),Object(a.i)(Boolean));Object(a.y)(t,Object(a.F)(1),Object(a.i)((function(){return!Math.floor(1e3*Math.random())})),Object(a.j)((function(){return function(e){Object(i.h)({isMessagingModeEnabled:s.H(e),isCustomerInvited:s.A(e,c.d),groupAvailability:e.getApplicationState().availability,minimizedType:s.l(e)})}(e)}))),Object(a.y)(Object(d.a)(e),Object(a.j)((function(){return function(e){var t=e.getApplicationState(),n=t.s,r=t.embedded,a=t.testGroup,d=t.actingAsDirectLink,p=t.config,m=t.language,b=t.integrationName,v=t.clientChatNumber,g=t.clientVisitNumber,y=p&&p.theme&&p.theme.name,O=Object(f.b)()||"none",j=Object(l.e)(),w=s.E(e),_=!!s.x(e,c.d),x=!!e.getSessionUser().email,C=s.A(e,c.d)?"invitation":"other",E=s.l(e),D=s.j(e),k=D.find((function(e){return!!e.properties.invitation})),I=Object(u.M)(D.filter((function(e){return"message"===e.type||"message_draft"===e.type})));Object(i.b)(Object(o.a)({s:n,embedded:r,themeName:y,testGroup:a,uniqueGroups:j,minimizedType:E,language:m||"unknown",integrationName:b||"none",mobileBridgeType:O,chatHistoryEnabled:w,hasPreviousChatThreads:_,hasGroupChooser:String(h(e)),hasBeenImmediatelyQueued:String(e.getChat(c.d).properties.queued),isCustomerEmailSet:x,actingAsDirectLink:d,chatWidgetWidth:window.innerWidth,chatWidgetHeight:window.innerHeight,clientChatNumber:v+1,clientVisitNumber:g,chatSource:C,fromGreeting:!!Object(u.y)(!1,"properties.fromGreeting",I)},"invitation"===C&&k&&{greetingId:k.properties.id,greetingUniqueId:k.properties.uniqueId,greetingType:k.properties.type,greetingSubtype:k.properties.subtype,greetingAddon:k.properties.addon||"none"}))}(e)})))}},function(e,t,n){"use strict";var r=n(1),i=n(8),o=n(174);t.a=function(){var e=Object(o.a)(),t=e.all,n=Object(i.a)(e,["all"]);return Object(r.a)({},n,{off:function(e,r){e?n.off(e,r):t.clear()},once:function(e,t){n.on(e,(function r(i,o){n.off(e,r),t(i,o)}))}})}},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return g})),n.d(t,"c",(function(){return y}));var r,i=n(1),o=n(8),a=n(43),u=n(13);!function(e){e[e.Emergency=0]="Emergency",e[e.Alert=1]="Alert",e[e.Critical=2]="Critical",e[e.Error=3]="Error",e[e.Warning=4]="Warning",e[e.Notice=5]="Notice",e[e.Informational=6]="Informational",e[e.Debug=7]="Debug"}(r||(r={}));var c=function(e){var t=e.type,n=e.license,r=Object(o.a)(e,["type","license"]),i={licence_id:n.toString(),event_id:t,message:JSON.stringify(r)},c="https://queue.livechatinc.com/logs";return Object(a.a)(c,{method:"POST",headers:{Accept:"*/*","Content-Type":"application/x-www-form-urlencoded"},body:Object(u.a)(i)}).then((function(){return Promise.resolve()}))},s=n(2),l=n(17),d=n(69),f="_livechat_has_visited",p=n(31),h=[/sendURLToGuardwareProxy/i,/safari-extension:\/\//],m=!("true"===d.a.getItem(f));d.a.setItem(f,"true");var b=function(e,t,n){var r=(new Intl.DateTimeFormat).resolvedOptions().timeZone,o=Object(i.a)({type:"chat_widget_"+t,license:Object(l.c)(),userAgent:navigator.userAgent,mobile:Object(p.g)(),timeZone:String(r),logVersion:"2021-03-03",firstTimeVisitor:m,severity:e,lc_env:"production"},n);if(r){var a=r.split("/")[0];a!==r&&(o.timeZoneArea=String(a))}return c(o)},v=function(e,t,n){var r,o={};if(t instanceof Error?(o.errorMessage=t.message,o.stack=t.stack,o.code=t.code):o.errorMessage=JSON.stringify({error:t}),r=o,!h.some((function(e){return e.test(r.errorMessage+" "+r.stack)})))return Object(s.H)(n)||(n={meta:JSON.stringify({info:n})}),b("Error",e,Object(i.a)({},n,o))},g=function(e,t){return b("Informational",e,t)},y=function(e){return b("Notice",e)}},,function(e,t,n){"use strict";n.d(t,"h",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"f",(function(){return a})),n.d(t,"g",(function(){return u})),n.d(t,"i",(function(){return c})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return f}));var r=n(2),i=function(e){return!!e&&/native code/.test(String(e))},o=function(){return!i(window.matchMedia)||!window.matchMedia("(hover: none)").matches},a=function(){return Object(r.D)(navigator.platform,["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"])&&Object(r.D)("Version/15",navigator.userAgent)},u=function(){return/mobile/gi.test(navigator.userAgent)&&!("MacIntel"===navigator.platform&&Object(r.D)("iPad",navigator.userAgent))},c=function(){return u()||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>0},s=function(){return Object(r.D)("Chrome",navigator.userAgent)},l=function(){var e=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);return e?parseInt(e[2],10):0},d=function(){return Object(r.D)("Chrome-Lighthouse",navigator.userAgent)},f=function(){return/Firefox/.test(navigator.userAgent)}},,function(e,t,n){"use strict";n.d(t,"d",(function(){return r.a})),n.d(t,"c",(function(){return i.a})),n.d(t,"l",(function(){return o.a})),n.d(t,"m",(function(){return a.a})),n.d(t,"t",(function(){return c.a})),n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return b})),n.d(t,"g",(function(){return g})),n.d(t,"h",(function(){return _})),n.d(t,"k",(function(){return x})),n.d(t,"n",(function(){return d})),n.d(t,"o",(function(){return C})),n.d(t,"p",(function(){return E})),n.d(t,"q",(function(){return D})),n.d(t,"s",(function(){return z})),n.d(t,"u",(function(){return B})),n.d(t,"v",(function(){return M})),n.d(t,"w",(function(){return L})),n.d(t,"x",(function(){return P})),n.d(t,"i",(function(){return N})),n.d(t,"r",(function(){return W})),n.d(t,"e",(function(){return $})),n.d(t,"f",(function(){return Z})),n.d(t,"j",(function(){return K}));var r=n(113),i=n(82),o=n(48),a=n(224),u=n(114),c=n(132),s=n(131),l=n(0);var d=function(e){l.useEffect(e,[])};function f(e){return e<0?-1:1}function p(e,t){var n,r,i;return n=0,r=1,i=t+e/100,Math.min(Math.max(i,n),r)}var h=function(e,t){var n=Object(o.a)(t);d((function(){var t=0,r=0,i=1,o=1,a=0,u=0,c=0,s=function(e,i){t=p(e,t),r=p(i,r),n.current({x:t,y:r})},l=function e(n){var a=("x"===n||"xy"===n)&&t>0&&t<1,u=("y"===n||"xy"===n)&&r>0&&r<1;(a||u)&&(s(a?5*i:0,u?5*o:0),c=requestAnimationFrame((function(){return e(n)})))},d=e.subscribe((function(e){var t=e.deltaX,n=e.deltaY;Math.abs(t)>8&&(s(t,0),i=f(t),clearTimeout(a),a=window.setTimeout((function(){return l("x")}),50)),Math.abs(n)>8&&(s(0,n),o=f(n),clearTimeout(u),u=window.setTimeout((function(){return l("y")}),50))}));return function(){d(),clearTimeout(a),clearTimeout(u),cancelAnimationFrame(c)}}))},m=function e(t,n){t.forEach((function(t){if(t!==n.modalElement){if(!n.ancestors.has(t)){var r=t.getAttribute("aria-hidden");return n.originalValues.set(t,r),void t.setAttribute("aria-hidden","true")}t.children&&e([].slice.call(t.children),n)}}))},b=function(e){l.useEffect((function(){if(e){var t=e.current,n=t.ownerDocument||document,r=function(e,t){for(var n=new Set,r=e;r=r.parentElement;){if(t.body===r)return n;n.add(r)}return n}(t,n),i=new Map;return m([].slice.call(n.body.children),{ancestors:r,originalValues:i,modalElement:t}),function(){i.forEach((function(e,t){null!==e?t.setAttribute("aria-hidden",e):t.removeAttribute("aria-hidden")}))}}}),[e])};function v(e,t,n){l.useEffect((function(){return document.addEventListener(e,t,n),function(){return document.removeEventListener(e,t,n)}}),[e,t,n])}var g=function(e,t){l.useEffect((function(){var n=t.current;if(n){var r=function(e){e.preventDefault()};return n.addEventListener(e,r,{passive:!1}),function(){return n.removeEventListener("touchmove",r)}}}),[e,t])},y=0,O=null,j=function(){O="keyboard"},w=function(){O="click"},_=function(e){var t=(null==e?void 0:e.document)||document;return l.useEffect((function(){return 0===y&&(t.addEventListener("keydown",j,!0),t.addEventListener("mousedown",w,!0),t.addEventListener("touchstart",w,!0)),y++,function(){--y>0||(O=null,t.removeEventListener("keydown",j,!0),t.removeEventListener("mousedown",w,!0),t.removeEventListener("touchstart",w,!0))}}),[t]),l.useCallback((function(){return O}),[])};var x=function(e){return{onKeyPress:l.useCallback((function(t){var n=t.key;"Enter"!==n&&" "!==n||e()}),[e])}};var C=function(e){var t=Object(o.a)(e);l.useEffect((function(){return function(){return t.current()}}),[t])},E=function(e,t){var n=l.useRef(!1);l.useEffect((function(){n.current?e():n.current=!0}),t)},D=function(e){var t=l.useRef(!1),n=Object(o.a)(e);return l.useEffect((function(){t.current&&(t.current=!1,n.current())})),l.useCallback((function(){t.current=!0}),[])},k=n(2),I=n(14),S=n(176),A={duration:0},T=Object(S.a)(),F=["End","Home","Space","PageUp","PageDown","ArrowUp","ArrowDown"];var z=function(e,t){void 0===t&&(t={});var n=t,r=n.firstItemKey,i=n.lastItemKey,o=n.topThreshold,a=void 0===o?20:o,s=n.bottomThreshold,d=void 0===s?20:s,f=n.initialScrollTop,p=n.onIsUserScrollingChanged,h=n.onIsScrolledToTopChanged,m=n.onIsScrolledToBottomChanged,b=n.onScrollDeltaChanged,g=n.isScrollingChangedTimeout,y=void 0===g?300:g,O=l.useRef(0),j=l.useRef(0),w=l.useRef(!1),_=l.useRef(!1),x=l.useRef(!1),C=l.useRef(!1),E=l.useRef(null),D=l.useRef({timeout:0,value:!1}),S=l.useRef("none"),z=Object(c.a)("y",e),B=l.useCallback((function(){C.current=!0,z.apply(void 0,arguments)}),[z]),M=Object(u.a)(r),L=Object(u.a)(i),P=l.useCallback((function(){C.current=!1}),[]),R=l.useCallback((function(){return _.current}),[]),q=l.useCallback((function(){return x.current}),[]),N=l.useCallback((function(e){return B(0,e)}),[z]),V=l.useCallback((function(t){if(e.current){var n=e.current,r=n.scrollHeight,i=n.clientHeight;B(r-i,t),S.current=t&&0===t.duration?"instant":"animated"}}),[e,B]),U=l.useCallback((function(e){return E.current=e}),[]),H=l.useCallback((function(){return!!e.current&&e.current.scrollHeight>e.current.clientHeight}),[e]),G=l.useCallback((function(){D.current.value||(D.current.value=!0,p&&p(D.current.value)),clearTimeout(D.current.timeout),D.current.timeout=window.setTimeout((function(){D.current.value&&(D.current.value=!1,p&&p(D.current.value))}),y)}),[y]),W=l.useCallback((function(){var t=e.current,n=t.scrollTop,r=t.scrollHeight,i=O.current>n,o=O.current<n,u=O.current===n,c=r<j.current,s=r>j.current,l=O.current-n,f=r>1.5*window.innerHeight;if(O.current=n,j.current=r,H()&&!C.current&&G(),!u||!w.current){("instant"===S.current||"animated"===S.current&&x.current)&&requestAnimationFrame((function(){V({duration:0}),S.current="none"}));var p=_.current&&i,v=x.current&&(o||c||s),g=p||Object(I.j)(t,a),y=v||Object(I.i)(t,d);h&&(!_.current&&g?h(!0):_.current&&!g&&h(!1)),m&&(!x.current&&y?m(!0):x.current&&!y&&m(!1)),_.current=g,x.current=y,!s&&!_.current&&b&&!x.current&&w.current&&D.current&&T&&!C.current&&f&&b({deltaX:0,deltaY:l/2})}}),[h,m,G]),$=l.useCallback((function(e){Object(k.D)(e.key,F)&&P()}),[P]),Z=function(){B(E.current.offsetTop,A),E.current=null},Y=function(){E.current?Z():(M!==r&&function(){var t=e.current.scrollHeight,n=j.current-O.current;B(t-n,A)}(),L!==i&&x.current&&V())};return v("keydown",$),l.useEffect((function(){!1===w.current?(E.current?Z():B("number"===typeof f?f:e.current.scrollHeight,A),W(),w.current=!0):Y()})),l.useEffect((function(){if(e.current){var t=e.current;return t.addEventListener("scroll",W,T?{passive:!0}:void 0),function(){return t.removeEventListener("scroll",W)}}}),[e,W]),{scrollTo:B,scrollToTop:N,scrollToBottom:V,getIsOnTop:R,getIsOnBottom:q,getIsScrollable:H,setScrollTargetNode:U,onWheel:P,onTouchStart:P}},B=function(e){return Object(s.useSubscription)({getCurrentValue:e.get,subscribe:e.subscribe})},M=function(e){return Object(r.a)((function(){var t=e,n=[];return{subscribe:function(e){return n.push(e),function(){n.splice(n.indexOf(e),1)}},next:function(e){t=e,n.forEach((function(t){return t(e)}))},get:function(){return t}}}))},L=function(e,t){l.useEffect((function(){var n=setTimeout(e,t);return function(){return clearTimeout(n)}}),[e,t])};function P(e){var t=l.useState(e),n=t[0],r=t[1];return[n,l.useCallback((function(){r((function(e){return!e}))}),[])]}var R=new Map,q=l.createContext(R);q.Provider;function N(e){var t=l.useContext(q);if(t.has(e))return t.get(e);var n={},r={get:function(){return n.value},set:function(e){return n.value=e},clear:function(){return delete n.value},destroy:function(){return t.delete(e)}};return t.set(e,r),r}var V='[role="row"]',U='[role="gridcell"]',H=function(e){var t,n;if(e.target&&Object(k.D)(e.key,["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"])){var r=e.target;switch(!0){case"TEXTAREA"===r.tagName:case"INPUT"===r.tagName&&"text"===(null==(t=r.attributes.type)?void 0:t.value):case"INPUT"===r.tagName&&"email"===(null==(n=r.attributes.type)?void 0:n.value):e.stopPropagation()}}},G=window.MutationObserver||window.WebKitMutationObserver;function W(e){var t=e.mainElementRef,n=e.itemsCount,r=e.tableEdgeReached,i=void 0===r?k.V:r,o=l.useState(n),a=o[0],u=o[1],c=l.useRef(!1),s=l.useRef(!1),d=l.useRef(null),f=l.useRef(null),p=l.useRef(null);v("keydown",(function(e){"Tab"===e.key&&(c.current=!0)})),v("keyup",(function(e){"Tab"===e.key&&(c.current=!1)}));var h=function(e){return e?Object(k.ub)(e.querySelectorAll("a, button, input, textarea, select")):[]},m=l.useCallback((function(){var e=new G((function(){if(s.current||p.current.contains(document.activeElement)){l(p.current);var e=h(p.current);e.forEach((function(e){e.tabIndex=0,e.addEventListener("blur",n),e.addEventListener("keydown",H)})),u(p.current,!1),e.length&&!p.current.contains(document.activeElement)&&e[0].focus()}})),n=function(e){var t=e.target===p.current,n=e.relatedTarget===p.current,i=p.current.contains(e.target),o=p.current.contains(e.relatedTarget);if(c.current&&e.relatedTarget&&!t&&(!o||n))return e.preventDefault(),void requestAnimationFrame((function(){return e.target.focus()}));i&&!o&&r()},r=function(){h(p.current).forEach((function(e){e.tabIndex=-1,e.removeEventListener("blur",n),e.removeEventListener("keydown",H)}))},o=function(e){" "===e.key&&e.target===p.current&&e.preventDefault()},a=function(e){switch(e.key){case" ":case"Enter":return void(e.target===p.current&&(e.preventDefault(),function(){var e=h(p.current).filter((function(e){return!e.disabled}));e.forEach((function(e){e.tabIndex=0,e.addEventListener("blur",n),e.addEventListener("keydown",H)})),e.length&&e[0].focus(),s.current=!0}()));case"Escape":return e.preventDefault(),r(),void requestAnimationFrame((function(){return p.current.focus()}))}},u=function(t,r){void 0===r&&(r=!0),t.tabIndex=0,r&&t.focus(),t.addEventListener("keyup",a),t.addEventListener("keydown",o),t.addEventListener("blur",n),e.observe(t,{childList:!0,subtree:!0})},l=function(t){t.tabIndex=-1,t.removeEventListener("keyup",a),t.removeEventListener("keydown",o),t.removeEventListener("blur",n),e.disconnect()},m=function(e){var t=e+"ElementSibling";if(f.current&&d.current&&(f.current[t]||d.current[t])){for(var n=null,r=f.current,o=d.current;!n;)if(r&&r[t])n=(r=r[t]).querySelector(U);else{if(!o||!o[t])return void i(e);if((o=o[t]).attributes.role&&"row"===o.attributes.role.value)r=o;else{var a=o.querySelectorAll(V);r="previous"===e?Object(k.M)(a):a[0]}n=r?r.querySelector(U):null}o!==d.current&&(d.current=o),r!==f.current&&(f.current=r),n!==p.current&&(l(p.current),u(n),p.current=n)}else i(e)},b=function(e){switch(e.key){case"ArrowUp":case"ArrowLeft":return e.preventDefault(),void m("previous");case"ArrowDown":case"ArrowRight":return e.preventDefault(),void m("next");default:return}};p.current&&u(p.current,!1);var v=t.current;return v.addEventListener("keydown",b),function(){e.disconnect(),v.removeEventListener("keydown",b)}}),[p,t,f,d,i]);l.useEffect((function(){var e=setTimeout((function(){return u(n)}),100);return function(){return clearTimeout(e)}}),[n]),l.useEffect((function(){if(t.current&&t.current.children.length){t.current.tabIndex=-1;var e=t.current.contains(document.activeElement),n=h(t.current);n.forEach((function(e){e.tabIndex=-1,e.addEventListener("keydown",H)})),Object(k.ub)(t.current.querySelectorAll(U)).forEach((function(t){e&&t===p.current||(t.tabIndex=-1)}));var r=Object(k.M)(Object(k.ub)(t.current.children)),i=r?r.querySelector(U):null,o=h(i),a=i&&i!==document.activeElement&&i.contains(document.activeElement),u=function(){return o.forEach((function(e){e.tabIndex=0,e.addEventListener("keydown",H)}))};if(a?u():o.forEach((function(e){e.addEventListener("focus",u)})),!e||a){if(d.current=Object(k.M)(Object(k.ub)(t.current.children)),!d.current)return;var c=d.current.attributes.role;if(f.current=c&&"row"===c.value?d.current:Object(k.M)(Object(k.ub)(d.current.querySelectorAll(V))),d.current.attributes.role&&"row"===d.current.attributes.role.value?f.current=d.current:f.current=Object(k.M)(Object(k.ub)(d.current.querySelectorAll(V))),!f.current)return;if(p.current=f.current.querySelector(U),!p.current)return}var s=m();return function(){s(),o.forEach((function(e){e.removeEventListener("keydown",H),e.removeEventListener("focus",u)})),n.filter(Boolean).forEach((function(e){e.removeEventListener("keydown",H)}))}}}),[p,f,d,t,m,a])}var $=function(e,t){void 0===e&&(e=!1),void 0===t&&(t=1e3);var n=l.useState(!1),r=n[0],i=n[1];return l.useEffect((function(){var n,r=function(){e||(i(!0),n=window.setTimeout((function(){i(!1)}),t))};return window.addEventListener("beforeunload",r),function(){window.removeEventListener("beforeunload",r),n&&window.clearTimeout(n)}}),[e,t]),r};var Z=function(e,t){var n=l.useState(e),r=n[0],i=n[1],o=l.useRef(null);return l.useEffect((function(){o.current=e?document.activeElement:null,i(e)}),[e,o]),[r,function(){t(),o.current instanceof HTMLElement&&o.current.focus()}]},Y=n(16),K=function(e){void 0===e&&(e=!1);var t=l.useState(e),n=t[0],r=t[1];return[n,Object(Y.h)({onFocusWithin:function(){r(!0)},onBlurWithin:function(){r(!1)}}).focusWithinProps]}},,,function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"h",(function(){return a})),n.d(t,"e",(function(){return u})),n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return s})),n.d(t,"f",(function(){return l})),n.d(t,"g",(function(){return d}));var r=n(29),i=function(e){return Object(r.b)("chat_started",e)},o=function(e){return Object(r.b)("chat_rated",e)},a=function(e){return Object(r.b)("widget_opened",e)},u=function(e){return Object(r.b)("greeting_displayed",e)},c=function(e){return Object(r.b)("greeting_dismissed",e)},s=function(e){return Object(r.b)("greeting_canceled",e)},l=function(e){return Object(r.b)("greeting_not_canceled",e)},d=function(e,t){return Object(r.b)("potential_connection_problem_"+e,t)}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"g",(function(){return s})),n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return f})),n.d(t,"i",(function(){return p})),n.d(t,"h",(function(){return h})),n.d(t,"d",(function(){return b})),n.d(t,"e",(function(){return v})),n.d(t,"k",(function(){return g})),n.d(t,"l",(function(){return y})),n.d(t,"j",(function(){return O})),n.d(t,"f",(function(){return C}));var r=n(7),i=n(4),o=n(21),a=n(180),u=function(e){var t=e.color,n=e.backgroundColor,r=e.hoverBackgroundColor;return Object(i.c)("color:",t,";background-color:",n,";&:hover{color:",t,";background-color:",r,";}")},c=Object(r.z)(r.d,{target:"e1osmd0p1"})("padding:",(function(e){return e.theme.spaces.space3}),";overflow:hidden;font-weight:400;white-space:nowrap;text-overflow:ellipsis;border:none!important;width:100%;display:block;outline-offset:2px;",(function(e){var t=e.theme,n=e.variant,r=e.disabled;return Object(i.c)(t.typography.input," border-radius:","modern"===t.name?4:6,"px!important;",(!n||"default"===n)&&u({color:Object(o.f)(.6,t.colors.cta),backgroundColor:Object(o.g)(.95,t.colors.cta),hoverBackgroundColor:Object(o.g)(.85,t.colors.cta)})," ","primary"===n&&u({color:t.colors.ctaText,backgroundColor:t.colors.cta,hoverBackgroundColor:Object(o.f)(.25,t.colors.cta)})," ","danger"===n&&u({color:t.colors.text.white,backgroundColor:t.colors.error,hoverBackgroundColor:Object(o.f)(.25,t.colors.error)})," ",r&&Object(a.b)(t),";")}),";"),s=Object(r.z)(r.d,{target:"e1osmd0p0"})("padding:6px 4px;width:100%;height:32px;overflow:hidden;font-weight:400;white-space:nowrap;text-overflow:ellipsis;border:none;",(function(e){var t=e.theme;return u({color:Object(o.f)(.6,t.colors.cta),backgroundColor:Object(o.d)(.02,t.colors.surface.lightVariant),hoverBackgroundColor:Object(o.d)(.01,t.colors.surface.lightVariant)})}),";"),l=n(106),d=Object(r.z)("ul",{target:"e52g9ij3"})("list-style:none;display:flex;flex-direction:column;margin:0;padding:1em;",(function(e){var t=e.compact,n=e.theme;return t&&Object(i.c)("padding:",n.spaces.space3,";flex-wrap:wrap;flex-direction:row;")}),";"),f=Object(r.z)("li",{target:"e52g9ij2"})("margin-bottom:",(function(e){return e.theme.spaces.space3}),";",(function(e){return e.compact&&Object(i.c)(l.a," padding:0;flex-grow:1;")}),";"),p=Object(r.z)("div",{target:"e52g9ij1"})("margin:0;padding:1em;",(function(e){var t=e.compact,n=e.theme;return t&&Object(i.c)("padding:",n.spaces.space3,";")}),";"),h=Object(r.z)("div",{target:"e52g9ij0"})("margin-bottom:",(function(e){return e.theme.spaces.space3}),";",(function(e){return e.compact&&Object(i.c)(l.a," padding:0;")}),";"),m=n(191),b=Object(r.z)(m.a,{target:"ezxewqd1"})("display:flex;overflow:hidden;flex-direction:",(function(e){return e.horizontalLayout?"row":"column"}),";width:",(function(e){return e.horizontalLayout?"100%":"230px"}),";max-width:100%;margin-bottom:0.1em;",(function(e){var t=e.theme;return"smooth"===t.name?Object(i.c)("box-shadow:",t.boxShadow.xs,";"):Object(i.c)("border:1px solid ",t.colors.divider,";")}),";"),v=Object(r.z)("div",{target:"ezxewqd0"})("display:flex;flex-direction:column;width:230px;min-width:0%;max-width:100%;color:",(function(e){return e.theme.colors.text.black}),";",(function(e){return e.narrow&&{flex:2}}),";");var g=Object(r.z)("div",{target:"eztkvdh2"})({name:"o30wb6",styles:"padding:1em;&:active{outline:none;}"}),y=Object(r.z)("h2",{target:"eztkvdh1"})({name:"yoe8zv",styles:"margin:0;margin-bottom:4px;font-size:1em;font-weight:400"}),O=Object(r.z)("p",{target:"eztkvdh0"})("margin:0;color:",(function(e){return e.theme.colors.grayscale[600]}),";"),j=n(115);var w={name:"idj2s4",styles:"object-fit:cover;width:100%;height:100%"},_={name:"je8g23",styles:"pointer-events:none"},x=Object(r.z)("div",{target:"ex5d4ma0"})("overflow:hidden;",(function(e){var t=e.horizontalLayout,n=e.theme;return t?Object(i.c)("flex:1;height:100%;border-top-left-radius:",n.borderRadius.md,";border-bottom-left-radius:",n.borderRadius.md,";"):Object(i.c)("width:100%;height:150px;border-top-left-radius:",n.borderRadius.md,";border-top-right-radius:",n.borderRadius.md,";")}),";"),C=function(e){var t=e.url,n=e.link,o=e.horizontalLayout,a=e.alternativeText,u=void 0===a?"":a,c=Object(i.d)(x,{horizontalLayout:o},Object(i.d)(r.h,{alt:u,src:t,css:w}));return n?Object(i.d)(j.a,{href:n,css:_},c):c}},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(6),i=function(e,t){return Object(r.getApplicationState)(e,"visibility").state===t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var r=n(0),i=n(234),o=n.n(i),a=function(){return new RegExp("("+o()().source+")")},u=n(235),c=n.n(u),s="msCrypto"in window,l=function(e){return!s&&c()(e)},d=n(4),f=n(7),p=n(236),h=n.n(p);var m=/\s/g,b=function(){return null},v={name:"14c9nf6",styles:"width:1.75em;height:1.75em;margin:-1px;vertical-align:middle!important;display:inline!important"},g=function(e){var t=e.emoji,n="https://cdn.livechat-static.com/api/file/lc/img/emoji-fallback/"+h()(t).toUpperCase().replace(m,"-")+".svg";return Object(d.d)(f.h,{alt:t,css:v,src:n},b)},y=r.memo(g),O=a(),j=function(e){return e.split(O).map((function(e,t){return!(t%2===1)||l(e)?e:r.createElement(y,{key:t,emoji:e})}))},w=function e(t){return r.Children.map(t,(function(t){var n;return"string"===typeof t?j(t):r.Children.count(null==t||null==(n=t.props)?void 0:n.children)?r.cloneElement(t,void 0,e(t.props.children)):t}))},_=function(e){var t=e.children;return"string"===typeof t?j(t):t?w(t):null},x=r.memo(_)},,,function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return l}));var r=n(5),i=n(2);function o(e,t){return Object(r.y)(Object(r.m)(e),Object(r.C)(e.getState()),Object(r.s)(t),Object(r.f)(i.kb))}var a=function(e,t){return Object(r.y)(o(e,(function(e){return e.application.readyState})),Object(r.i)((function(e){return e===t})),Object(r.F)(1),r.z)},u=n(6),c=n(23),s=n(3),l=function(e){return Object(r.y)(a(e,c.a.READY),Object(r.E)((function(){return Object(r.y)(o(e,(function(e){return Object(u.getChat)(e,s.d).active})),Object(r.B)(1),Object(r.i)(Boolean))})))}},,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return u}));var r=n(24),i=r.d.CONNECTED,o=r.d.DISCONNECTED,a="fakely_connected",u=(r.d.NOT_INITIALIZED,r.d.RECONNECTING)},,,function(e,t,n){"use strict";function r(){var e={};return e.promise=new Promise((function(t,n){e.resolve=t,e.reject=n})),e}n.d(t,"a",(function(){return r}))},,function(e,t,n){"use strict";n.d(t,"q",(function(){return d})),n.d(t,"A",(function(){return b})),n.d(t,"B",(function(){return x})),n.d(t,"a",(function(){return c.a})),n.d(t,"b",(function(){return c.b})),n.d(t,"c",(function(){return c.d})),n.d(t,"d",(function(){return c.e})),n.d(t,"e",(function(){return c.f})),n.d(t,"f",(function(){return c.g})),n.d(t,"g",(function(){return c.i})),n.d(t,"h",(function(){return c.j})),n.d(t,"i",(function(){return c.l})),n.d(t,"j",(function(){return c.m})),n.d(t,"k",(function(){return c.o})),n.d(t,"l",(function(){return c.p})),n.d(t,"m",(function(){return c.q})),n.d(t,"n",(function(){return c.r})),n.d(t,"o",(function(){return c.s})),n.d(t,"p",(function(){return c.t})),n.d(t,"r",(function(){return c.u})),n.d(t,"s",(function(){return c.v})),n.d(t,"t",(function(){return c.y})),n.d(t,"u",(function(){return c.z})),n.d(t,"v",(function(){return c.A})),n.d(t,"w",(function(){return c.B})),n.d(t,"x",(function(){return c.C})),n.d(t,"y",(function(){return c.D})),n.d(t,"z",(function(){return c.E})),n.d(t,"C",(function(){return c.F}));var r=n(22),i=n(1),o=n(8),a=n(0),u=n(7),c=n(59),s=Object(u.z)(u.g,{target:"eed86ay0"})("padding:0;flex-shrink:0;display:flex;align-items:center;justify-content:center;",(function(e){var t=e.size;return{width:t,height:t}}),";"),l=function(e){var t=e.buttonSize,n=void 0===t?32:t,r=e.iconSize,u=void 0===r?24:r,l=Object(o.a)(e,["buttonSize","iconSize"]);return a.createElement(s,Object(i.a)({size:n},l),a.createElement(c.n,{size:u},a.createElement(c.f,{size:u})))},d=Object(u.z)("div",{target:"e1viqdiv0"})("margin:8px 16px;background:",(function(e){return e.theme.colors.surface.light}),";box-shadow:",(function(e){return e.theme.boxShadow.sm}),";",(function(e){var t=e.stickToEdge,n=void 0!==t&&t,r=e.theme;return{marginBottom:n?"0":"8px",borderRadius:n?r.borderRadius.md+" "+r.borderRadius.md+" "+r.borderRadius.none+" "+r.borderRadius.none:r.borderRadius.md,"@media (orientation: landscape)":{maxWidth:"50%",margin:n?"0 auto":"0 auto 8px"}}}),";"),f=(n(89),n(2),n(142),n(190),n(200),n(141),n(199),n(106),n(109)),p=(Object(i.a)({},f.a,{colors:Object(i.a)({},f.a.colors,{cta:"#427fe1"})}),(new Date).toISOString(),n(20)),h=n(4);function m(){var e=Object(p.a)(["\n\t0% {\n\t\ttransform: scale(",");\n\t}\n\n\t25% {\n\t\ttransform: scale(",");\n\t}\n\n\t50% {\n\t\ttransform: scale(",");\n\t}\n\n\t100% {\n\t\ttransform: scale(1.0);\n\t}\n"]);return m=function(){return e},e}var b=Object(u.z)("div",{target:"eyqxlol0"})("display:flex;align-items:center;justify-content:center;width:auto;min-width:1.5em;border-radius:",(function(e){return e.theme.borderRadius.xl}),";padding:0 4px;flex-shrink:0;background-color:",(function(e){return e.theme.colors.notification}),";color:",(function(e){return e.theme.colors.text.white}),";height:1.5em;line-height:1.5em;text-align:center;font-size:0.8em;box-shadow:",(function(e){return e.theme.boxShadow.xs}),";font-weight:bold;animation-name:",(function(e){return function(e,t){return void 0===e&&(e=0),void 0===t&&(t=1.3),Object(h.e)(m(),e,e,t)}(e.minScale,e.maxScale)}),";animation-duration:0.625s;animation-timing-function:",(function(e){return e.theme.transitions.easings.spring}),";");var v=Object(u.z)(u.g,{target:"e1l1ek6a1"})("padding:0;flex-shrink:0;display:flex;align-items:center;justify-content:center;",(function(e){var t=e.size;return{width:t,height:t}}),";"),g=Object(u.z)(c.a,{target:"e1l1ek6a0"})({name:"jbgpyq",styles:"transform:rotate(90deg)"}),y=function(e){var t=e.buttonSize,n=void 0===t?32:t,r=e.iconSize,u=void 0===r?24:r,s=Object(o.a)(e,["buttonSize","iconSize"]);return a.createElement(v,Object(i.a)({size:n},s),a.createElement(c.n,{size:u},a.createElement(g,{size:u})))},O=n(42);var j=Object(u.z)("span",{target:"e1tnd1n32"})({name:"2h1wr3",styles:"flex-grow:1;flex-shrink:1"}),w=Object(u.z)("div",{target:"e1tnd1n31"})("display:flex;cursor:pointer;justify-content:flex-start;align-items:center;",(function(e){return e.theme.typography.basic}),";"),_=Object(u.z)(b,{target:"e1tnd1n30"})({name:"1oi6uwp",styles:"margin:0 6px;flex-shrink:0;box-shadow:none"}),x=function(e){var t=e.unseenCount,n=e.text,r=e.stickToEdge,u=e.onClose,c=e.onClick,s=Object(o.a)(e,["unseenCount","text","stickToEdge","onClose","onClick"]);return a.createElement(d,Object(i.a)({stickToEdge:r},s),a.createElement(w,{"aria-label":"new messages notification",onClick:c},a.createElement(_,null,t<100?t:"99+"),a.createElement(j,{ellipsis:!0},a.createElement(O.a,null,n)),a.createElement(y,{onClick:c,"aria-label":"scroll to latest "+(t>1?t+" messages":"message")}),a.createElement(l,{"aria-label":"close notification",onClick:function(e){e.stopPropagation(),u()}})))};r.g,r.c,r.f,r.a,r.b,r.e},,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return g})),n.d(t,"e",(function(){return y})),n.d(t,"f",(function(){return O})),n.d(t,"g",(function(){return j})),n.d(t,"h",(function(){return w})),n.d(t,"i",(function(){return _})),n.d(t,"j",(function(){return x})),n.d(t,"k",(function(){return C})),n.d(t,"l",(function(){return B})),n.d(t,"m",(function(){return L})),n.d(t,"n",(function(){return P})),n.d(t,"o",(function(){return R})),n.d(t,"p",(function(){return q})),n.d(t,"q",(function(){return N})),n.d(t,"r",(function(){return V})),n.d(t,"s",(function(){return U})),n.d(t,"t",(function(){return H})),n.d(t,"u",(function(){return G})),n.d(t,"v",(function(){return W})),n.d(t,"w",(function(){return Z})),n.d(t,"x",(function(){return Y})),n.d(t,"y",(function(){return K})),n.d(t,"z",(function(){return J})),n.d(t,"A",(function(){return X})),n.d(t,"B",(function(){return Q})),n.d(t,"C",(function(){return ee})),n.d(t,"D",(function(){return te})),n.d(t,"E",(function(){return ne})),n.d(t,"F",(function(){return re}));var r=n(20),i=n(4),o=n(11);function a(){var e=Object(r.a)(["\n\tto {\n\t\tstroke-dashoffset: 0;\n\t}\n"]);return a=function(){return e},e}var u=Object(i.e)(a()),c=Object(i.c)("fill:none;stroke:currentColor;stroke-width:2;stroke-linecap:round;stroke-linejoin:round;animation-fill-mode:forwards;animation-name:",u,";animation-duration:0.5s;animation-iteration-count:1;animation-timing-function:cubic-bezier(0, 0, 1, 1);stroke-dasharray:9.7;stroke-dashoffset:9.7;"),s=(Object(o.a)(Object(i.d)("polyline",{css:c,points:"4.3,8.1 5.3,9.1 6.8,10.5 9,8.2 11.1,6.1 "}),{size:16,viewBox:"0 0 16 16"}),n(0)),l=Object(o.a)(s.createElement("path",{d:"M23.7,16.7l-6,6c-0.4,0.4-1,0.4-1.4,0c-0.4-0.4-0.4-0.9-0.1-1.3l0.1-0.1l4.3-4.3H10c-0.5,0-0.9-0.4-1-0.9L9,16 c0-0.5,0.4-0.9,0.9-1l0.1,0h10.6l-4.3-4.3c-0.4-0.4-0.4-0.9-0.1-1.3l0.1-0.1c0.4-0.4,0.9-0.4,1.3-0.1l0.1,0.1l6,6 C24.1,15.7,24.1,16.2,23.7,16.7L23.7,16.7z"}),{size:32,viewBox:"0 0 32 32"}),d=Object(o.a)(s.createElement("path",{d:"M22,12.3c0.4,0.4,0.4,1,0,1.4l-6.4,6.4c-1.1,1.1-3,1.3-4,0.2l-0.4-0.4c-1.1-1.1-0.9-2.9,0.2-4l7.8-7.8 c1.6-1.6,4.3-1.4,6,0.4l0.7,0.7c1.7,1.7,1.9,4.4,0.4,6l-8.5,8.5c-2.7,2.7-7.2,2.7-9.9,0s-2.7-7.2,0-9.9l5.7-5.7c0.4-0.4,1-0.4,1.4,0 c0.4,0.4,0.4,1,0,1.4l-5.7,5.7c-2,2-2,5.1,0,7.1s5.1,2,7.1,0l8.5-8.5c0.8-0.8,0.6-2.2-0.4-3.2l-0.7-0.7c-1-1-2.4-1.1-3.2-0.4 l-7.8,7.8c-0.4,0.4-0.5,1-0.2,1.2l0.4,0.4c0.3,0.3,0.8,0.2,1.2-0.2l6.4-6.4c0.2-0.2,0.5-0.3,0.7-0.3C21.6,12,21.8,12.1,22,12.3z"}),{size:32,viewBox:"0 0 32 32"}),f=Object(o.a)(s.createElement("path",{d:"M12,18c-0.6,0-1-0.4-1-1c0-0.6,0.4-1,1-1s1,0.4,1,1C13,17.6,12.6,18,12,18z M10.5,7.1 C10.5,6.5,11.2,6,12,6s1.5,0.5,1.5,1.1c0.1,5.2-0.4,7.9-1.5,7.9S10.4,12.4,10.5,7.1z"}),{size:32,viewBox:"0 0 24 24"}),p=n(1),h=n(8),m=n(7),b=n(116),v=Object(m.z)("path",{target:"e1nep2br0"})((function(e){var t=e.collapsed;return{opacity:t?0:1,transform:"scale("+(t?0:1)+")"}})," transform-origin:50% 50%;transition:200ms ",(function(e){return e.theme.transitions.easings.spring})," 50ms;"),g=function(e){var t=e.backgroundColor,n=e.color,r=e.filled,i=void 0!==r&&r,o=Object(h.a)(e,["backgroundColor","color","filled"]);return s.createElement(b.a,Object(p.a)({viewBox:"0 0 32 32"},o),s.createElement("path",{fill:n,d:"M12.63,26.46H8.83a6.61,6.61,0,0,1-6.65-6.07,89.05,89.05,0,0,1,0-11.2A6.5,6.5,0,0,1,8.23,3.25a121.62,121.62,0,0,1,15.51,0A6.51,6.51,0,0,1,29.8,9.19a77.53,77.53,0,0,1,0,11.2,6.61,6.61,0,0,1-6.66,6.07H19.48L12.63,31V26.46"}),s.createElement(v,{collapsed:i,fill:t,d:"M19.57,21.68h3.67a2.08,2.08,0,0,0,2.11-1.81,89.86,89.86,0,0,0,0-10.38,1.9,1.9,0,0,0-1.84-1.74,113.15,113.15,0,0,0-15,0A1.9,1.9,0,0,0,6.71,9.49a74.92,74.92,0,0,0-.06,10.38,2,2,0,0,0,2.1,1.81h3.81V26.5Z"}))},y=Object(o.a)(s.createElement("path",{d:"M21.3331175,12.2868932 C21.7144399,11.9043689 22.3326857,11.9043689 22.7140082,12.2868932 C23.0953306,12.6694174 23.0953306,13.2896117 22.7140082,13.6721359 L17.1904454,19.2131068 C16.8091229,19.5956311 16.1908771,19.5956311 15.8095546,19.2131068 L10.2859918,13.6721359 C9.90466939,13.2896117 9.90466939,12.6694174 10.2859918,12.2868932 C10.6673143,11.9043689 11.2855601,11.9043689 11.6668825,12.2868932 L16.5,17.1352427 L21.3331175,12.2868932 Z"}),{size:32,viewBox:"0 0 32 32",fill:"none",stroke:"none",strokeWidth:1,fillRule:"evenodd"}),O=Object(o.a)(s.createElement("path",{d:"M17.4,16l5.3,5.3c0.4,0.4,0.4,1,0,1.4c-0.4,0.4-1,0.4-1.4,0L16,17.4l-5.3,5.3c-0.4,0.4-1,0.4-1.4,0\tc-0.4-0.4-0.4-1,0-1.4l5.3-5.3l-5.3-5.3c-0.4-0.4-0.4-1,0-1.4c0.4-0.4,1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0\tc0.4,0.4,0.4,1,0,1.4L17.4,16z"}),{size:32,viewBox:"0 0 32 32"}),j=Object(o.a)(s.createElement("path",{d:"M8,18c-1.1,0-2-0.9-2-2s0.9-2,2-2s2,0.9,2,2S9.1,18,8,18z M16,18c-1.1,0-2-0.9-2-2s0.9-2,2-2\ns2,0.9,2,2S17.1,18,16,18z M24,18c-1.1,0-2-0.9-2-2s0.9-2,2-2s2,0.9,2,2S25.1,18,24,18z"}),{size:32,viewBox:"0 0 32 32"}),w=Object(o.a)(s.createElement("path",{d:"M6,18h12c0.6,0,1,0.4,1,1c0,0.5-0.4,0.9-0.9,1L18,20H6c-0.6,0-1-0.4-1-1c0-0.5,0.4-0.9,0.9-1L6,18h12H6z M11.4,6\nL15,9.6l-6.1,6.1C8.7,15.9,8.5,16,8.3,16l-0.1,0H6.1c-0.5,0-1-0.4-1-0.9l0-0.1v-2.1c0-0.2,0.1-0.5,0.2-0.6l0.1-0.1L11.4,6z M15.4,3.2l0.1,0.1l2.2,2.2c0.4,0.4,0.4,1,0.1,1.4L17.7,7l-2,2L12,5.3l2-2C14.3,2.9,15,2.9,15.4,3.2z"}),{size:24,viewBox:"0 0 24 24"}),_=Object(o.a)(s.createElement("path",{d:"M16,6l0.3,0c5.4,0.1,9.7,4.6,9.7,10c0,5.5-4.5,10-10,10S6,21.5,6,16S10.5,6,16,6z M16,8l-0.2,0 C11.4,8.1,8,11.7,8,16s3.4,7.9,7.8,8l0.2,0l0.2,0c4.3-0.1,7.8-3.7,7.8-8C24,11.6,20.4,8,16,8z M13,17.7c0.4,1.3,1.6,2.3,3,2.3 c1.4,0,2.7-0.9,3-2.2c0.1-0.5,0.7-0.8,1.2-0.7s0.8,0.7,0.7,1.2c-0.6,2.2-2.6,3.7-5,3.7c-2.3,0-4.4-1.5-5-3.7 c-0.1-0.5,0.2-1.1,0.7-1.2C12.3,16.9,12.8,17.2,13,17.7z M12.5,12c0.8,0,1.5,0.7,1.5,1.5S13.3,15,12.5,15S11,14.3,11,13.5 S11.7,12,12.5,12z M19.5,12c0.8,0,1.5,0.7,1.5,1.5S20.3,15,19.5,15S18,14.3,18,13.5S18.7,12,19.5,12z"}),{size:32,viewBox:"0 0 32 32"}),x=Object(o.a)(s.createElement("path",{d:"M17.6,17H7c-0.6,0-1-0.4-1-1s0.4-1,1-1h10.6l-2.3-2.3c-0.4-0.4-0.4-1,0-1.4c0.4-0.4,1-0.4,1.4,0l4,4 c0.4,0.4,0.4,1,0,1.4l-4,4c-0.4,0.4-1,0.4-1.4,0c-0.4-0.4-0.4-1,0-1.4L17.6,17L17.6,17z M8,12c0,0.6-0.4,1-1,1s-1-0.4-1-1V8.1 C6,7,7,6,8.1,6h15.8C25,6,26,7,26,8.1v15.8c0,1.2-1,2.1-2.1,2.1H8.1C7,26,6,25,6,23.9V20c0-0.6,0.4-1,1-1s1,0.4,1,1v3.9 C8,23.9,8.1,24,8.1,24h15.8c0.1,0,0.1-0.1,0.1-0.1V8.1C24,8.1,23.9,8,23.9,8H8.1C8.1,8,8,8.1,8,8.1V12z"}),{size:32,viewBox:"0 0 32 32"}),C=Object(o.a)(s.createElement("path",{d:"M16,4c0.6,0,1.3,0.4,1.7,0.8l7.8,7.8c0.3,0.3,0.5,0.7,0.5,1.4v12c0,1.6-1.2,2.9-2.8,3L23,29H8 c-1.6,0-2.9-1.2-3-2.8L5,26V7c0-1.6,1.2-2.9,2.8-3L8,4H16z M16,6H8C7.5,6,7.1,6.4,7,6.9L7,7v19c0,0.5,0.4,0.9,0.9,1L8,27h15 c0.5,0,0.9-0.4,1-0.9l0-0.1V14h-7c-0.5,0-0.9-0.4-1-0.9l0-0.1V6z M22,12l-4-4v4H22z"}),{size:32,viewBox:"0 0 32 32"});function E(){var e=Object(r.a)(["\n                  75% {\n                    opacity: 1;\n                  }\n                  0% {\n                    opacity: 1;\n                  }\n                  100% {\n                    opacity: 1;\n                  }\n                "]);return E=function(){return e},e}function D(){var e=Object(r.a)(["\n                0% {\n                  transform: translate(16px, 24px) scale(1, 1) translate(-16px, -24px);\n                }\n                40% {\n                  transform: translate(16px, 24px) scale(1, 1.4) translate(-16px, -24px);\n                }\n                68.33% {\n                  transform: translate(16px, 24px) scale(1, 1.6) translate(-16px, -24px);\n                }\n                86.67% {\n                  transform: translate(16px, 24px) scale(1, 1.6) translate(-16px, -24px);\n                }\n                88.33% {\n                  transform: translate(16px, 24px) scale(1, 1.4) translate(-16px, -24px);\n                }\n                91.67% {\n                  transform: translate(16px, 24px) scale(0.8, 1.3) translate(-16px, -24px);\n                }\n                96.67% {\n                  transform: translate(16px, 24px) scale(0.45, 1.6) translate(-16px, -24px);\n                }\n                100% {\n                  transform: translate(16px, 24px) scale(0.45, 1.6) translate(-16px, -24px);\n                }\n              "]);return D=function(){return e},e}function k(){var e=Object(r.a)(["\n              75% {\n                transform: translate(16px, 24px) rotate(0deg) translate(-16px, -24px);\n              }\n              78.33% {\n                transform: translate(16px, 24px) rotate(36deg) translate(-16px, -24px);\n              }\n              83.33% {\n                transform: translate(16px, 24px) rotate(90deg) translate(-16px, -24px);\n              }\n              91.67% {\n                transform: translate(16px, 24px) rotate(180deg) translate(-16px, -24px);\n              }\n              0% {\n                transform: translate(16px, 24px) rotate(0deg) translate(-16px, -24px);\n              }\n              100% {\n                transform: translate(16px, 24px) rotate(180deg) translate(-16px, -24px);\n              }\n            "]);return k=function(){return e},e}function I(){var e=Object(r.a)(["\n            0% {\n              transform: translate(16px, 24px) translate(-16px, -24px) translate(0px, 2px);\n            }\n            40% {\n              transform: translate(16px, 24px) translate(-16px, -24px) translate(0px, 0px);\n            }\n            75% {\n              transform: translate(16px, 24px) translate(-16px, -24px) translate(0px, 0px);\n            }\n            76.67% {\n              transform: translate(16px, 24px) translate(-16px, -24px)\n                translate(-2px, 0px);\n            }\n            78.33% {\n              transform: translate(16px, 24px) translate(-16px, -24px)\n                translate(-4px, -1px);\n            }\n            81.67% {\n              transform: translate(16px, 24px) translate(-16px, -24px)\n                translate(-8px, -6px);\n            }\n            83.33% {\n              transform: translate(16px, 24px) translate(-16px, -24px)\n                translate(-8px, -8px);\n            }\n            85% {\n              transform: translate(16px, 24px) translate(-16px, -24px)\n                translate(-8px, -11px);\n            }\n            88.33% {\n              transform: translate(16px, 24px) translate(-16px, -24px)\n                translate(-4px, -13px);\n            }\n            91.67% {\n              transform: translate(16px, 24px) translate(-16px, -24px)\n                translate(0px, -13px);\n            }\n            96.67% {\n              transform: translate(16px, 24px) translate(-16px, -24px)\n                translate(0px, -11px);\n            }\n            100% {\n              transform: translate(16px, 24px) translate(-16px, -24px)\n                translate(0px, -11px);\n            }\n          "]);return I=function(){return e},e}function S(){var e=Object(r.a)(["\n            0% {\n              stroke-dasharray: 6, 0, 6, 6;\n            }\n            100% {\n              stroke-dasharray: 6, 0, 6, 6;\n            }\n          "]);return S=function(){return e},e}function A(){var e=Object(r.a)(["\n            0% {\n              stroke-dashoffset: 12;\n            }\n            68.33% {\n              stroke-dashoffset: -6;\n            }\n            100% {\n              stroke-dashoffset: -6;\n            }\n          "]);return A=function(){return e},e}function T(){var e=Object(r.a)(["\n              58.33% {\n                opacity: 1;\n              }\n              60% {\n                opacity: 0;\n              }\n              91.67% {\n                opacity: 0;\n              }\n              96.67% {\n                opacity: 1;\n              }\n              0% {\n                opacity: 1;\n              }\n              100% {\n                opacity: 1;\n              }\n            "]);return T=function(){return e},e}function F(){var e=Object(r.a)(["\n            0% {\n              transform: translate(16px, 15px) scale(1, 1) translate(-16px, -15px);\n            }\n            61.67% {\n              transform: translate(16px, 15px) scale(0, 0) translate(-16px, -15px);\n            }\n            63.33% {\n              transform: translate(16px, 15px) scale(1, 1) translate(-16px, -15px);\n            }\n            100% {\n              transform: translate(16px, 15px) scale(1, 1) translate(-16px, -15px);\n            }\n          "]);return F=function(){return e},e}function z(){var e=Object(r.a)(["\n            75% {\n              transform: translate(16px, 16px) rotate(0deg) translate(-16px, -16px);\n            }\n            91.67% {\n              transform: translate(16px, 16px) rotate(180deg) translate(-16px, -16px);\n            }\n            0% {\n              transform: translate(16px, 16px) rotate(0deg) translate(-16px, -16px);\n            }\n            100% {\n              transform: translate(16px, 16px) rotate(180deg) translate(-16px, -16px);\n            }\n          "]);return z=function(){return e},e}var B=Object(o.a)(Object(i.d)(s.Fragment,null,Object(i.d)("g",{css:Object(i.c)("fill:none;transform:translate(16px, 16px) rotate(0deg) translate(-16px, -16px);animation-fill-mode:backwards;animation-timing-function:cubic-bezier(0, 0, 1, 1);animation-name:",Object(i.e)(z()),";")},Object(i.d)("path",{d:"M22,22 L22,26 L10,26 L10,22 L16,16 L22,22 Z M22,10 L16,16 L10,10 L10,6 L22,6 L22,10 Z",strokeLinejoin:"round",css:{name:"9mktyj",styles:"stroke:currentColor;stroke-width:2"}})),Object(i.d)("g",{css:Object(i.c)("transform:translate(16px, 15px) scale(1, 1) translate(-16px, -15px);animation-fill-mode:backwards;animation-name:",Object(i.e)(F()),";animation-timing-function:cubic-bezier(0.42, 0, 1, 1);")},Object(i.d)("polygon",{points:"12 11 20 11 16 15",css:Object(i.c)("fill:currentColor;opacity:1;animation-fill-mode:backwards;animation-timing-function:cubic-bezier(0, 0, 1, 1);animation-name:",Object(i.e)(T()),";")})),Object(i.d)("path",{d:"M16,17 L16,23",css:Object(i.c)("stroke:currentColor;stroke-width:2;stroke-dashoffset:12;stroke-dasharray:6,0,6,6;animation-fill-mode:backwards,backwards;animation-timing-function:cubic-bezier(0.42, 0, 1, 1),cubic-bezier(0, 0, 1, 1);animation-name:",Object(i.e)(A()),",",Object(i.e)(S()),";")}),Object(i.d)("g",{css:Object(i.c)("transform:translate(16px, 24px) translate(-16px, -24px) translate(0px, 2px);animation-fill-mode:backwards;animation-timing-function:cubic-bezier(0, 0, 1, 1);animation-name:",Object(i.e)(I()),";")},Object(i.d)("g",{css:Object(i.c)("transform:translate(16px, 24px) rotate(0deg) translate(-16px, -24px);animation-fill-mode:backwards;animation-timing-function:cubic-bezier(0, 0, 1, 1);animation-name:",Object(i.e)(k()),";")},Object(i.d)("g",{css:Object(i.c)("transform:translate(16px, 24px) scale(1, 1) translate(-16px, -24px);animation-fill-mode:backwards;animation-timing-function:cubic-bezier(0, 0, 1, 1);animation-name:",Object(i.e)(D()),";")},Object(i.d)("rect",{x:"10",y:"23",width:"12",height:"2",css:Object(i.c)("fill:currentColor;opacity:1;animation-fill-mode:backwards;animation-timing-function:cubic-bezier(0, 0, 1, 1);animation-name:",Object(i.e)(E()),";")}))))),{size:32,viewBox:"0 0 32 32",css:{name:"2mc0ji",styles:"*{animation-duration:2s;animation-iteration-count:infinite;animation-timing-function:cubic-bezier(0, 0, 1, 1);}"}}),M=n(134),L=Object(m.z)(s.forwardRef((function(e,t){var n=e.onPress,r=e.disabled,i=Object(h.a)(e,["onPress","disabled"]);t=t||s.useRef(null);var o=Object(M.a)(Object(p.a)({onPress:n,isDisabled:r},i),t).buttonProps,a=(o.ref,Object(h.a)(o,["ref"]));return s.createElement(m.g,Object(p.a)({ref:t},i,a))})),{target:"e1mwfyk10"})("padding:0;display:flex;justify-content:center;align-items:center;border-radius:",(function(e){return e.theme.borderRadius.def}),";"),P=Object(m.z)("div",{target:"e1ykiqc40"})("display:inline-block;",(function(e){var t=e.size;return{width:t,height:t}})," &:hover{background-color:",(function(e){return e.theme.colors.surface.lightVariant}),";border-radius:",(function(e){return e.theme.borderRadius.sm}),";}"),R=Object(m.z)("div",{target:"eg7dzwm0"})("width:100%;height:100%;display:flex;align-items:center;justify-content:center;border-radius:",(function(e){return e.theme.borderRadius.sm}),";background-color:",(function(e){return e.theme.colors.surface.lightVariant}),";"),q=(Object(o.a)(s.createElement("path",{d:"M6.1,22.1l5.3-4.8c0.4-0.3,1-0.3,1.3,0l3.2,2.8l6.5-5.8c0.4-0.3,1-0.3,1.3,0l2.3,2.1V9c0-0.6-0.4-1-1-1h-18 c-0.6,0-1,0.4-1,1L6.1,22.1C6.1,22,6.1,22,6.1,22.1z M8,23h8.1l-4.1-3.7L8,23z M19.1,23h5.9c0.6,0,1-0.4,1-1v-3l-3-2.7l-5.7,5.1 L19.1,23z M7.1,6h18c1.7,0,3,1.3,3,3v13c0,1.7-1.3,3-3,3h-18c-1.7,0-3-1.3-3-3V9C4.1,7.3,5.4,6,7.1,6z M15.1,16c-1.7,0-3-1.3-3-3 s1.3-3,3-3s3,1.3,3,3S16.8,16,15.1,16z M15.1,14c0.6,0,1-0.4,1-1s-0.4-1-1-1c-0.6,0-1,0.4-1,1S14.5,14,15.1,14z"}),{size:32,viewBox:"0 0 32 32"}),Object(o.a)(s.createElement("path",{d:"M17,13c0.5,0,1,0.5,1,1c0,4.7,0,7.3,0,8s0.3,1,1,1v0c0.6,0,1,0.5,1,1c0,0.5-0.4,0.9-0.9,1L19,25l-2,0l0,0h-3 c-0.6,0-1-0.4-1-1c0-0.5,0.4-0.9,0.9-1l0.1,0c0.7,0,1-0.3,1-1c0-1,0-4.9,0-5.9S14,15,14,15c-0.6,0-1-0.5-1-1c0-0.5,0.4-1,1-1H17z M16,7c1.1,0,2,0.9,2,2s-0.9,2-2,2s-2-0.9-2-2S14.9,7,16,7z"}),{size:32,viewBox:"0 0 32 32"})),N=Object(o.a)(s.createElement("path",{d:"M5.5,6l6.5,5.7L18.5,6H5.5z M20,7.3l-7.3,6.4c-0.4,0.3-0.9,0.3-1.3,0L4,7.3V17c0,0.6,0.4,1,1,1h14 c0.6,0,1-0.4,1-1V7.3z M5,4h14c1.7,0,3,1.3,3,3v10c0,1.7-1.3,3-3,3H5c-1.7,0-3-1.3-3-3V7C2,5.3,3.3,4,5,4z"}),{size:24,viewBox:"0 0 24 24"}),V=Object(o.a)(s.createElement("path",{d:"M11,22c-0.6,0-1-0.4-1-1s0.4-1,1-1h15c0.6,0,1,0.4,1,1s-0.4,1-1,1H11z"}),{size:32,viewBox:"0 0 32 32"}),U=Object(o.a)(s.createElement("path",{d:"M17,2 L17.1762728,2.00509269 C18.6320946,2.08944495 19.8094139,3.21190551 19.9790092,4.64325277 L19.9949073,4.82372721 L20,5 L20,19 L19.9949073,19.1762728 C19.9070404,20.6927538 18.6927538,21.9070404 17.1762728,21.9949073 L17,22 L11,22 L10.8237272,21.9949073 C9.30724616,21.9070404 8.09295962,20.6927538 8.00509269,19.1762728 L8,19 L8.00672773,18.8833789 C8.06449284,18.3860402 8.48716416,18 9,18 C9.51283584,18 9.93550716,18.3860402 9.99327227,18.8833789 L10.0067277,19.1166211 C10.0600494,19.575703 10.424297,19.9399506 10.8833789,19.9932723 L11,20 L17,20 L17.1166211,19.9932723 C17.575703,19.9399506 17.9399506,19.575703 17.9932723,19.1166211 L18,19 L18,5 L17.9932723,4.88337887 C17.9443941,4.46255383 17.6342517,4.12141588 17.2292908,4.02641071 L17.1166211,4.00672773 L17,4 L11,4 L10.8833789,4.00672773 C10.4625538,4.0556059 10.1214159,4.36574828 10.0264107,4.77070917 L10.0067277,4.88337887 L9.99327227,5.11662113 C9.93550716,5.61395981 9.51283584,6 9,6 C8.52661307,6 8.13005271,5.67106635 8.02641071,5.22929083 L8.00672773,5.11662113 L8,5 L8.00509269,4.82372721 C8.08944495,3.3679054 9.21190551,2.19058606 10.6432528,2.02099079 L10.8237272,2.00509269 L11,2 L17,2 Z M14,17 C14.5522847,17 15,17.4477153 15,18 C15,18.5522847 14.5522847,19 14,19 C13.4477153,19 13,18.5522847 13,18 C13,17.4477153 13.4477153,17 14,17 Z M6.61289944,7.20970461 L6.70710678,7.29289322 L10.7071068,11.2928932 C10.7355731,11.3213595 10.7623312,11.3515341 10.787214,11.3832499 L10.7071068,11.2928932 C10.7425008,11.3282873 10.774687,11.3656744 10.8036654,11.4046934 C10.8215099,11.4288693 10.8382813,11.453725 10.8539326,11.4793398 C10.8613931,11.4913869 10.8685012,11.5036056 10.8753288,11.5159379 C10.8862061,11.5357061 10.8966234,11.5561086 10.9063462,11.5769009 C10.914321,11.5939015 10.9218036,11.6112044 10.9287745,11.628664 C10.9366843,11.6484208 10.9438775,11.6682023 10.9504533,11.6882636 C10.9552713,11.7031487 10.9599023,11.7185367 10.9641549,11.734007 C10.9701664,11.7555635 10.9753602,11.7772539 10.9798348,11.7992059 C10.9832978,11.8166247 10.9863719,11.834051 10.9889822,11.8515331 C10.9920328,11.8714753 10.9944666,11.892114 10.9962623,11.912935 C10.9978436,11.9317345 10.9989053,11.9497336 10.9994829,11.9677454 C10.9998183,11.9777892 11,11.9888734 11,12 L10.9994506,12.0332468 C10.9988772,12.050591 10.997855,12.0679231 10.996384,12.0852242 L11,12 C11,12.0506203 10.9962388,12.1003621 10.9889807,12.1489612 C10.9863719,12.165949 10.9832978,12.1833753 10.9797599,12.2007258 C10.9753602,12.2227461 10.9701664,12.2444365 10.964279,12.2658396 C10.9599023,12.2814633 10.9552713,12.2968513 10.9502619,12.3121425 C10.9438775,12.3317977 10.9366843,12.3515792 10.928896,12.3710585 C10.9218036,12.3887956 10.914321,12.4060985 10.9063266,12.4232215 C10.8966234,12.4438914 10.8862061,12.4642939 10.8751242,12.484277 C10.8685012,12.4963944 10.8613931,12.5086131 10.8540045,12.5207088 C10.8382813,12.546275 10.8215099,12.5711307 10.8036865,12.5951593 C10.7992821,12.6012086 10.7948255,12.6070733 10.7902954,12.6128994 C10.7849289,12.6196628 10.7826279,12.6225624 10.7803112,12.625449 L10.7071068,12.7071068 L6.70710678,16.7071068 C6.31658249,17.0976311 5.68341751,17.0976311 5.29289322,16.7071068 C4.93240926,16.3466228 4.90467972,15.7793918 5.20970461,15.3871006 L5.29289322,15.2928932 L7.585,13 L2,13 C1.44771525,13 1,12.5522847 1,12 C1,11.4871642 1.38604019,11.0644928 1.88337887,11.0067277 L2,11 L7.585,11 L5.29289322,8.70710678 C4.93240926,8.34662282 4.90467972,7.77939176 5.20970461,7.38710056 L5.29289322,7.29289322 C5.65337718,6.93240926 6.22060824,6.90467972 6.61289944,7.20970461 Z"}),{size:24,viewBox:"0 0 24 24"}),H=Object(o.a)(s.createElement("path",{d:"M18,10.6l1.3-1.3c0.4-0.4,1-0.4,1.4,0c0.4,0.4,0.4,1,0,1.4L19.4,12l1.3,1.3c0.4,0.4,0.4,1,0,1.4 c-0.4,0.4-1,0.4-1.4,0L18,13.4l-1.3,1.3c-0.4,0.4-1,0.4-1.4,0c-0.4-0.4-0.4-1,0-1.4l1.3-1.3l-1.3-1.3c-0.4-0.4-0.4-1,0-1.4 c0.4-0.4,1-0.4,1.4,0L18,10.6L18,10.6z M7,8l4.3-3.7C11.9,3.7,13,4.1,13,5v14c0,0.9-1.1,1.3-1.7,0.7L7.2,16H4c-0.6,0-1-0.4-1-1V9 c0-0.6,0.4-1,1-1H7z M11,7.4L8.3,9.7C8.1,9.9,7.9,10,7.6,10H5v4h2.6c0.3,0,0.5,0.1,0.7,0.3l2.7,2.3V7.4z"}),{size:24,viewBox:"0 0 24 24"}),G=Object(o.a)(s.createElement("path",{d:"M9.1,8H12c0.6,0,1,0.4,1,1c0,0.5-0.4,0.9-0.9,1L12,10H9.1C9.1,10,9,10,9,10.1l0,0v12.8 C9,22.9,9,23,9.1,23l0,0h12.8c0.1,0,0.1,0,0.1-0.1l0,0V20c0-0.6,0.4-1,1-1c0.5,0,0.9,0.4,1,0.9l0,0.1v2.9c0,1.1-0.9,2-2,2.1l-0.2,0 H9.1c-1.1,0-2-0.9-2.1-2l0-0.2V10.1C7,9,7.9,8.1,9,8L9.1,8H12H9.1z M23,8L23,8C23,8,23.1,8,23,8L23,8c0.1,0,0.1,0,0.1,0 c0,0,0,0,0.1,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0.1,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0.1,0,0.1,0.1 c0,0,0.1,0.1,0.1,0.1l-0.1-0.1c0.1,0,0.1,0.1,0.2,0.2c0,0,0,0,0,0c0,0,0,0,0.1,0.1c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0.1 c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0.1c0,0,0,0,0,0.1c0,0,0,0,0,0.1c0,0,0,0,0,0v6c0,0.6-0.4,1-1,1s-1-0.4-1-1 l0-3.6l-5.3,5.3c-0.4,0.4-0.9,0.4-1.3,0.1l-0.1-0.1c-0.4-0.4-0.4-1,0-1.4l5.3-5.3H17c-0.6,0-1-0.4-1-1s0.4-1,1-1H23z"}),{size:32,viewBox:"0 0 32 32"}),W=Object(o.a)(s.createElement("path",{d:"M18.8,16.3C17.9,16.8,17,17,16,17c-1,0-1.9-0.2-2.8-0.7c-3.2,0.8-5.2,2.8-5.2,5c0,0.8,0,0.9,0,2c0,0,0,0,0.1,0\tc0.4,0.1,1,0.3,1.9,0.4c1.6,0.2,3.8,0.3,6.1,0.3s4.5-0.1,6.1-0.3c0.8-0.1,1.4-0.2,1.9-0.4c0,0,0.1,0,0.1,0v-2\tC24,19.2,21.9,17.1,18.8,16.3z M20.6,14.8c3.2,1.2,5.4,3.7,5.4,6.5v2.4c0,1.8-3.7,2.2-10,2.2S6,25.5,6,23.8c0-1.5,0-1.5,0-2.4\tc0-2.9,2.2-5.3,5.4-6.5c-0.9-1-1.4-2.4-1.4-3.8c0-3.3,2.7-6,6-6s6,2.7,6,6C22,12.5,21.5,13.8,20.6,14.8z M16,15c2.2,0,4-1.8,4-4\ts-1.8-4-4-4s-4,1.8-4,4S13.8,15,16,15z"}),{size:32,viewBox:"0 0 32 32"}),$=Object(m.z)("path",{target:"e7kg0vt0"})("fill-rule:nonzero;fill:",(function(e){return e.theme.colors.text.muted}),";"),Z=Object(o.a)(s.createElement($,{d:"M7,10.75 L7,8.5 C7,7.675 7.675,7 8.5,7 L10.75,7 C11.1642136,7 11.5,6.66421356 11.5,6.25 L11.5,5.5 C11.5,4.67157288 12.1715729,4 13,4 C13.8284271,4 14.5,4.67157288 14.5,5.5 L14.5,6.25 C14.5,6.66421356 14.8357864,7 15.25,7 L17.5,7 C18.3284271,7 19,7.67157288 19,8.5 L19,10.75 C19,11.1642136 18.6642136,11.5 18.25,11.5 L17.5,11.5 C16.6715729,11.5 16,12.1715729 16,13 C16,13.8284271 16.6715729,14.5 17.5,14.5 L18.25,14.5 C18.6642136,14.5 19,14.8357864 19,15.25 L19,17.5 C19,18.3284271 18.3284271,19 17.5,19 L15.25,19 C14.8357864,19 14.5,18.6642136 14.5,18.25 L14.5,17.5 C14.5,16.6715729 13.8284271,16 13,16 C12.1715729,16 11.5,16.6715729 11.5,17.5 L11.5,18.25 C11.5,18.6642136 11.1642136,19 10.75,19 L8.5,19 C7.67157288,19 7,18.3284271 7,17.5 L7,15.25 C7,14.8357864 6.66421356,14.5 6.25,14.5 L5.5,14.5 C4.67157288,14.5 4,13.8284271 4,13 C4,12.1715729 4.67157288,11.5 5.5,11.5 L6.25,11.5 C6.66421356,11.5 7,11.1642136 7,10.75 Z M19,15.25 L19,17.5 C19,18.3284271 18.3284271,19 17.5,19 L15.25,19 C14.8357864,19 14.5,18.6642136 14.5,18.25 L14.5,17.5 C14.5,16.6715729 13.8284271,16 13,16 C12.1715729,16 11.5,16.6715729 11.5,17.5 L11.5,18.25 C11.5,18.6642136 11.1642136,19 10.75,19 L8.5,19 C7.67157288,19 7,18.3284271 7,17.5 L7,15.25 C7,14.8357864 6.66421356,14.5 6.25,14.5 L5.5,14.5 C4.67157288,14.5 4,13.8284271 4,13 C4,12.1715729 4.67157288,11.5 5.5,11.5 L6.25,11.5 C6.66421356,11.5 7,11.1642136 7,10.75 L7,10.3 C7.405,10.12 7.885,10 8.4775,10 C11.4775,10 11.4775,13 14.4925,13 C15.1225,13 15.6175,12.865 16.0375,12.6625 C15.9346018,13.1080984 16.0406047,13.576297 16.3254017,13.934119 C16.6101988,14.291941 17.0426753,14.5002933 17.5,14.5 L18.25,14.5 C18.6642136,14.5 19,14.8357864 19,15.25 Z"}),{size:24,viewBox:"0 0 24 24"}),Y=Object(o.a)(s.createElement("path",{d:"M16.9,9c0.6,0,1,0.4,1,1l0,0.1l-0.8,9c0,0.5-0.5,0.9-1,0.9H7.9c-0.5,0-1-0.4-1-0.9l-0.8-9 C6,9.5,6.5,9,7,9l0,0L16.9,9z M14,3c0.6,0,0.9,0.5,1,1l0,1h3c0.5,0,0.9,0.4,1,0.9L19,6c0,0.5-0.4,0.9-0.9,1L18,7H6C5.4,7,5,6.6,5,6 c0-0.5,0.4-0.9,0.9-1L6,5h3l0-1c0-0.6,0.2-0.9,0.8-1l0.1,0L14,3z"}),{size:24,viewBox:"0 0 24 24"}),K=Object(o.a)(s.createElement("path",{d:"M19,18.5c1.2-1.3,2-3.1,2-5.1c0-4.1-3.3-7.5-7.5-7.5S6,9.3,6,13.5s3.3,7.5,7.5,7.5c1.4,0,2.8-0.4,3.9-1.1 l5.9,5.9c0.4,0.4,1,0.4,1.4,0s0.4-1,0-1.4L19,18.5L19,18.5z M13.5,18.9c-3,0-5.5-2.5-5.5-5.5S10.4,8,13.5,8s5.5,2.5,5.5,5.5 S16.5,18.9,13.5,18.9z"}),{size:32,viewBox:"0 0 32 32"}),J=Object(o.a)(s.createElement("path",{d:"M6.4,5.6l21,9.5c0.5,0.2,0.7,0.8,0.5,1.3c-0.1,0.2-0.3,0.4-0.5,0.5l-21,9.5\tc-0.5,0.2-1.1,0-1.3-0.5c-0.1-0.3-0.1-0.6,0-0.8L8.6,18L20.5,16L8.6,14.1L5.1,6.9c-0.2-0.5,0-1.1,0.5-1.3C5.8,5.5,6.1,5.5,6.4,5.6z"}),{size:32,viewBox:"0 0 32 32"}),X=Object(o.a)(s.createElement("path",{d:"M16.5,21.1l-6.3,3.8C9,25.5,7.6,24.3,8.1,23l2.2-5.7l-3.8-3.7c-1-0.9-0.4-2.6,1-2.6h5.3l2.3-5.1 c0.5-1.2,2.2-1.2,2.8,0l2.3,5.1h5.4c1.4,0,2,1.7,1,2.6l-3.9,3.7l2.2,5.7c0.5,1.3-0.9,2.5-2.2,1.8L16.5,21.1z M10.5,22.3l5.3-3.1l0,0 c0.4-0.2,1-0.2,1.5,0l5.3,3.1l-1.8-4.7c-0.2-0.6,0-1.2,0.4-1.6l3.2-3h-4.4c-0.6,0-1.1-0.4-1.4-0.9l-2-4.4l-2,4.4 c-0.2,0.6-0.8,0.9-1.4,0.9H8.8l3.1,3c0.4,0.4,0.6,1,0.4,1.6L10.5,22.3z"}),{size:32,viewBox:"0 0 32 32"}),Q=Object(o.a)(s.createElement("path",{d:"M20,19H18.56c-.35.5-.91,1.35-1.64,2.53a3.75,3.75,0,0,0-.24.44,6.74,6.74,0,0,0-.52,2.42C16,26.18,15.49,27,14,27c-1.66,0-2.74-1.2-3-3V19H8c-3,0-3.64-2.26-2.4-6.65S7.58,7,11,7h6a1.11,1.11,0,0,1,.75.3L19.48,9H20V9a1,1,0,0,1,1-1h4a1,1,0,0,1,1,1V19a1,1,0,0,1-1,1H21a1,1,0,0,1-1-1Zm0-2V11h-.94a1,1,0,0,1-.71-.3L16.65,9H11c-2.38,0-2.45.15-3.51,3.9C6.58,16.21,6.75,17,8,17h4a1,1,0,0,1,1,1v5.92c.12.81.46,1.07,1,1.08a4.54,4.54,0,0,0,.12-.81,8.39,8.39,0,0,1,.69-3.06q.17-.33.36-.66a34.1,34.1,0,0,1,2.07-3.11,1,1,0,0,1,.76-.36Zm4,1V10H22v8Z"}),{size:32,viewBox:"0 0 32 32"}),ee=Object(o.a)(s.createElement("path",{d:"M11,14h1.47c.35-.5.9-1.35,1.64-2.53a3.68,3.68,0,0,0,.23-.44,6.34,6.34,0,0,0,.52-2.42C15.05,6.82,15.51,6,17,6c1.66,0,2.65,1.06,2.92,2.86V14h3c3,0,3.76,2.26,2.51,6.65S23.35,26,19.93,26H14a1,1,0,0,1-.71-.3L11.55,24H11v0a1,1,0,0,1-1,1H6a1,1,0,0,1-1-1V14a1,1,0,0,1,1-1h4a1,1,0,0,1,1,1Zm0,2v6h1a1,1,0,0,1,.7.3L14.37,24H20c2.37,0,2.44-.15,3.51-3.9.94-3.31.68-4.1-.6-4.1h-4A1,1,0,0,1,18,15V9.08C17.87,8.27,17.54,8,17,8a5.27,5.27,0,0,0-.13.81,8.19,8.19,0,0,1-.69,3.06,5.37,5.37,0,0,1-.36.66,34.81,34.81,0,0,1-2.06,3.11A1,1,0,0,1,13,16ZM7,15v8H9V15Z"}),{size:32,viewBox:"0 0 32 32"}),te=Object(o.a)(s.createElement("path",{d:"M8.7,15.2c-0.4-0.4-1-0.4-1.4,0c-0.4,0.4-0.4,1,0,1.4l5.7,5.7c0.4,0.4,1,0.4,1.4,0l9.9-9.9 c0.4-0.4,0.4-1,0-1.4c-0.4-0.4-1-0.4-1.4,0l-9.2,9.2L8.7,15.2z"}),{size:32,viewBox:"0 0 32 32"}),ne=Object(o.a)(s.createElement("path",{d:"M15,19v-2c2.8,0,5-2.2,5-5s-2.2-5-5-5V5c3.9,0,7,3.1,7,7S18.9,19,15,19z M15,16v-2c1.1,0,2-0.9,2-2s-0.9-2-2-2 V8c2.2,0,4,1.8,4,4S17.2,16,15,16z M7,8l4.3-3.7C11.9,3.7,13,4.1,13,5v14c0,0.9-1.1,1.3-1.7,0.7L7.2,16H4c-0.6,0-1-0.4-1-1V9 c0-0.6,0.4-1,1-1H7z M11,7.4L8.3,9.7C8.1,9.9,7.9,10,7.6,10H5v4h2.6c0.3,0,0.5,0.1,0.7,0.3l2.7,2.3V7.4z"}),{size:24,viewBox:"0 0 24 24"}),re=Object(o.a)(s.createElement("path",{d:"M20,7 C21.5976809,7 22.9036609,8.24891996 22.9949073,9.82372721 L23,10 L23,13.928 L27.292478,9.63704135 C27.8950531,9.03446626 28.9067656,9.41648044 28.9936015,10.2305172 L28.9995848,10.3441481 L28.9995848,21.6578566 C28.9995848,22.5100265 28.0140712,22.9552904 27.377058,22.4410818 L27.292478,22.3649634 L23,18.073 L23,22 C23,23.5976809 21.75108,24.9036609 20.1762728,24.9949073 L20,25 L6,25 C4.40231912,25 3.09633912,23.75108 3.00509269,22.1762728 L3,22 L3,10 C3,8.40231912 4.24891996,7.09633912 5.82372721,7.00509269 L6,7 L20,7 Z M20,9 L6,9 C5.48716416,9 5.06449284,9.38604019 5.00672773,9.88337887 L5,10 L5,22 C5,22.5128358 5.38604019,22.9355072 5.88337887,22.9932723 L6,23 L20,23 C20.5128358,23 20.9355072,22.6139598 20.9932723,22.1166211 L21,22 L21,10 C21,9.48716416 20.6139598,9.06449284 20.1166211,9.00672773 L20,9 Z M13,11 C14.6568542,11 16,12.3431458 16,14 C16,14.5467286 15.8537493,15.0592984 15.5982359,15.5007215 C16.9548251,16.0711623 17.9059057,17.090655 17.9934086,18.3542924 L18,18.5456435 L18,19.5002598 C18,20.6194095 17.0786223,20.9135858 14.6819503,20.981557 L13.8901786,20.9960521 L13,21 L12.1098214,20.9960521 C9.21524131,20.9665724 8.07193908,20.7493906 8.00330943,19.6131156 L8,19.5002598 L8,18.5456435 C8,17.1937269 8.97734547,16.0996844 10.4021695,15.5004954 C10.1462507,15.0592984 10,14.5467286 10,14 C10,12.3431458 11.3431458,11 13,11 Z M26.9983216,12.7596249 L23.7569441,16.0010024 L26.9983216,19.2423799 L26.9983216,12.7596249 Z M13,17 C11.3462727,17 10.1069811,17.7448466 10.0065778,18.4534823 L10,18.5456435 L10,18.833 L10.1239193,18.8521038 L10.3603748,18.8811749 C11.0486755,18.957613 12.0028781,19 13,19 C13.9971219,19 14.9513245,18.957613 15.6396252,18.8811749 L15.8006868,18.8620278 L15.8006868,18.8620278 L16,18.833 L16,18.5456435 C16,17.8722422 14.9291739,17.1346401 13.4215296,17.0163828 L13.2132937,17.0041599 L13,17 Z M13,13 C12.4477153,13 12,13.4477153 12,14 C12,14.5522847 12.4477153,15 13,15 C13.5522847,15 14,14.5522847 14,14 C14,13.4477153 13.5522847,13 13,13 Z"}),{size:32,viewBox:"0 0 32 32"})},,,function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return a}));var r="bb9e5b2f1ab480e4a715977b7b1b4279",i="feade1d6c3f17748ae4c8d917a1e1068",o="a9f288b2883da20306d30e179067406f",a="632cead4b282481a422dd4e1d1567449"},,,,,,,function(e,t,n){"use strict";var r=n(70);t.a=Object(r.b)()?window.localStorage:r.a},,function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"d",(function(){return v})),n.d(t,"b",(function(){return g})),n.d(t,"c",(function(){return y}));var r=n(8),i=n(1),o=n(43),a=n(2),u=n(14),c=n(13),s={};var l=function(e,t){var n=void 0===t?{}:t,r=n.query,o=void 0===r?{}:r,l=n.jsonpParam,d=void 0===l?"jsonp":l,f=n.callbackName;return new Promise((function(t,n){Object(u.h)().then((function(r){var l,p=document.createElement("script"),h=f||Object(a.w)(s);s[h]=!0;var m="__"+h;window[m]=function(e){delete s[h],delete window[m],Object(u.k)(p),t(e)},p.src=e+"?"+Object(c.a)(Object(i.a)({},o,((l={})[d]=m,l))),p.addEventListener("error",(function(){setTimeout((function(){return n(new Error("JSONP request failed."))}),100)})),r.appendChild(p)}))}))},d=n(89),f=function(e){var t=Object(c.l)(e);return"https://"+(!Object(a.D)("cdn.livechatinc.com/cloud/?uri",t)&&!Object(a.D)(".livechat-static.com/",t)?"cdn.livechatinc.com/cloud/?"+Object(c.a)({uri:"https://"+t}):t)},p=/\.([a-z]{1,})$/i,h=function(e){var t=e.__priv,n={enabled:!0,x:parseInt(t.group["embedded_chat.eye_grabber.x"])+15,y:parseInt(t.group["embedded_chat.eye_grabber.y"]),src:f(t.group["embedded_chat.eye_grabber.path"])};if(-1!==n.src.indexOf("/default/eyeCatchers/")){var r=n.src.match(p)[1];n.srcset={"1x":n.src,"2x":n.src.replace(new RegExp("\\."+r,"i"),"-2x."+r)}}return n},m=function(e,t){return function(e){var t=e.licenseId,n=e.region;return"https://api"+(n?"-"+n:"")+function(e){return 1520===e?".staging":""}(t)+".livechatinc.com"}(t)+"/v3.3/customer/action/"+e},b=function e(t){var n=m("get_dynamic_configuration",t);return l(n,{query:Object(i.a)({license_id:t.licenseId,url:t.url},"number"===typeof t.groupId&&{group_id:t.groupId},t.channelType&&{channel_type:t.channelType},t.skipCodeInstallationTracking&&{test:1})}).then((function(n){if(n.error)switch(n.error.type){case"misdirected_request":return e(Object(i.a)({},t,{region:n.error.data.region}));default:var r=new Error(n.error.message);throw r.code=n.error.type.toUpperCase(),r}if(!n.domain_allowed){var o=new Error("Current domain is not added to the allowlist.");throw o.code="DOMAIN_NOT_ALLOWED",o}return{groupId:n.group_id,clientLimitExceeded:n.client_limit_exceeded,configVersion:n.config_version,localizationVersion:n.localization_version,onlineGroupIds:n.online_group_ids||[],region:t.region||null}}))},v=function(e){var t=m("get_configuration",e);return l(t,{callbackName:"lc_static_config",query:Object(i.a)({license_id:e.licenseId,version:e.version},"number"===typeof e.groupId&&{group_id:e.groupId})}).then((function(e){var t=e.buttons,n=e.allowed_domains,o=e.prechat_form,a=e.ticket_form,u=e.__priv,c=Object(r.a)(e,["buttons","allowed_domains","prechat_form","ticket_form","__priv"]);return Object(i.a)({},c,o&&{prechatForm:Object(d.b)(o)},a&&{ticketForm:Object(d.b)(a)},{buttons:t.map((function(e){return"image"===e.type?{id:e.id,type:e.type,onlineValue:f(e.online_value),offlineValue:f(e.offline_value)}:{id:e.id,type:e.type,onlineValue:e.online_value,offlineValue:e.offline_value}}))},n&&{allowedDomains:n},{__unsafeProperties:Object(i.a)({},u.s&&{s:!0},{group:{chatBoosters:u.group.chat_boosters,disabledMinimized:"1"===u.group["chat_window.disable_minimized"],disabledMinimizedOnMobile:"1"===u.group["chat_window.mobile_disable_minimized"],disabledOnMobile:"1"===u.group["chat_window.hide_on_mobile"],eyeCatcher:"1"===u.group["embedded_chat.display_eye_catcher"]?h(e):{enabled:!1},hasAgentAvatarsEnabled:"1"===u.group["chat_window.display_avatar"],hasCustomMobileSettings:"1"===u.group["chat_window.custom_mobile_settings"],hasHiddenTrademark:"1"===u.group["chat_window.hide_trademark"],hasSoundsEnabled:"0"===u.group["chat_window.disable_sounds"],initiallyHidden:"1"===u.group["chat_window.hide_on_init"]||"1"===u.group["chat_window.disable_minimized"],initiallyHiddenOnMobile:"1"===u.group["chat_window.mobile_hide_on_init"]||"1"===u.group["chat_window.mobile_disable_minimized"],language:u.group.language,linksUnfurlingEnabled:"1"===u.group.links_unfurling,logo:"1"===u.group["chat_window.display_logo"]?{enabled:!0,src:u.group["chat_window.logo_path"]}:{enabled:!1},minimizedType:u.group["chat_window.theme.minimized"],minimizedTypeOnMobile:u.group["chat_window.mobile_minimized_theme"],offlineMessagesEnabled:"0"===u.group.tickets_enabled,offsetX:parseInt(u.group["chat_window.offset_x"]),offsetXOnMobile:parseInt(u.group["chat_window.mobile_offset_x"]),offsetY:parseInt(u.group["chat_window.offset_y"]),offsetYOnMobile:parseInt(u.group["chat_window.mobile_offset_y"]),prechatFormAfterGreetingEnabled:"1"===u.group.pre_chat_survey_after_greeting,ratingEnabled:"1"===u.group["rate_me.enabled"],screenPosition:u.group["chat_window.screen_position"],screenPositionOnMobile:u.group["chat_window.mobile_screen_position"],transcriptButtonEnabled:"1"===u.group["chat_window.display_transcript_button"],theme:{name:u.group["chat_window.new_theme.name"],customJson:u.group["chat_window.new_theme.custom_json"],agentbarBackgroundColor:u.group["chat_window.new_theme.agentbar_background_color"],agentbarText:u.group["chat_window.new_theme.agentbar_text"],agentMessageColorBackground:u.group["chat_window.new_theme.agent_message_color_background"],agentMessageColorText:u.group["chat_window.new_theme.agent_message_color_text"],backgroundColor:u.group["chat_window.new_theme.background_color"],ctaColor:u.group["chat_window.new_theme.cta_color"],minimizedColorBackground:u.group["chat_window.new_theme.minimized_color_background"],minimizedColorIcon:u.group["chat_window.new_theme.minimized_color_icon"],minimizedColorText:u.group["chat_window.new_theme.minimized_color_text"],systemMessageColor:u.group["chat_window.new_theme.system_message_color"],titlebarBackgroundColor:u.group["chat_window.new_theme.titlebar_background_color"],titlebarText:u.group["chat_window.new_theme.titlebar_text"],visitorMessageColorBackground:u.group["chat_window.new_theme.visitor_message_color_background"],visitorMessageColorText:u.group["chat_window.new_theme.visitor_message_color_text"]}},license:{continuousChatWidgetEnabled:"1"===u.license.continuous_chat_widget_enabled,creditCardMaskingEnabled:"1"===u.license.mask_credit_cards,customerHistoryEnabled:"1"===u.license.customer_history_enabled,fileSharingEnabled:"1"===u.license["attachments.enable_for_visitors"],inboundForwardingToHelpdeskEnabled:"1"===u.license["helpdesk.inbound_forwarding"],nonProfit:"1"===u.license.non_profit}})})}))},g=function(e){var t=m("get_localization",e);return l(t,{callbackName:"lc_localization",query:Object(i.a)({license_id:e.licenseId,version:e.version,language:e.language},"number"===typeof e.groupId&&{group_id:e.groupId})}).then((function(e){return Object(a.O)((function(e){return e.toLowerCase()}),e)}))},y=function(e){var t=m("get_localization",e);return Object(o.a)(t+"?"+Object(c.a)(Object(i.a)({license_id:e.licenseId,version:e.version,language:e.language},"number"===typeof e.groupId&&{group_id:e.groupId}))).then((function(e){return e.json()})).then((function(e){return Object(a.O)((function(e){return e.toLowerCase()}),e)}))}},,,,,function(e,t,n){"use strict";t.a=function(e){var t=e.min,n=void 0===t?1e3:t,r=e.max,i=void 0===r?5e3:r,o=e.jitter,a=void 0===o?.5:o,u=0;return{duration:function(){var e=n*Math.pow(2,u++);if(a){var t=Math.random(),r=Math.floor(t*a*e);e=0===(1&Math.floor(10*t))?e-r:e+r}return 0|Math.min(e,i)},reset:function(){u=0}}}},,,function(e,t,n){var r=n(243)("wks"),i=n(185),o=n(104).Symbol,a="function"==typeof o;(e.exports=function(e){return r[e]||(r[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=r},,,,function(e,t,n){"use strict";t.a=function(e){return new Promise((function(t){t(e())}))}},,,function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return c}));var r=n(2),i=function(){return Object(r.x)("webkit.messageHandlers.iosMobileWidget.postMessage",window)?"ios":!!Object(r.x)("androidMobileWidget.postMessage",window)&&"android"},o=function(e){return window.androidMobileWidget.postMessage(JSON.stringify(e))},a=function(e){return window.webkit.messageHandlers.iosMobileWidget.postMessage(e)},u=function(){var e=i();return"android"===e?o:"ios"===e?a:null}(),c=function(){return Boolean(i())};t.a=function(e){u&&(u({messageType:"uiReady"}),e.on("add_event",(function(t){var n=t.event;if("message"===n.type){var r=e.getUser(n.author).name;u({messageType:"newMessage",text:n.properties.text,id:n.id,timestamp:n.timestamp,author:{name:r}})}})),e.on("mobile_wrapper_minimize_intent",(function(){u({messageType:"hideChatWindow"})})))}},function(e,t,n){"use strict";var r=n(1),i=n(2),o=n(22),a=n(17);t.a=function(e){var t=e.customJson||{},n=Object(a.g)(e.titlebarBackgroundColor)?"rgba(255, 255, 255, 0.3)":"rgba(0, 0, 0, 0.05)",u=Object(a.g)(e.agentbarBackgroundColor)?"rgba(255, 255, 255, 0.3)":"rgba(0, 0, 0, 0.05)",c=Object(a.g)(e.agentbarBackgroundColor)?"rgba(255, 255, 255, 0.3)":"rgba(0, 0, 0, 0.1)",s=Object(a.h)(e.ctaColor)?o.c.text.black:o.c.text.white;return Object(i.T)({name:e.name,iconTheme:e.name,showMessageAvatar:"modern"!==e.name,colors:{agentBarText:e.agentbarText,agentBarBackground:e.agentbarBackgroundColor,cta:e.ctaColor,ctaText:s,minimizedIcon:e.minimizedColorIcon,minimizedBackground:e.minimizedColorBackground,background:e.backgroundColor,visitorMessageText:e.visitorMessageColorText,visitorMessageBackground:e.visitorMessageColorBackground,systemMessage:e.systemMessageColor,agentMessageBackground:e.agentMessageColorBackground,agentMessageText:e.agentMessageColorText,minimizedText:e.minimizedColorText,titleBarText:e.titlebarText,titleBarBackgroundColor:e.titlebarBackgroundColor},AgentBar:{css:{background:e.agentbarBackgroundColor,color:e.agentbarText},IconButton:{css:{background:{default:u,active:e.ctaColor},color:Object(r.a)({default:"inherit"},"modern"!==e.name&&{active:s})}}},Form:{IconButton:{css:{background:{default:"rgba(0, 0, 0, 0.05)",active:e.ctaColor},color:{default:"#8f8f8f",active:s}}}},ChatSummary:{Icon:{color:e.minimizedColorIcon}},Divider:{css:{borderColor:u}},Maximized:{css:{background:e.backgroundColor}},Message:{own:{Bubble:{css:{background:"modern"===e.name?"transparent":e.visitorMessageColorBackground,color:e.visitorMessageColorText}}},system:{Bubble:{css:{color:e.systemMessageColor}}},Bubble:{css:{background:"modern"===e.name?"transparent":e.agentMessageColorBackground,color:e.agentMessageColorText}},css:{color:e.systemMessageColor}},TypingIndicator:{css:{color:e.systemMessageColor}},Minimized:{MinimizedBubble:{css:{color:e.minimizedColorText,backgroundColor:{default:e.minimizedColorBackground,hasAvatar:"transparent"}},Icon:{color:e.minimizedColorIcon}},MinimizedBar:{css:{color:e.minimizedColorText,backgroundColor:e.minimizedColorBackground},Icon:{color:e.minimizedColorIcon}}},TitleBar:{css:{color:e.titlebarText,backgroundColor:e.titlebarBackgroundColor},HourGlassLabel:{css:{backgroundColor:n}}},DividerLabel:{css:{color:e.systemMessageColor,borderColor:c}},TextComposer:{IconButton:{active:{Icon:{color:e.ctaColor}}}}},t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return a}));var r=n(2),i=function(e){var t=e.license,n=e.group;return t+(e.uniqueGroups?":"+n:"")+":state"},o=function(e){return Object(r.D)(e,["ar","he","fa"])},a=function(e){document.documentElement.lang=e}},function(e,t,n){"use strict";n.d(t,"c",(function(){return en})),n.d(t,"b",(function(){return Jn})),n.d(t,"a",(function(){return yr}));var r={};n.r(r),n.d(r,"CHAT_DEACTIVATED",(function(){return $e})),n.d(r,"CHAT_PROPERTIES_DELETED",(function(){return Ze})),n.d(r,"CHAT_PROPERTIES_UPDATED",(function(){return Ye})),n.d(r,"CHAT_TRANSFERRED",(function(){return Ke})),n.d(r,"CUSTOMER_DISCONNECTED",(function(){return Je})),n.d(r,"CUSTOMER_PAGE_UPDATED",(function(){return Xe})),n.d(r,"CUSTOMER_SIDE_STORAGE_UPDATED",(function(){return Qe})),n.d(r,"CUSTOMER_UPDATED",(function(){return et})),n.d(r,"EVENT_PROPERTIES_DELETED",(function(){return tt})),n.d(r,"EVENT_PROPERTIES_UPDATED",(function(){return nt})),n.d(r,"EVENT_UPDATED",(function(){return rt})),n.d(r,"EVENTS_MARKED_AS_SEEN",(function(){return it})),n.d(r,"GREETING_ACCEPTED",(function(){return ot})),n.d(r,"GREETING_CANCELED",(function(){return at})),n.d(r,"INCOMING_CHAT",(function(){return ut})),n.d(r,"INCOMING_EVENT",(function(){return ct})),n.d(r,"INCOMING_GREETING",(function(){return st})),n.d(r,"INCOMING_MULTICAST",(function(){return lt})),n.d(r,"INCOMING_RICH_MESSAGE_POSTBACK",(function(){return dt})),n.d(r,"INCOMING_TYPING_INDICATOR",(function(){return ft})),n.d(r,"QUEUE_POSITION_UPDATED",(function(){return pt})),n.d(r,"THREAD_PROPERTIES_DELETED",(function(){return ht})),n.d(r,"THREAD_PROPERTIES_UPDATED",(function(){return mt})),n.d(r,"USER_ADDED_TO_CHAT",(function(){return bt})),n.d(r,"USER_REMOVED_FROM_CHAT",(function(){return vt}));var i={};n.r(i),n.d(i,"CONNECTING",(function(){return wn})),n.d(i,"OPEN",(function(){return _n})),n.d(i,"CLOSED",(function(){return xn}));var o=n(1),a=n(8),u=n(70),c=Object(u.b)()?window.localStorage:u.a,s={setItem:function(e,t){return new Promise((function(n){return n(c.setItem(e,t))}))},getItem:function(e){return new Promise((function(t){return t(c.getItem(e))}))},removeItem:function(e){return new Promise((function(t){return t(c.removeItem(e))}))}},l=n(2),d=n(13),f=n(43),p=n(14),h=function(e){var t=e.code,n=e.message,r=new Error(n);return r.code=t,r},m=function(e,t){if("identity_exception"in e)throw h({code:"SSO_IDENTITY_EXCEPTION",message:e.identity_exception});if("oauth_exception"in e)throw h({code:"SSO_OAUTH_EXCEPTION",message:e.oauth_exception});return{accessToken:e.access_token,entityId:e.entity_id,expiresIn:1e3*e.expires_in,tokenType:e.token_type,creationDate:Date.now(),licenseId:t}},b="https://accounts.livechatinc.com",v=function(e,t){return""+("production"===t?b:b.replace("accounts.","accounts."+t+"."))+function(e){var t=e.uniqueGroups,n=e.licenseId,r=e.groupId;return(t?"/licence/g"+n+"_"+r:"")+"/customer"}(e)},g="https://accounts.livechatinc.com",y="@livechat/customer-auth",O=function(e,t){var n=function(e,t){var n=e.clientId,r=e.licenseId;return{license_id:String(r),flow:"button",response_type:"token",client_id:n,redirect_uri:t,post_message_uri:t,state:y}}(e,Object(d.e)(String(window.location))+window.location.pathname),r=document.createElement("iframe");return r.style.display="none",r.setAttribute("src",v(e,t)+"?"+Object(d.a)(n)),r};function j(e,t){var n=e.licenseId,r=function(e){return"production"===e?g:g.replace("accounts.","accounts."+e+".")}(t);return new Promise((function(i,o){var a=O(e,t),u=function(){Object(p.k)(a),window.removeEventListener("message",s,!1)},c=setTimeout((function(){u(),o(h({message:"Request timed out.",code:"REQUEST_TIMEOUT"}))}),15e3),s=function(e){var t=e.origin,a=e.data;if(t===r&&function(e){return e&&e.state===y}(a)){clearTimeout(c),u();try{i(m(a,n))}catch(s){o(s)}}};window.addEventListener("message",s,!1),Object(p.h)().then((function(e){e.appendChild(a)}))}))}var w=function(e,t){return e.uniqueGroups?j(e,t):Object(f.a)(v(e,t)+"/token",{method:"POST",credentials:"include",body:JSON.stringify({response_type:"token",grant_type:"cookie",client_id:e.clientId,license_id:e.licenseId,redirect_uri:Object(d.e)(String(window.location))+window.location.pathname})}).then((function(e){return e.json()})).then((function(t){return m(t,e.licenseId)}))},_=(l.V,function(e){var t=e.licenseId,n=e.clientId;if("number"!==typeof t||"string"!==typeof n)throw new Error("You need to pass valid configuration object: { licenseId, clientId }.")}),x=function(e,t){_(e);var n="@@lc_auth_token:"+e.licenseId+(e.uniqueGroups?":"+e.groupId:""),r=null,i=null,o=s.getItem(n).then((function(e){null!==o&&(o=null,e&&(i=JSON.parse(e)))})),a=function(){return r=w(e,t).then((function(e){return r=null,s.setItem(n,JSON.stringify(e)),i=e,e}),(function(e){throw r=null,e}))};return{getFreshToken:a,getToken:function e(){return r||(i&&!function(e){var t=e.creationDate,n=e.expiresIn;return Date.now()>=t+n}(i)?Promise.resolve(i):o?o.then(e):a())},hasToken:function e(){return o?o.then(e):Promise.resolve(!!i)},invalidate:function(){return i=null,o=null,s.removeItem(n)}}},C=n(26),E="change_region",D="check_goals",k="destroy",I="fail_all_requests",S="login_success",A="pause_connection",T="prefetch_token",F="push_received",z="push_response_received",B="reconnect",M="request_failed",L="response_received",P="send_request",R="set_chat_active",q="set_self_id",N="socket_connected",V="socket_disconnected",U="socket_recovered",H="socket_unstable",G="start_connection",W="update_customer_page",$="CONNECTION_LOST",Z="IDENTITY_MISMATCH",Y="MISDIRECTED_CONNECTION",K="MISSING_CHAT_THREAD",J="SDK_DESTROYED",X="accept_greeting",Q="cancel_greeting",ee="deactivate_chat",te="delete_chat_properties",ne="delete_event_properties",re="delete_thread_properties",ie="get_chat",oe="get_customer",ae="get_form",ue="get_predicted_agent",ce="get_url_info",se="list_chats",le="list_group_statuses",de="list_threads",fe="login",pe="mark_events_as_seen",he="resume_chat",me="send_event",be="send_rich_message_postback",ve="send_sneak_peek",ge="set_customer_session_fields",ye="start_chat",Oe="update_chat_properties",je="update_customer",we="update_customer_page",_e="update_event_properties",xe="update_thread_properties",Ce=n(57),Ee=n(98),De=n(12),ke="connected",Ie="destroyed",Se="disconnected",Ae="agent",Te="customer";function Fe(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}var ze=function(e){return e.connection.status},Be=function(e,t){return e.requests[t]},Me=function(e){return e.users.self.id},Le=function(e,t){var n=e.chats[t];return!!n&&n.active},Pe=function(e){return ze(e)===ke},Re=function(e){var t=e.region;return"https://api"+(t?"-"+t:"")+function(e){var t=e.licenseId,n=e.env;return 1520===t?".staging":"production"===n?"":"."+n}(e)+".livechatinc.com"},qe=function(e){return Re(e)+"/v3.3/customer"},Ne=function(e,t){var n=t.id,r=e.requests,i=(r[n],Object(a.a)(r,[n].map(Fe)));return Object(o.a)({},e,{requests:i})},Ve=function(e,t){return Object(o.a)({},t,{connection:Object(o.a)({},t.connection,{status:e})})};function Ue(e){var t=l.C,n=Object(Ee.a)(),r=Object(Ce.c)(function(e){var t;return Object(De.d)(e,((t={}).change_region=function(e,t){var n=t.region;return Object(o.a)({},e,{region:n})},t.destroy=function(e){return Ve(Ie,e)},t.login_success=function(e){return Ve(ke,e)},t.pause_connection=function(e){return Ve("paused",e)},t.request_failed=Ne,t.response_received=Ne,t.push_response_received=Ne,t.send_request=function(e,t){var n,r=t.promise,i=t.resolve,a=t.reject,u=t.id,c=t.request;return Object(o.a)({},e,{requests:Object(o.a)({},e.requests,(n={},n[u]={id:u,promise:r,resolve:i,reject:a,request:c},n))})},t.set_chat_active=function(e,t){var n,r=t.id,i=t.active;return Object(o.a)({},e,{chats:Object(o.a)({},e.chats,(n={},n[r]=Object(o.a)({},e.chats[r],{active:i}),n))})},t.set_self_id=function(e,t){return Object(o.a)({},e,{users:Object(o.a)({},e.users,{self:Object(o.a)({},e.users.self,{id:t.id})})})},t.socket_disconnected=function(e){var t=ze(e),n=Ve(t===Se?Se:"reconnecting",e);return Object(o.a)({},n,{requests:{}})},t.update_customer_page=function(e,t){return Object(o.a)({},e,{page:Object(o.a)({},e.page,t)})},t))}(function(e){var t=e.application,n=void 0===t?{}:t,r=e.licenseId,i=e.groupId,a=void 0===i?null:i,u=e.env,c=e.page,s=void 0===c?null:c,l=e.region,d=void 0===l?null:l,f=e.referrer,p=void 0===f?null:f,h=e.uniqueGroups,m=void 0!==h&&h,b=e.mobile,v=void 0!==b&&b;return{application:Object(o.a)({},n,{name:"chat_widget",version:"29e8c0710e9318b36906456adb0f84d33f09e732"}),licenseId:r,env:u,groupId:a,chats:{},connection:{status:Se},page:s,region:d,referrer:p,requests:{},users:{self:{id:null,type:Te},others:{}},uniqueGroups:m,mobile:v}}(e)),t(Object(Ce.a)(n)));return r.addSideEffectsHandler=n.add,r}function He(e){var t=e.message,n=e.code,r=new Error(t);return r.code=n,r}var Ge="customer_banned",We="product_version_changed",$e="chat_deactivated",Ze="chat_properties_deleted",Ye="chat_properties_updated",Ke="chat_transferred",Je="customer_disconnected",Xe="customer_page_updated",Qe="customer_side_storage_updated",et="customer_updated",tt="event_properties_deleted",nt="event_properties_updated",rt="event_updated",it="events_marked_as_seen",ot="greeting_accepted",at="greeting_canceled",ut="incoming_chat",ct="incoming_event",st="incoming_greeting",lt="incoming_multicast",dt="incoming_rich_message_postback",ft="incoming_typing_indicator",pt="queue_position_updated",ht="thread_properties_deleted",mt="thread_properties_updated",bt="user_added_to_chat",vt="user_removed_from_chat",gt="file",yt="form",Ot="filled_form",jt="message",wt="rich_message",_t="system_message",xt="custom",Ct=function(e){var t={};return"string"===typeof e.customId&&(t.custom_id=e.customId),Object(l.H)(e.properties)&&(t.properties=e.properties),t},Et=function(e){switch(e.type){case jt:var t=Object(o.a)({},Ct(e),{type:e.type,text:e.text});return e.postback&&(t.postback={id:e.postback.id,thread_id:e.postback.threadId,event_id:e.postback.eventId,type:e.postback.type,value:e.postback.value}),t;case gt:return Object(o.a)({},Ct(e),{type:e.type,url:e.url,alternative_text:e.alternativeText});case Ot:return Object(o.a)({},Ct(e),{type:e.type,form_id:e.formId,fields:e.fields.map((function(e){switch(e.type){case"group_chooser":if(!e.answer)return e;var t=e.answer,n=t.groupId,r=Object(a.a)(t,["groupId"]);return Object(o.a)({},e,{answer:Object(o.a)({},r,{group_id:n})});default:return e}}))});case _t:var n=Object(o.a)({},Ct(e),{type:e.type,text:e.text,system_message_type:e.systemMessageType});return e.recipients&&(n.recipients=e.recipients),n;case xt:var r=Object(o.a)({},Ct(e),{type:e.type});return e.content&&(r.content=e.content),r}},Dt=function(e){var t=e.active,n=void 0===t||t,r=e.chat,i=e.continuous,o={active:n,chat:{}};if("boolean"===typeof i&&(o.continuous=i),!r)return o;var a=r.access,u=r.thread,c=r.properties;return a&&a.groupIds&&(o.chat.access={group_ids:a.groupIds}),c&&(o.chat.properties=c),u&&(o.chat.thread=function(e){var t={},n=e.events,r=e.properties;return n&&(t.events=n.map(Et)),r&&(t.properties=r),t}(u)),o},kt=function(e){return Object(l.wb)(e).map((function(e){var t,n=e[0],r=e[1];return(t={})[n]=r,t}))},It=function(e){var t=Object(l.fb)(["avatar","name","email"],e);return e.sessionFields&&(t.session_fields=kt(e.sessionFields)),t},St=function(e){return{type:k,payload:{reason:e}}},At=function(e){return{type:A,payload:{reason:e}}},Tt=function(e){return void 0===e&&(e=!1),{type:T,payload:{fresh:e}}},Ft=function(e){return{type:B,payload:{delay:e}}},zt=function(e,t,n){return{type:P,payload:Object(o.a)({request:{action:e,payload:t}},n&&{source:n})}},Bt=function(e,t){return{type:R,payload:{id:e,active:t}}},Mt=function(e){return{type:q,payload:{id:e}}},Lt=n(52),Pt=function(e,t){t.payload.id=Object(l.w)(e.getState().requests);var n=Object(Lt.a)(),r=n.resolve,i=n.reject,o=n.promise;return t.payload.promise=o,t.payload.resolve=r,t.payload.reject=i,e.dispatch(t),o},Rt=n(83),qt=n(76),Nt=function(e){var t=e.getState(),n=t.licenseId,r=t.groupId;return"side_storage_"+n+(t.uniqueGroups?":"+r:"")},Vt=function(e){return s.getItem(Nt(e)).catch(l.V).then((function(e){return JSON.parse(e||"{}")})).catch((function(){return{}}))},Ut=function(e,t,n){return Pt(e,zt(t,n,"login"))};function Ht(e,t){var n,r,i=null,a={min:300,max:6e4,jitter:.3},u=Object(qt.a)(a),c=Object(qt.a)(Object(o.a)({},a,{min:1e3})),s=u,d=function(e){return n.dispatch(St(e))},f=function(){return n.dispatch(Ft(s.duration()))},p=function(){return Promise.all([e.getToken(),Vt(n)])},h=function(e){var t=e[0],r=e[1],i=Me(n.getState());if(null===i)n.dispatch(Mt(t.entityId));else if(i!==t.entityId){var o=new Error("Identity has changed.");throw o.code=Z,o}return[t,r]},m=function(e){var r,o=e[0],a=e[1],u=n.getState(),c=u.application,s=u.groupId,d=u.page,f=u.referrer,p=u.mobile,h={token:o.tokenType+" "+o.accessToken,customer:"function"===typeof t?It(t()):{},customer_side_storage:a,is_mobile:p,application:Object(l.cb)(["name","version"],c)};return"number"===typeof s&&(h.group_id=s),c.channelType&&(h.application.channel_type=c.channelType),null!==d&&(i=d,h.customer_page=d),null!==f&&(h.referrer=f),Promise.race([Ut(n,fe,h),(r=15e3,new Promise((function(e){setTimeout(e,r)}))).then((function(){return Promise.reject(He({message:"Request timed out.",code:"REQUEST_TIMEOUT"}))}))])};return{sendLogin:function(t){var o;n=t,null==(o=r)||o.cancel(),r=function(e,t,n){var r=e.slice(0),i=!1;return function e(o){var a=r.shift();Object(Rt.a)((function(){return a(o)})).then((function(n){i||(r.length?e(n):t(n))}),(function(e){i||n(e)}))}(),{cancel:function(){i=!0}}}([p,h,m],(function(e){r=null,u.reset(),c.reset(),s=u,function(){var e=n.getState().page;i!==e&&Ut(n,we,e).catch(l.V),i=null}(),n.dispatch({type:S,payload:e})}),(function(t){switch(r=null,t.code){case"AUTHENTICATION":return e.getFreshToken(),void f();case $:case Y:case J:return;case"SSO_IDENTITY_EXCEPTION":case"SSO_OAUTH_EXCEPTION":return"server_error"===t.message||"temporarily_unavailable"===t.message?void f():void d(t.message);case"USERS_LIMIT_REACHED":return void n.dispatch(At(t.code.toLowerCase()));case Z:case"CUSTOMER_BANNED":case"WRONG_PRODUCT_VERSION":return void d(t.code.toLowerCase());case"SERVICE_TEMPORARILY_UNAVAILABLE":return s=c,void f();default:return void f()}}))},cancel:function(){var e;null==(e=r)||e.cancel()}}}var Gt,Wt=function(e,t,n){return t.getToken().then((function(t){var r=e.getState();null===Me(r)&&e.dispatch(Mt(t.entityId));var i=r.page;if(i&&i.url){var o=Object(d.a)({license_id:r.licenseId}),a={session_fields:kt(n||{}),group_id:r.groupId||0,page_url:i.url};return Object(f.a)(qe(r)+"/action/check_goals?"+o,{method:"POST",headers:{"Content-Type":"application/json",Authorization:t.tokenType+" "+t.accessToken},body:JSON.stringify(a)}).then((function(){}))}}))},$t=function(e,t){var n=e.getState,r=e.dispatch,i=function(e){return e.requests}(n());r({type:I,payload:{rejects:Object.keys(i).map((function(e){return i[e].reject})),reason:t}})},Zt=function(e,t,n){var r=e.getState,i=e.dispatch,o=t.payload.id;i({type:M,payload:{id:o,reject:r().requests[o].reject,error:n}})},Yt=Object.freeze({success:!0}),Kt=function(e,t){var n={id:t.id,authorId:t.author_id,createdAt:t.created_at,threadId:e,properties:t.properties||{}};return void 0!==t.custom_id&&(n.customId=t.custom_id),n},Jt=function(e,t){var n,r,i,o,a;t.height>t.width?(r="height",i="width",o=t.height,a=t.width):(r="width",i="height",o=t.width,a=t.height);var u=e/o;return(n={})[r]=Math.ceil(Math.min(o,e)),n[i]=Math.ceil(Math.min(u*a,a)),n},Xt=function(e,t){return void 0!==t.width&&void 0!==t.height?function(e,t){return Object(o.a)({},Kt(e,t),{type:gt,contentType:t.content_type,url:t.url,name:t.name,width:t.width,height:t.height,thumbnails:{default:Object(o.a)({url:t.thumbnail_url},Jt(300,t)),high:Object(o.a)({url:t.thumbnail2x_url},Jt(600,t))}},t.alternative_text&&{alternativeText:t.alternative_text})}(e,t):Object(o.a)({},Kt(e,t),{type:gt,contentType:t.content_type,url:t.url,name:t.name})},Qt=function(e){var t={};if("string"===typeof e.title&&(t.title=e.title),"string"===typeof e.subtitle&&(t.subtitle=e.subtitle),e.image){var n=e.image;t.image=Object(o.a)({url:n.url,name:n.name},n.alternative_text&&{alternativeText:n.alternative_text})}return e.buttons&&(t.buttons=e.buttons.map((function(e){switch(e.type){case"message":case"phone":return{type:e.type,text:e.text,postbackId:e.postback_id,userIds:e.user_ids,value:e.value,role:e.role||"default"};case"cancel":return{type:e.type,text:e.text,postbackId:e.postback_id,userIds:e.user_ids,role:e.role||"default"};case"url":var t={type:e.type,text:e.text,postbackId:e.postback_id,userIds:e.user_ids,value:e.value,role:e.role||"default"};return e.target&&(t.target=e.target),t;case"webview":var n={type:e.type,text:e.text,postbackId:e.postback_id,userIds:e.user_ids,value:e.value,role:e.role||"default"};return"string"===typeof e.webview_height&&(n.webviewHeight=e.webview_height),n;default:return{text:e.text,postbackId:e.postback_id,userIds:e.user_ids,role:e.role||"default"}}}))),t},en=function(e,t){switch(t.template_id){case"cards":case"quick_replies":case"sticker":return Object(o.a)({},Kt(e,t),{type:wt,template:t.template_id,elements:t.elements.map(Qt)});default:return null}},tn=function(e,t){switch(t.type){case gt:return Xt(e,t);case yt:return function(e,t){return Object(o.a)({},Kt(e,t),{authorId:"system",type:yt,formId:t.form_id,fields:t.fields})}(e,t);case Ot:return function(e,t){return Object(o.a)({},Kt(e,t),{type:Ot,formId:t.form_id,fields:t.fields.map((function(e){switch(e.type){case"group_chooser":if(!e.answer)return e;var t=e.answer,n=t.group_id,r=Object(a.a)(t,["group_id"]);return Object(o.a)({},e,{answer:Object(o.a)({},r,{groupId:n})});default:return e}}))})}(e,t);case jt:return function(e,t){return Object(o.a)({},Kt(e,t),{type:jt,text:t.text})}(e,t);case wt:return en(e,t);case _t:return function(e,t){var n=Object(o.a)({},Kt(e,Object(o.a)({},t,{author_id:"system"})),{type:_t,text:t.text,systemMessageType:t.system_message_type});return t.text_vars&&(n.textVars=t.text_vars),n}(e,t);case xt:return function(e,t){return Object(o.a)({},Kt(e,t),{type:xt},t.content&&{content:t.content})}(e,t);default:return null}},nn=function(e){return{id:e.id,addon:e.addon||null,uniqueId:e.unique_id,displayedFirstTime:e.displayed_first_time,accepted:e.accepted||!1,subtype:e.subtype||"greeting",event:tn(null,e.event),agent:{id:e.agent.id,name:e.agent.name,avatar:e.agent.avatar,jobTitle:e.agent.job_title,isBot:e.agent.is_bot||!1}}},rn=function(e){return void 0===e&&(e={}),e.group_ids?{groupIds:e.group_ids}:{}},on=function(e){return Object(l.P)((function(e){return e.events_seen_up_to?e.events_seen_up_to:null}),Object(l.K)("id",e))},an=function(e,t){var n=t.properties||{};return{id:t.id,chatId:e,active:t.active,access:rn(t.access),createdAt:t.created_at,userIds:t.user_ids,events:t.events.map((function(e){return tn(t.id,e)})).filter(Boolean),properties:n,previousThreadId:t.previous_thread_id||null,nextThreadId:t.next_thread_id||null,queue:t.queue?pn(t.queue):null}},un=function(e){return{id:e.id,access:rn(e.access),users:e.users.map(hn),properties:e.properties||{},eventsSeenUpToMap:on(e.users)}},cn=function(e){var t=Object(l.fb)(["avatar","email","name"],e);return e.session_fields&&(t.sessionFields=e.session_fields.reduce((function(e,t){var n=Object.keys(t)[0];return e[n]=t[n],e}),{})),t},sn=function(e){var t=cn(e);return Object(o.a)({id:e.id,type:Te},t,{sessionFields:t.sessionFields||{}})},ln=function(e){var t=e.statistics;return Object(o.a)({},sn(e),{statistics:{chatsCount:t.chats_count,threadsCount:t.threads_count,visitsCount:t.visits_count,pageViewsCount:t.page_views_count,greetingsShownCount:t.greetings_shown_count,greetingsAcceptedCount:t.greetings_accepted_count}})},dn=function(e){var t=e.agent,n=e.queue;return{agent:{id:t.id,type:Ae,name:t.name,avatar:t.avatar,jobTitle:t.job_title,isBot:t.is_bot},queue:n}},fn=function(e){return{position:e.position,waitTime:e.wait_time}},pn=function(e){return Object(o.a)({},fn(e),{queuedAt:e.queued_at})},hn=function(e){return e.type===Te?(n=e,Object(o.a)({},sn(n),{present:n.present})):{id:(t=e).id,type:Ae,name:t.name,avatar:t.avatar,jobTitle:t.job_title,present:t.present};var t,n},mn=((Gt={}).CONNECTION_LOST="Connection lost.",Gt.MISDIRECTED_CONNECTION="Connected to wrong region.",Gt),bn=function(e,t){var n=e.getState();switch(t.type){case z:case F:switch(t.payload.action){case $e:return void e.dispatch(Bt(t.payload.payload.chatId,!1));case ut:return void e.dispatch(Bt(t.payload.payload.chat.id,!0));default:return}case L:switch(t.payload.action){case se:return void t.payload.payload.chatsSummary.filter((function(e){var t=e.id,r=e.active;return Le(n,t)!==r})).forEach((function(t){var n=t.id,r=t.active;e.dispatch(Bt(n,r))}));default:return}}},vn=function(e,t){t.forEach((function(t){if("present"in t){t.present;var n=Object(a.a)(t,["present"]);e("user_data",n)}else if(t.type!==Te)e("user_data",t);else{t.statistics;var r=Object(a.a)(t,["statistics"]);e("user_data",r)}}))},gn=function(e,t){var n=e.emit,r=e.store,i=t.payload;switch(i.action){case mt:return i.payload.properties.lc2&&"queue_pos"in i.payload.properties.lc2&&n(pt,{chatId:i.payload.chatId,threadId:i.payload.threadId,queue:{position:i.payload.properties.lc2.queue_pos,waitTime:i.payload.properties.lc2.queue_waiting_time}}),void n("thread_properties_updated",i.payload);case Qe:return void function(e,t){s.setItem(Nt(e),JSON.stringify(t)).catch(l.V)}(r,i.payload.customer_side_storage);case Je:switch(i.payload.reason){case"access_token_expired":r.dispatch(Tt(!0)),r.dispatch(Ft(100)),n("disconnected",i.payload);break;case Ge:case"customer_temporarily_blocked":case"license_not_found":case We:case"too_many_connections":case"unsupported_version":r.dispatch(St(i.payload.reason));break;case"misdirected_connection":$t(r,Y),r.dispatch({type:E,payload:i.payload.data});break;case"service_temporarily_unavailable":case"too_many_unauthorized_connections":$t(r,i.payload.reason.toUpperCase());break;default:r.dispatch(Ft(100)),n("disconnected",i.payload)}return;case ut:return vn(n,i.payload.chat.users),void n(i.action,i.payload);case ct:if(null===i.payload.event)return;return void n(i.action,i.payload);case ft:return void n(i.action,i.payload);case lt:return function(e,t){var n=t.type,r=t.content;if("lc2"===n&&"groups_update"===r.name&&"groups"in r&&!Object(l.F)(r.groups)){e("availability_updated",{availability:"offline"===r.groups[0].status?"offline":"online"})}}(n,i.payload),void n(i.action,i.payload);case bt:return vn(n,[i.payload.user]),void n(i.action,i.payload);default:return void n(i.action,i.payload)}},yn=function(e,t){var n=e.emit,r=t.payload;switch(r.action){case $e:return void r.resolve(Yt);case ie:return vn(n,r.payload.users),void r.resolve(r.payload);case ut:return vn(n,r.payload.chat.users),void r.resolve(r.payload);case ct:return void r.resolve(r.payload.event);case se:return vn(n,r.payload.users),void r.resolve(r.payload);default:return void r.resolve(r.payload)}},On=function(e){var t=e.auth,n=e.customerDataProvider,i=e.emitter,a=e.socket,u=i.emit,c=Ht(t,n);return function(e,n){switch(e.type){case E:return void a.reinitialize();case D:return void Wt(n,t,e.payload.sessionFields).catch(l.V);case k:var s=e.payload;switch(c.cancel(),a.destroy(),s.reason){case"manual":$t(n,J);break;case Ge:case"license_expired":case We:$t(n,$),u("disconnected",s);break;default:u("disconnected",s)}return void i.off();case I:var d=e.payload,f=d.reason,p=d.rejects,h={message:mn[f],code:f};return void p.forEach((function(e){e(He(h))}));case S:var m=e.payload,b=m.dynamicConfig,v=m.customer,g=m.chats,y=m.greeting,O=m.availability,j=Object(o.a)({customer:v,availability:O},y&&{greeting:y});return Object.defineProperty(j,"__unsafeDynamicConfig",{value:b}),Object.defineProperty(j,"__unsafeChats",{value:g}),void u("connected",j);case A:var w=e.payload;return a.disconnect(),void("manual"!==w.reason&&u("disconnected",w));case T:return e.payload.fresh?void t.getFreshToken().catch(l.V):void t.hasToken().then((function(e){return e?t.getToken().then((function(e){if(!(e.creationDate+e.expiresIn-Date.now()>36e5))return t.invalidate().then(t.getFreshToken)})):t.getToken()})).catch(l.V);case F:return e.payload.action===Je||bn(n,e),void gn({emit:u,store:n},e);case z:return bn(n,e),void yn({emit:u},e);case B:return $t(n,$),void a.reconnect(e.payload.delay);case M:var _=e.payload;return void(0,_.reject)(He(_.error));case L:return bn(n,e),void yn({emit:u},e);case P:var x=n.getState();return function(e){return ze(e)===Ie}(x)?void Zt(n,e,{code:J,message:"SDK destroyed."}):Pe(x)||"login"===e.payload.source?void function(e,t){var n=t.payload,i=n.id,a=n.request,u=Object(o.a)({request_id:i},a);switch(u.action){case fe:var c=[];return void e.emit(Object(o.a)({},u,{version:"3.3",payload:Object(o.a)({},u.payload,{pushes:{3.3:Object(l.Bb)(r).filter((function(e){return e!==Je&&!Object(l.D)(e,c)}))}})}));default:e.emit(u)}}(a,e):void Zt(n,e,{code:"NO_CONNECTION",message:"No connection."});case q:return void u("customer_id",e.payload.id);case V:return void u("disconnected",{reason:"connection_lost"});case N:return void c.sendLogin(n);case U:if(!Pe(n.getState()))return;return void u("connection_recovered");case H:if(!Pe(n.getState()))return;return void u("connection_unstable");case G:return a.connect(),void n.dispatch(Tt());case W:if(!Pe(n.getState()))return;return void Pt(n,zt(we,e.payload)).catch(l.V);default:return}}},jn=function(e,t){var n={status:"idle",queuedTasks:[],nextPageId:null},r=function r(i,o){switch(n.status){case"idle":return n.status="fetching",void e.listThreads(n.nextPageId?{chatId:t,pageId:n.nextPageId}:{chatId:t,minEventsCount:25}).then((function(e){var t=e.threads,o=e.nextPageId;n.nextPageId=o,n.nextPageId?(n.status="idle",i({value:{threads:[].concat(t).reverse()},done:!1})):(n.status="done",i({value:{threads:[].concat(t).reverse()},done:!0}));var a=n.queuedTasks.shift();a&&r(a.resolve,a.reject)}),(function(e){var t=n.queuedTasks;n.status="idle",n.queuedTasks=[],o(e),t.forEach((function(t){return t.reject(e)}))}));case"fetching":return void n.queuedTasks.push({resolve:i,reject:o});case"done":return void i({value:void 0,done:!0})}};return{next:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return new Promise(r)}))}},wn=0,_n=1,xn=3,Cn=function(e,t){var n,r=(void 0===t?{}:t).query,i=void 0===r?{}:r,o=Object(d.a)(i),a=o?e+"?"+o:e,u=Object(C.a)(),c=Object(qt.a)({min:1e3,max:5e3,jitter:.5}),s=xn,l=null,f=function(){s=_n,c.reset(),u.emit("connect")},p=function(){m(),v(),u.emit("disconnect")},h=function(e){var t=e.data;u.emit("message",t)},m=function(){var e;(clearTimeout(n),s=xn,l)&&((e=l).removeEventListener("open",f),e.removeEventListener("close",p),e.removeEventListener("message",h),l.close(),l=null)},b=function(){var e;s=wn,l=new WebSocket(a),(e=l).addEventListener("open",f),e.addEventListener("close",p),e.addEventListener("message",h)},v=function(e){void 0===e&&(e=c.duration()),m(),0!==e?n=setTimeout(b,e):b()};return{connect:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){if(s!==xn)throw new Error("Socket is already open or connecting.");clearTimeout(n),b()})),destroy:function(){u.off(),m()},disconnect:m,reconnect:v,emit:function(e){if(s!==_n)throw new Error("Socket is not connected.");l.send(e)},getReadyState:function(){return s},on:u.on,off:u.off}},En=function(){var e,t=l.V;return{cancel:function(){clearTimeout(e),t=l.V},check:function(){var n=Object(Lt.a)();return t=n.resolve,e=setTimeout((function(){var e=new Error("Timeout.");e.code="TIMEOUT",n.reject(e)}),2e3),n.promise},resolve:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){clearTimeout(e),t()}))}},Dn=function(e,t){var n,r,a=void 0===t?{}:t,u=a.query,c=void 0===u?{}:u,s=a.emitter,l=void 0===s?Object(C.a)():s,d=Cn(e,{query:c}),f=En(),p=function(){return d.getReadyState()===i.OPEN},h=function(){f.cancel()};return n=d,r=l,["connect","disconnect"].forEach((function(e){n.on(e,(function(t){r.emit(e,t)}))})),d.on("disconnect",h),d.on("message",(function(e){f.resolve();var t=JSON.parse(e);l.emit("message",t)})),"undefined"!==typeof window&&"undefined"!==typeof window.addEventListener&&(window.addEventListener("online",(function(){p()&&f.check().then((function(){f.cancel(),l.emit("connection_recovered")}),(function(e){if(f.cancel(),"TIMEOUT"!==e.code)throw e;d.reconnect()}))})),window.addEventListener("offline",(function(){f.cancel(),p()&&l.emit("connection_unstable")}))),Object(o.a)({},d,{destroy:function(){h(),d.destroy()},disconnect:function(){h(),d.disconnect()},reconnect:function(e){h(),d.reconnect(e)},emit:function(e){d.emit(JSON.stringify(e))},on:l.on,off:l.off})},kn=function(e,t){var n=e.getState(),r=(qe(n)+"/rtm/ws").replace(/^https/,"wss");return Dn(r,{query:{license_id:n.licenseId},emitter:t})},In=function(e){var t=Object(C.a)(),n=kn(e,t);return Object(o.a)({},Object.keys(n).reduce((function(e,t){return e[t]=function(){var e;return(e=n)[t].apply(e,arguments)},e}),{}),{reinitialize:function(){n.disconnect(),(n=kn(e,t)).connect()}})},Sn=function(e){return{chatId:e.chat_id,properties:e.properties}},An=function(e){var t={chatId:e.chat_id,threadId:e.thread_id,transferredTo:Object(o.a)({},e.transferred_to.agent_ids&&{agentIds:e.transferred_to.agent_ids},e.transferred_to.group_ids&&{groupIds:e.transferred_to.group_ids}),queue:e.queue?pn(e.queue):null};return"manual"===e.reason?Object(o.a)({},t,{reason:e.reason,requesterId:e.requester_id}):Object(o.a)({},t,{reason:e.reason})},Tn=function(e){return{url:e.url,title:e.title,openedAt:e.opened_at}},Fn=function(e){return Object(o.a)({id:e.id},cn(e))},zn=function(e){return{chatId:e.chat_id,threadId:e.thread_id,eventId:e.event_id,properties:e.properties}},Bn=function(e){return{chatId:e.chat_id,threadId:e.thread_id,eventId:e.event_id,properties:e.properties}},Mn=function(e){var t=e.thread_id;return{chatId:e.chat_id,threadId:t,event:tn(t,e.event)}},Ln=function(e){return{chatId:e.chat_id,userId:e.user_id,seenUpTo:e.seen_up_to}},Pn=function(e){return{uniqueId:e.unique_id}},Rn=function(e){var t=e.chat;return{chat:Object(o.a)({},un(t),{thread:an(t.id,t.thread)})}},qn=function(e){return{chatId:e.chat_id,event:tn(e.thread_id,e.event)}},Nn=function(e){return nn(e)},Vn=function(e){return{userId:e.user_id,chatId:e.chat_id,threadId:e.thread_id,eventId:e.event_id,postback:e.postback}},Un=function(e){var t=e.chat_id,n=e.typing_indicator;return{chatId:t,typingIndicator:{authorId:n.author_id,isTyping:n.is_typing}}},Hn=function(e){return{chatId:e.chat_id,threadId:e.thread_id,queue:fn(e.queue)}},Gn=function(e){return{chatId:e.chat_id,threadId:e.thread_id,properties:e.properties}},Wn=function(e){return{chatId:e.chat_id,threadId:e.thread_id,properties:e.properties}},$n=function(e){return{chatId:e.chat_id,user:hn(e.user),present:e.user.present}},Zn=function(e){return{chatId:e.chat_id,userId:e.user_id}},Yn=function(e){return e.map((function(e){switch(e.type){case"group_chooser":return Object(o.a)({},e,{options:e.options.map((function(e){var t=e.group_id,n=Object(a.a)(e,["group_id"]);return Object(o.a)({},n,{groupId:t})}))});case"rating":var t=e.comment_label,n=Object(a.a)(e,["comment_label"]);return Object(o.a)({},n,{commentLabel:t});default:return e}}))},Kn=function(e){var t=e.map((function(e,t){return Object(o.a)({},e,{id:String(t)})}));return Yn(t)},Jn=function(e){var t=!("id"in e.fields[0]);return{id:e.id,fields:t?Kn(e.fields):Yn(e.fields)}},Xn=function(e){return e.enabled?Object(o.a)({},e,{form:Jn(e.form)}):e},Qn=function(e){var t={url:e.url};return e.title&&(t.title=e.title),e.description&&(t.description=e.description),e.image_url&&(t.imageUrl="https://"+e.image_url,e.image_width&&e.image_height&&(t.imageWidth=e.image_width,t.imageHeight=e.image_height)),t},er=function(e){var t=e.online_groups_ids,n=e.customer_groups;if(!t)return"offline";var r=n.monitoring.id;return Object(l.D)(r,t)?"online":"offline"},tr=function(e){var t=e.chats_summary.map((function(e){var t=e.id,n=e.active,r=e.access,i=e.last_thread_created_at,o=e.last_thread_id,a=e.last_event_per_type,u=e.properties,c=void 0===u?{}:u,s=e.users,d={id:t,active:n,access:rn(r),properties:c,users:s.map(hn),lastThreadId:o||null,lastThreadCreatedAt:i||null,eventsSeenUpToMap:on(s)};if(!a)return d;d.lastEventsPerType=Object(l.P)((function(e){return tn(e.thread_id,e.event)}),a);var f=a,p=Object.keys(f).map((function(e){return f[e]})),h=Object(l.M)(p.sort((function(e,t){return e.thread_id===t.thread_id?Object(l.pb)(e.event.created_at,t.event.created_at):Object(l.pb)(e.thread_created_at,t.thread_created_at)})));return h&&(d.lastEvent=d.lastEventsPerType[h.event.type]),d}));return{chatsSummary:Object(l.W)((function(e){var t=e.lastEvent,n=e.order;return-1*(void 0!==t?t.timestamp:n)}),t),totalChats:e.total_chats,users:Object(l.zb)((function(e){return e.id}),Object(l.s)((function(e){return e.users}),t)),previousPageId:e.previous_page_id||null,nextPageId:e.next_page_id||null}},nr=function(e){return e.groups_status},rr=function(e,t){return{threads:t.threads.map((function(t){return an(e.payload.chat_id,t)})),previousPageId:t.previous_page_id||null,nextPageId:t.next_page_id||null}},ir=function(e){var t=e.__priv_dynamic_config,n=e.chats,r=e.greeting;return Object(o.a)({dynamicConfig:t,customer:ln(e.customer),availability:er(t),chats:n.map((function(t){return{id:t.chat_id,active:"has_active_thread"in t?t.has_active_thread:e.has_active_thread,hasUnreadEvents:t.has_unread_events}}))},r&&{greeting:nn(r)})},or=function(e){switch(e.action){case $e:return{action:e.action,payload:{chatId:e.payload.chat_id}};case Ze:return{action:e.action,payload:(t=e.payload,{chatId:t.chat_id,properties:t.properties})};case Ye:return{action:e.action,payload:Sn(e.payload)};case Ke:return{action:e.action,payload:An(e.payload)};case Qe:case Je:return{action:e.action,payload:e.payload};case Xe:return{action:e.action,payload:Tn(e.payload)};case et:return{action:e.action,payload:Fn(e.payload)};case tt:return{action:e.action,payload:zn(e.payload)};case nt:return{action:e.action,payload:Bn(e.payload)};case rt:return{action:e.action,payload:Mn(e.payload)};case it:return{action:e.action,payload:Ln(e.payload)};case ot:case at:return{action:e.action,payload:Pn(e.payload)};case ut:return{action:e.action,payload:Rn(e.payload)};case ct:return{action:e.action,payload:qn(e.payload)};case st:return{action:e.action,payload:Nn(e.payload)};case lt:return{action:e.action,payload:e.payload};case dt:return{action:e.action,payload:Vn(e.payload)};case ft:return{action:e.action,payload:Un(e.payload)};case pt:return{action:e.action,payload:Hn(e.payload)};case ht:return{action:e.action,payload:Gn(e.payload)};case mt:return{action:e.action,payload:Wn(e.payload)};case bt:return{action:e.action,payload:$n(e.payload)};case vt:return{action:e.action,payload:Zn(e.payload)}}var t},ar=function(e,t){var n=e.dispatch,r=e.getState,i=t.request_id,a=Be(r(),i),u=a.promise,c=a.resolve,s=function(e){var t,n=e.request,r=e.response;switch(r.action){case X:case Q:case te:case ne:case re:return{action:r.action,payload:Yt};case ie:return{action:r.action,payload:(t=r.payload,Object(o.a)({},un(t),{thread:t.thread?an(t.id,t.thread):null}))};case oe:return{action:r.action,payload:ln(r.payload)};case ae:return{action:r.action,payload:Xn(r.payload)};case ue:return{action:r.action,payload:dn(r.payload)};case ce:return{action:r.action,payload:Qn(r.payload)};case se:return{action:r.action,payload:tr(r.payload)};case le:return{action:r.action,payload:nr(r.payload)};case de:return{action:r.action,payload:rr(n,r.payload)};case fe:return{action:r.action,payload:ir(r.payload)};case pe:case ve:case ge:case be:case Oe:case je:case we:case _e:case xe:return{action:r.action,payload:Yt}}}({request:a.request,response:t});n({type:L,payload:Object(o.a)({id:i,promise:u,resolve:c},s)})},ur=function(e,t){var n=e.dispatch;return t.on("connect",(function(){n({type:N})})),t.on("message",(function(t){if("response"===t.type){if(!t.success)return void function(e,t){var n,r=e.dispatch,i=e.getState,o=t.request_id,a=t.payload,u=Be(i(),o).reject;r({type:M,payload:{id:o,reject:u,error:(n=a.error,{code:n.type.toUpperCase(),message:n.message})}})}(e,t);switch(t.action){case ee:case he:case me:case ye:return;default:return void ar(e,t)}}if("request_id"in t)switch(t.action){case $e:case ut:case ct:return void function(e,t){var n=e.dispatch,r=e.getState,i=t.request_id,a=Be(r(),i),u=a.promise,c=a.resolve,s=or(t);n({type:z,payload:Object(o.a)({id:i,promise:u,resolve:c},s)})}(e,t)}!function(e,t){var n=or(t);n&&e.dispatch({type:F,payload:n})}(e,t)})),t.on("disconnect",(function(){$t(e,$),ze(e.getState())===ke&&e.dispatch({type:V})})),t.on("connection_unstable",(function(){n({type:H})})),t.on("connection_recovered",(function(){n({type:U})})),t.off},cr="incorrect requester structure",sr=function(e,t){return e.length?e+"\n"+t:t},lr=function(e,t,n){var r=n.filledForm,i=n.groupId,a=n.timeZone;return t.getToken().then((function(t){var n=e.getState();null===Me(n)&&e.dispatch(Mt(t.entityId));var u=Re(n)+"/v2/tickets/new",c=function(e,t){var n=t.fields,r=t.customerId,i=t.groupId,a=void 0===i?e.groupId:i,u=t.timeZone,c=Object(o.a)({licence_id:e.licenseId,ticket_message:"",offline_message:"",visitor_id:r,requester:{}},"number"===typeof a&&{group:a},e.page&&{source:{url:e.page.url}},u&&{timezone:u});return n.reduce((function(e,t){switch(t.type){case"subject":var n=t.answer,r=n?t.label+" "+n:t.label;return n&&(e.subject=n),e.offline_message=sr(e.offline_message,r),e;case"name":var i=t.answer,o=i?t.label+" "+i:t.label;return i&&(e.requester.name=i),e.offline_message=sr(e.offline_message,o),e;case"email":var a=t.answer,u=a?t.label+" "+a:t.label;return e.requester.mail=a,e.offline_message=sr(e.offline_message,u),e;case"question":case"textarea":var c=t.answer,s=c?t.label+" "+c:t.label;return e.offline_message=sr(e.offline_message,s),e.ticket_message=sr(e.ticket_message,s),e;case"radio":case"select":var l=t.answer&&t.answer.label,d=l?t.label+" "+l:t.label;return e.offline_message=sr(e.offline_message,d),e.ticket_message=sr(e.ticket_message,d),e;case"checkbox":var f=t.answers&&t.answers.map((function(e){return e.label})).join(", "),p=f?t.label+" "+f:t.label;return e.offline_message=sr(e.offline_message,p),e.ticket_message=sr(e.ticket_message,p),e;default:return e}}),c)}(n,{fields:r.fields,customerId:t.entityId,groupId:i,timeZone:a});return Object(f.a)(u,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)}).then((function(e){if(e.ok)return e.json().then((function(e){return Object(o.a)({},e,{text:c.ticket_message})}));if(400===e.status||422===e.status){var t=function(e){if(!e||!e.errors)throw new Error;var t=e.errors[0];if(Object.keys(t)[0]===cr)throw He({message:t[cr][0],code:"VALIDATION"});throw new Error};return e.json().then(t,t)}throw new Error}))}))},dr="UPLOAD_FAILED",fr=function(e,t,n){var r=void 0===n?{}:n,i=r.headers,o=r.method,a=void 0===o?"POST":o,u=r.onProgress,c=r.withCredentials,s=void 0!==c&&c,l=new XMLHttpRequest;return{promise:new Promise((function(n,r){"function"===typeof u&&(l.upload.onprogress=function(e){u(e.loaded/e.total)}),l.onload=function(){var e;try{e=JSON.parse(l.response)}catch(t){e=l.response}if(l.status>=200&&l.status<300)n(e);else{var t=new Error("Upload failed.");t.code=dr,t.response=e,r(t)}},l.onerror=function(){var e=new Error("Upload failed.");e.code=dr,r(e)},l.onabort=function(){var e=new Error("Upload canceled.");e.code="UPLOAD_CANCELED",r(e)},l.open(a,e),l.withCredentials=s,i&&Object.keys(i).forEach((function(e){return l.setRequestHeader(e,i[e])})),l.send(function(e){var t=new FormData;return Object.keys(e).forEach((function(n){return t.append(n,e[n])})),t}(t))})),cancel:function(){l.abort()}}},pr=1048576,hr=10485760,mr=function(e,t){if(void 0===t&&(t=2),e<1024)return e+" b";var n=e/1024;if(e<pr)return n.toFixed(t)+" kb";var r=n/1024;return e<1073741824?r.toFixed(t)+" MB":(r/1024).toFixed(t)+" GB"},br=function(e){if(e.size>hr)throw He({message:"The file is too big (max size is "+mr(hr)+").",code:"TOO_BIG_FILE"})},vr=function(e,t){var n,r=e.auth,i=e.store,o=t.file,a=t.onProgress,u=!1;return{promise:new Promise((function(e,t){br(o);var c=i.getState(),s=Object(d.a)({license_id:c.licenseId}),l=qe(c)+"/action/upload_file?"+s,f={file:o};r.getToken().then((function(r){u?t(new Error("Upload cancelled.")):(n=fr(l,f,{headers:{Authorization:r.tokenType+" "+r.accessToken},onProgress:a})).promise.then(e,(function(e){if(e.response){var n=e.response.error,r=n.type,i=n.message;t(He({message:i,code:r.toUpperCase()}))}else t(e)}))}))})),cancel:function(){u||(u=!0,n&&n.cancel())}}},gr=function(e){e.env,e.licenseId,e.eventName;return Promise.resolve()},yr=function(e,t){void 0===t&&(t="production"),_(e);var n=e.autoConnect,r=void 0===n||n,i=e.customerDataProvider,u=e.identityProvider,c=Object(a.a)(e,["autoConnect","customerDataProvider","identityProvider"]),s=Ue(Object(o.a)({},c,{env:t})),d=Object(C.a)(),f=In(s),p="function"===typeof u?u():x(c,t);s.addSideEffectsHandler(On({emitter:d,socket:f,auth:p,customerDataProvider:i})),ur(s,f);var h=Pt.bind(null,s),m=function(){s.dispatch({type:G})},b=Object.freeze({acceptGreeting:function(e){var t=e.greetingId,n=e.uniqueId;return h(zt(X,{greeting_id:t,unique_id:n}))},auth:p,cancelGreeting:function(e){var t=e.uniqueId;return h(zt(Q,{unique_id:t}))},cancelRate:function(e){var t=e.chatId,n=e.properties,r=void 0===n?["score"]:n;return b.listThreads({chatId:t}).then((function(e){var n=e.threads;if(!n.length)throw He({message:'There is no thread in "'+t+'".',code:K});return b.deleteThreadProperties({chatId:t,threadId:n[0].id,properties:{rating:r}})}))},connect:m,deactivateChat:function(e){var t=e.id;return h(zt(ee,{id:t}))},deleteChatProperties:function(e){var t=e.id,n=e.properties;return h(zt(te,{id:t,properties:n}))},deleteEventProperties:function(e){var t=e.chatId,n=e.threadId,r=e.eventId,i=e.properties;return h(zt(ne,{chat_id:t,thread_id:n,event_id:r,properties:i}))},deleteThreadProperties:function(e){var t=e.chatId,n=e.threadId,r=e.properties;return h(zt(re,{chat_id:t,thread_id:n,properties:r}))},destroy:function(){s.dispatch(St("manual"))},disconnect:function(){s.dispatch(At("manual"))},getChat:function(e){var t=e.chatId,n=e.threadId;return h(zt(ie,{chat_id:t,thread_id:n}))},getChatHistory:function(e){var t=e.chatId;return jn(b,t)},getCustomer:function(){return h(zt(oe,{}))},getForm:function(e){var t=e.groupId,n=e.type;return h(zt(ae,{group_id:t,type:n}))},getPredictedAgent:function(e){void 0===e&&(e={});var t=e.groupId;return h(zt(ue,"number"===typeof t?{group_id:t}:{}))},getUrlInfo:function(e){var t=e.url;return h(zt(ce,{url:t}))},listChats:function(e){return void 0===e&&(e={}),"limit"in e&&"number"===typeof e.limit&&e.limit>25?Promise.reject(new Error("Specified limit is too high (max 25).")):h(zt(se,void 0===e.pageId?{limit:e.limit||10}:{page_id:e.pageId}))},listGroupStatuses:function(e){var t=(void 0===e?{}:e).groupIds;return h(zt(le,t?{group_ids:t}:{all:!0}))},listThreads:function(e){return h(zt(de,void 0===e.pageId?{chat_id:e.chatId,sort_order:e.sortOrder,limit:e.limit,min_events_count:e.minEventsCount}:{chat_id:e.chatId,page_id:e.pageId}))},markEventsAsSeen:function(e){var t=e.chatId,n=e.seenUpTo;return h(zt(pe,{chat_id:t,seen_up_to:n}))},on:d.on,once:d.once,off:d.off,rateChat:function(e){var t=e.chatId,n=e.rating;return b.listThreads({chatId:t}).then((function(e){var r=e.threads;if(!r.length)throw He({message:'There is no thread in "'+t+'".',code:K});return b.updateThreadProperties({chatId:t,threadId:r[0].id,properties:{rating:n}})}))},resumeChat:function(n){return gr({env:t,licenseId:e.licenseId,eventName:"chat_started"}),h(zt(he,function(e){var t=Dt(e);return Object(o.a)({},t,{chat:Object(o.a)({},t.chat,{id:e.chat.id})})}(n)))},sendEvent:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return h(function(e){var t=e.chatId,n=e.event,r=e.attachToLastThread,i={chat_id:t,event:Et(n)};return r&&(i.attach_to_last_thread=!0),zt(me,i)}(e))})),sendTicketForm:function(e){return lr(s,p,e)},sendRichMessagePostback:function(e){var t=e.chatId,n=e.threadId,r=e.eventId,i=e.postback;return h(zt(be,{chat_id:t,event_id:r,thread_id:n,postback:i}))},setCustomerSessionFields:function(e){var t=e.sessionFields;return h(zt(ge,{session_fields:kt(t)}))},setSneakPeek:function(e){var t=e.chatId,n=e.sneakPeekText,r=s.getState();Le(r,t)&&Pe(r)&&h(zt(ve,{chat_id:t,sneak_peek_text:n})).catch(l.V)},startChat:function(n){return void 0===n&&(n={}),gr({env:t,licenseId:e.licenseId,eventName:"chat_started"}),h(zt(ye,Dt(n)))},updateChatProperties:function(e){var t=e.id,n=e.properties;return h(zt(Oe,{id:t,properties:n}))},updateCustomer:function(e){return h(zt(je,It(e)))},updateCustomerPage:function(e){s.dispatch({type:W,payload:Object(l.fb)(["title","url"],e)})},updateEventProperties:function(e){var t=e.chatId,n=e.threadId,r=e.eventId,i=e.properties;return h(zt(_e,{chat_id:t,event_id:r,thread_id:n,properties:i}))},updateThreadProperties:function(e){var t=e.chatId,n=e.threadId,r=e.properties;return h(zt(xe,{chat_id:t,thread_id:n,properties:r}))},uploadFile:function(e){return vr({auth:p,store:s},e)}});return r?m():s.dispatch({type:D,payload:{sessionFields:"function"===typeof i?i().sessionFields:{}}}),b}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=430},function(e,t){e.exports=function(e){return"object"===typeof e?null!==e:"function"===typeof e}},,,,,,,function(e,t,n){"use strict";t.a=function(){var e=[],t=function(t){return function(n){return function(r){var i=n(r);return e.forEach((function(e){e(r,t)})),i}}};return t.add=function(t){e.push(t)},t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=/^\s+$/,i=/^(?:\s+|[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0]|\ud83c[\udffb-\udfff])?)*/;function o(e){for(var t=null,n=0;t=i.exec(e);){var o=t[0];if(e=e.slice(o.length),r.test(o)||n++,n>3)return!1}return!e}},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="system-card"},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"===typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var c,s=[],l=!1,d=-1;function f(){l&&c&&(l=!1,c.length?s=c.concat(s):d=-1,s.length&&p())}function p(){if(!l){var e=u(f);l=!0;for(var t=s.length;t;){for(c=s,s=[];++d<t;)c&&c[d].run();d=-1,t=s.length}c=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];s.push(new h(e,t)),1!==s.length||l||u(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},,function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(1),i=n(8),o=n(4),a=n(16),u=n(7),c=n(21),s=n(17),l=n(42);var d={name:"1bw4iei",styles:"margin:0 4px;margin-bottom:8px;padding:8px;border-radius:6px!important"},f=Object(u.z)(u.p,{target:"ecz5hmt0"})("font-family:'Noto Sans';font-size:0.9em;",(function(e){var t=e.theme;return Object(o.c)("color:",Object(s.h)(t.colors.cta)?Object(c.f)(.6,t.colors.cta):t.colors.cta,";border-color:",Object(s.h)(t.colors.cta)?Object(c.f)(.6,t.colors.cta):t.colors.cta,";")}),";"),p=function(e){return e.stopPropagation()};t.b=function(e){var t=e.replies,n=e.onSelect,c=Object(i.a)(e,["replies","onSelect"]),s=Object(a.f)();return Object(o.d)(u.o,Object(r.a)({onSelect:n},c,s),t.map((function(e,t){var n=e.text;return Object(o.d)(f,{key:t,onClick:p,value:t,css:d},Object(o.d)(l.a,null,n.length>20?n.slice(0,20).trim()+"\u2026":n))})))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return c}));var r=n(1),i=n(2);function o(e,t){return null!=t&&null!=e&&"object"===typeof t&&"object"===typeof e?a(t,e):e}function a(e,t){var n;if(Array.isArray(e)){n=e.slice(0,t.length);for(var a=0;a<t.length;a++)void 0!==t[a]&&(n[a]=o(t[a],n[a]))}else for(var u in n=Object(r.a)({},e),t)Object(i.B)(u,t)&&(void 0===t[u]?delete n[u]:n[u]=o(t[u],n[u]));return n}function u(e,t){return"object"===typeof e&&"object"===typeof t?c(e,t):e}function c(e,t){var n;if(Array.isArray(e)){n=new Array(e.length);for(var r=0;r<e.length;r++)e[r]!==t[r]&&(n[r]=u(e[r],t[r]))}else n={},Object.keys(e).forEach((function(r){e[r]!==t[r]&&(n[r]=u(e[r],t[r]))}));return n}},,function(e,t,n){"use strict";var r=n(1),i=n(20),o=n(4),a=n(22),u=n(15);function c(){var e=Object(i.a)(["\n\t100% {\n\t\topacity: 0.3;\n\t}\n"]);return c=function(){return e},e}var s=Object(o.e)(c()),l=Object(r.a)({},u.a,{borderRadius:Object(r.a)({},u.a.borderRadius,{def:u.a.borderRadius.md}),vars:{"primary-color":u.a.colors.accent,"secondary-color":u.a.colors.text.white,"tertiary-color":u.a.colors.divider},ApplicationWrapper:{css:{padding:{default:"1em 1em 1em 1em",expandToEdge:"0"}}},AgentBar:{Avatar:{size:"40px"},IconButton:{css:{width:"40px",height:"40px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",marginLeft:"6px",fontSize:Object(a.d)(32),opacity:{default:"1",disabled:"0.15"},color:{active:u.a.colors.text.white}}},Title:{css:{fontSize:".9em",fontWeight:"bold"}},SubTitle:{css:{fontSize:"0.9em",opacity:"1"}},css:{backgroundColor:u.a.colors.surface.light,zIndex:"1",color:u.a.colors.text.black,padding:"1rem"}},Avatar:{size:"20px",css:{border:0}},Bubble:{sharpBorderRadius:"6px",ovalBorderRadius:"6px",css:{boxShadow:u.a.boxShadow.xs,border:"0"}},ImagePreview:{css:{maxWidth:"200px",maxHeight:"300px",borderRadius:u.a.borderRadius.md}},IconButton:{css:{padding:"0 .5em"}},Footer:{css:{fontSize:"0.65em",padding:"0.3em 0",width:"100%",textAlign:"center",backgroundColor:u.a.colors.surface.lightVariant},FooterLink:{css:{textDecoration:"none",padding:"0.2em",borderRadius:u.a.borderRadius.md}}},MessageButtons:{css:{color:u.a.colors.accent}},MessageText:{css:{fontSize:"14px"}},Message:{css:{animation:{default:"none",sending:s+" 2s 2s forwards"},opacity:{default:"1",failed:"0.7"},color:u.a.colors.text.black,justifyContent:{default:"flex-start",system:"center"}},Bubble:{sharpBorderRadius:"6px",ovalBorderRadius:"6px",css:{boxShadow:u.a.boxShadow.xs,border:"0"}},system:{Bubble:{css:{background:"transparent",textAlign:"center",border:"0",width:"100%",boxShadow:"none"}},MessageText:{css:{padding:"0 1em"}}},fullWidth:{Content:{css:{width:"100%"}}}},MinimizedBar:{Icon:{color:"var(--primary-color)"},css:{position:"relative"}},MinimizedBubble:{Icon:{color:u.a.colors.text.white},css:{position:"relative",background:{default:"var(--primary-color)",hasAvatar:"transparent"}}},Minimized:{Avatar:{css:{border:"0",backgroundColor:"transparent"}}},Invitation:{IconButton:{css:{visibility:{mobile:"visible"}}},Bubble:{sharpBorderRadius:"6px",ovalBorderRadius:"6px",css:{border:"0"}}},TitleBar:{css:{backgroundColor:u.a.colors.surface.light,color:u.a.colors.text.black,fontWeight:"700!important",fontSize:"1em",textAlign:"center",height:"56px"},TitleBarTitle:{css:{fontSize:Object(a.d)(14)}},Avatar:{size:"30px",css:{border:"0"}}},TextComposer:{css:{fontSize:{default:"14px",mobile:"16px"},boxShadow:"0 -1em 1em rgba(0, 0, 0, 0.03)",zIndex:"1"},IconButton:{css:{opacity:{active:1,default:.4}}},Icon:{color:"unset"}},View:{css:{color:u.a.colors.text.black},Bubble:{sharpBorderRadius:"6px",ovalBorderRadius:"6px",css:{boxShadow:u.a.boxShadow.xs,border:"0"}}},SystemCard:{css:{border:"0",boxShadow:u.a.boxShadow.xs,left:{default:"50%",rtl:"auto"},right:{default:"auto",rtl:"50%"},transform:{default:"translateX(-50%)",rtl:"translateX(50%)"}}}});t.a=l},,function(e,t){var n=e.exports={version:"2.6.3"};"number"==typeof __e&&(__e=n)},,,,function(e,t,n){"use strict";var r=n(1),i=n(0),o=n(7),a=n(16);var u=function(e){return e.stopPropagation()},c=Object(o.z)("a",{target:"ecc17ou0"})({name:"c5z5om",styles:"color:inherit;&:focus{outline-offset:-1px;}"});t.a=function(e){var t=Object(a.f)();return i.createElement(c,Object(r.a)({rel:"nofollow noopener",target:"_blank",textWrap:!0},e,{onClick:u},t))}},function(e,t,n){"use strict";var r=n(1),i=n(8),o=n(4),a=n(22),u=n(19),c=function(e){return Object(o.c)("display:inline-block;flex-shrink:0;width:1em;height:1em;font-size:",e?Object(a.d)(e):"inherit",";user-select:none;fill:currentColor;")};t.a=function(e){var t=e.size,n=e.label,a=e.color,s=void 0===a?"inherit":a,l=e.children,d=Object(i.a)(e,["size","label","color","children"]),f=Object(u.l)(),p=n?{"aria-labelledby":f}:{};return Object(o.d)("svg",Object(r.a)({color:s,css:c(t)},d,p),n&&Object(o.d)("title",{id:f},n),l)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return e.replace(/\?+$/,"")}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return u}));var r=/\.(\w+)$/i,i=new Audio,o={mp3:"audio/mpeg",ogg:"audio/ogg"},a=function(e){var t=function(e){var t=e.match(r);return t?t[1].toLowerCase():""}(e);if(t in o){if(""!==i.canPlayType(o[t]))return!0}else 0;return!1},u=function(){return"function"===typeof window.webkitAudioContext}},,,,function(e,t,n){var r=n(104),i=n(137),o=n(126),a=n(185)("src"),u="toString",c=Function.toString,s=(""+c).split(u);n(111).inspectSource=function(e){return c.call(e)},(e.exports=function(e,t,n,u){var c="function"==typeof n;c&&(o(n,"name")||i(n,"name",t)),e[t]!==n&&(c&&(o(n,a)||i(n,a,e[t]?""+e[t]:s.join(String(t)))),e===r?e[t]=n:u?e[t]?e[t]=n:i(e,t,n):(delete e[t],i(e,t,n)))})(Function.prototype,u,(function(){return"function"==typeof this&&this[a]||c.call(this)}))},function(e,t,n){var r=n(124),i=n(284),o=n(244),a=Object.defineProperty;t.f=n(125)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(u){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(91);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){e.exports=!n(138)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return K})),n.d(t,"b",(function(){return ee})),n.d(t,"c",(function(){return re}));var r=n(32),i=n.n(r),o=n(39),a=n(2),u=n(26),c=n(28),s=n.n(c),l=n(46),d=n.n(l),f=n(40),p=n(100),h=n(44),m=n(37),b=n.n(m),v=n(55),g=n(64),y="call",O="emit",j="@@livechat/postmessenger",w="@@livechat/4way",_="handshake",x="handshake_echo",C="response",E=n(1),D=n(60),k=n(120),I=n(51),S=n(27),A=n(47),T=n.n(A),F=function(e){return!!e.data&&e.data[j]},z=Object(a.ab)((function(){return Object(h.a)(i()((function(e){return e.data.origin=e.origin,e.data}))(s()(F)(Object(S.a)(window,"message"))))}));function B(e){return function(t){return Object(I.a)(i()(e)(t))}}var M=0,L=function(e,t,n,r){return void 0===r&&(r=M++),Object(D.a)((function(){return n.request=r,t(n),b()(1)(B((function(e){if(!e.data.error)return Object(f.a)((function(){return e.data.result}));var t=e.data.result,n=t.real,r=t.error;if(!n)return Object(k.a)(r);var i=new Error(r.message);return Object(a.B)("code",r)&&(i.code=r.code),Object(k.a)(i)}))(s()((function(e){return e.type===C&&e.request===r}))(e)))}))},P=function(e,t,n,r,i){return void 0===i&&(i=null),Object(E.a)({},e,{call:function(e){for(var i=arguments.length,a=new Array(i>1?i-1:0),u=1;u<i;u++)a[u-1]=arguments[u];return Object(o.a)(L(t,r,n(y,{method:e,args:a})))},emit:function(e,t){r(n(O,{event:e,arg:t}))},data:i})},R=n(81),q=n.n(R);function N(){var e=q()();return[e,function(){var t=new Error("Destroyed.");t.code="DESTROYED",e(2,t)}]}var V=function(e,t,n,r){var i;return(i={})[j]=!0,i.owner=e,i.instance=t,i.type=n,i.data=r,i},U=n(83),H=function(e,t,n,r){return function(i){switch(i.type){case y:return void Object(U.a)((function(){var t=i.data,n=t.method,o=t.args;return r[n].apply(e,o)})).then((function(e){i.type=C,i.data={error:!1,result:e},n(i)}),(function(e){var t;i.type=C,e instanceof Error?(t={real:!0,error:{message:e.message}},Object(a.B)("code",e)&&(t.error.code=e.code)):t={real:!1,error:e},i.data={error:!0,result:t},n(i)}));case O:var o=i.data,u=o.event,c=o.arg;return void t(u,c);default:return}}},G=function(e){return Object(a.bb)((function(e){return"function"===typeof e}),e)},W=Object(a.v)(),$=0;function Z(e,t){var n=e.frame,r=e.targetOrigin,o=void 0===r?function(e){var t=document.createElement("a");return t.href=e,t.origin?"null"===t.origin?"*":t.origin:(t.protocol.length>4?t.protocol:window.location.protocol)+"//"+(t.host.length?"80"===t.port||"443"===t.port?t.hostname:t.host:window.location.host)}(n.src):r,a=e.handshakeRetry,c=void 0===a?{}:a;void 0===t&&(t={});var l=G(t),m=l[0],y=l[1],O=N(),j=O[0],C=O[1],E=$++,D=n.contentWindow,k=Object(u.a)(),I=function(e,t){return V(W,E,e,t)},S=function(e){D.postMessage(e,o)},A=Object(h.a)(Object(v.a)(j)(s()((function(e){return e.owner===W&&e.instance===E}))(z()))),T=P(k,A,I,S),F=Object(h.a)(Object(v.a)(j)(B((function(e){return w in e?i()((function(){return e.data}))(L(A,S,I(x))):Object(f.a)((function(){return e}))}))(b()(1)(Object(p.a)(c.count||5)(Object(g.a)(c.interval||500)(L(A,S,I(_,y),null))))))),M=H(T,k.emit,S,m);return d()(M)(B((function(){return A}))(F)),{api:T,destroy:C,handshake$:F}}var Y=n(93);function K(e,t){void 0===e&&(e={});var n=(void 0===t?{}:t).handshakeTimeout,r=void 0===n?3e3:n;var c,l=(c=function(t){var n,r=window.parent,o=t.origin,a=function(e){r.postMessage(e,o)};return a(Object(E.a)({},t,{type:C,data:{error:!1,result:(n={},n["@@livechat/4way"]=!0,n.data=G(e)[1],n)}})),b()(1)(i()((function(e){return e.type=C,e.data={error:!1,result:null},a(e),t}))(s()((function(e){return e.owner===t.owner&&e.instance===t.instance&&e.type===x}))(z())))},function(e){return function(e){return function(t,n){if(0===t){var r,i=!1,o=[],a=function(){o.forEach((function(e){e(2)}))};e(0,(function(e,t){if(0===e)r=t,n(0,u);else if(1===e){var c=t,s=o.length;c(0,(function(e,t){if(0!==e)if(i)n(e,t);else{var r=o.splice(s,1);i=!0,u(2),o=r,n(e,t)}else o.push(t)}))}else 2===e&&t?(r=null,a(),n(2,t)):2===e&&(r=null,o.length||n(2))}))}function u(e){2===e&&(a(),r&&r(2))}}}(i()(c)(e))})(B((function(){return Object(g.a)(r)(Object(Y.a)(50)(s()((function(e){return e.type===_}))(z())))}))(b()(1)(Object(h.a)(s()((function(){return"complete"===document.readyState}))(T()(Object(f.a)(a.V),Object(S.a)(document,"readystatechange")))))));return{promise:Object(o.a)(i()((function(t){var n=t.instance,r=t.owner,i=t.origin,o=G(e)[0],a=window.parent,c=Object(u.a)(),l=function(e){a.postMessage(e,i)},f=s()((function(e){return e.owner===r}))(z()),p=P(c,f,(function(e,t){return V(r,n,e,t)}),l,t.data),h=H(p,c.emit,l,o);return d()(h)(f),p}))(l))}}var J=n(8),X=n(14),Q=function(e,t){var n=document.createElement("iframe");return e.appendChild(n),n.src=t,n};function ee(e,t){var n,r=e.container,a=e.url,u=Object(J.a)(e,["container","url"]),c=Q(r,a),s=function(){Object(X.k)(c),n&&n.destroy()};return{destroy:s,frame:c,promise:Object(o.a)(b()(1)(i()((function(e){var t=n.api;return t.data=e,t.destroy=s,t.frame=c,t}))(B((function(){return(n=Z(Object(E.a)({},u,{frame:c}),t)).handshake$}))(Object(S.a)(c,"load")))))}}var te=n(65),ne=n.n(te);function re(e,t){var n,r=e.onConnected,a=Object(J.a)(e,["onConnected"]),u=!a.frame,c=function(e){if(e.frame)return e.frame;var t=e.container,n=e.url;return Q(t,n)}(a),s=N(),l=s[0],f=s[1],h=function(){u&&Object(X.k)(c),n?n.destroy():f()};return d()((function(e){e.destroy=h,e.frame=c,r(e)}))(Object(v.a)(l)(Object(p.a)()(B((function(){return ne()((function(e,r){var u=function(e,t){var n=Z(e,t),r=n.api,a=n.destroy,u=n.handshake$;return{destroy:a,promise:Object(o.a)(i()((function(e){return r.data=e,r.destroy=a,r}))(u))}}(Object(E.a)({},a,{frame:c}),t);return u.promise.then(e,r),n=u,u.destroy}))}))(Object(S.a)(c,"load"))))),{destroy:h,frame:c}}},,function(e,t,n){"use strict";n.d(t,"b",(function(){return be})),n.d(t,"d",(function(){return ye})),n.d(t,"a",(function(){return Oe}));var r=n(1),i=n(8),o=n(0),a=n(61),u=n(74),c=n(24),s=n(2),l=n(33),d=n(4),f=n(63),p=n(145),h=n(50),m=n(7),b=n(223),v=n(130),g=n(20),y=n(513),O=n(512),j=n(150),w=n(3),_=n(9),x=(n(102),n(16)),C=n(19),E=n(198),D=n(54),k=function(e){return Object(d.c)("display:flex;width:",e?"24px":"32px",";height:",e?"24px":"32px",";align-items:center;justify-content:center;")},I=Object(m.z)("div",{target:"e1dmt1bi1"})("position:relative;transition:transform 200ms ",(function(e){return e.theme.transitions.easings.spring})," 50ms;",(function(e){var t=e.compact;return k(t)})," ",(function(e){return{transform:"scale("+(e.isScaled?1.25:1)+")"}}),";"),S=Object(m.z)("div",{target:"e1dmt1bi0"})("position:absolute;z-index:1;left:0;right:0;bottom:1px;transition:opacity 150ms ",(function(e){return e.theme.transitions.easings.smooth})," 50ms;",(function(e){var t=e.compact;return k(t)})," ",(function(e){return{opacity:e.isVisible?1:0}}),";"),A=function(e){var t=e.on,n=e.compact,a=void 0!==n&&n,u=Object(i.a)(e,["on","compact"]),c=o.useState(t),s=c[0],l=c[1],d=Object(f.g)();return o.useEffect((function(){if(!t){var e=setTimeout((function(){return l(!1)}),200);return function(){return clearTimeout(e)}}l(!0)}),[t]),o.createElement(I,Object(r.a)({isScaled:t,compact:a},u),o.createElement(D.c,{filled:t,size:a?24:32,color:d.colors.minimizedIcon,backgroundColor:d.colors.minimizedBackground}),o.createElement(S,{isVisible:t,compact:a},s&&o.createElement(E.a,{width:a?"14px":"18px",animationDuration:1,animationIterationCount:1,color:d.colors.minimizedBackground})))},T=Object(m.z)("div",{target:"e3vrje60"})("width:5px;height:5px;border-radius:",(function(e){return e.theme.borderRadius.round}),";background-color:",(function(e){return e.theme.colors.surface.light}),";"),F=function(e,t){return Object(d.c)("z-index:1;position:absolute;border:3px solid white;right:",e||t?-7:-3,"px;top:",e||t?-7:-3,"px;")},z=function(e){var t=e.mobile,n=void 0!==t&&t,r=e.unseenEventsCount,i=void 0===r?0:r,o=e.bar;return Object(d.d)(D.A,{css:F(n,o),minScale:i>1?1:0,maxScale:i>1?1.75:1.3,"aria-label":"new message indicator",tabIndex:0,role:"img"},Object(d.d)(T,null))},B=n(201),M=n(42),L=Object(m.z)("div",{displayName:"MinimizedBar",section:!0,target:"e16i86ec1"})("position:relative;width:255px;height:50px;box-shadow:",(function(e){return e.theme.boxShadow.floating}),";background:",(function(e){return e.theme.colors.surface.light}),";border-radius:",(function(e){var t=e.theme;return[t.borderRadius.lg,t.borderRadius.lg,t.borderRadius.none,t.borderRadius.none].join(" ")}),";display:flex;padding:0 0.9em;align-items:center;&:hover{cursor:pointer;}"),P=Object(m.z)(B.a,{target:"e16i86ec0"})("flex-grow:1;font-weight:700;font-size:0.9em;margin-right:",(function(e){return e.theme.spaces.space2}),";"),R=function(e){var t=e.text,n=e.hasUnseenEvents,r=e.unseenEventsCount,i=e.onClick,a=Object(x.i)({}),u=a.isHovered,c=a.hoverProps,s=Object(x.f)();return o.createElement(L,Object(C.h)({onClick:i},c,s),n?o.createElement(z,{bar:!0,key:r,unseenEventsCount:r}):null,o.createElement(P,{ellipsis:!0},o.createElement(M.a,null,t)),o.createElement(D.j,{onPress:i,"aria-label":"Open LiveChat chat widget"},o.createElement(A,{compact:!0,on:u})))};var q=Object(m.z)("div",{displayName:"MinimizedBubble",section:!0,target:"e1ybl9g10"})("display:flex;width:",(function(e){return e.mobile?"40px":"60px"}),";height:",(function(e){return e.mobile?"40px":"60px"}),";box-shadow:",(function(e){return e.theme.boxShadow.floating}),";border-radius:",(function(e){return e.theme.borderRadius.round}),";background:",(function(e){return e.theme.colors.surface.lightVariant}),";justify-content:center;",(function(e){var t=e.mobile,n=e.screenPosition;return t?Object(d.c)("margin-bottom:24px;margin-","left"===n?"right":"left",":8px;"):Object(d.c)("margin-","left"===n?"right":"left",":auto;")})," &:hover{cursor:pointer;}"),N={name:"1btxy8w",styles:"padding:0;width:100%;display:flex;justify-content:center;align-items:center"},V=function(e){var t=e.mobile,n=e.avatar,i=e.hasUnseenEvents,o=e.unseenEventsCount,a=e.screenPosition,u=e.onClick,c=Object(x.i)({}),s=c.isHovered,l=c.hoverProps;return Object(d.d)(q,Object(r.a)({mobile:t,hasAvatar:Boolean(n),screenPosition:a},Object(C.h)({onClick:u},l)),i?Object(d.d)(z,{mobile:t,key:o,unseenEventsCount:o}):null,Object(d.d)(D.j,{onPress:u,css:N,"aria-label":"Open LiveChat chat widget"},n?Object(d.d)(m.b,{"aria-hidden":!0,imgUrl:n,size:t?"40px":"60px"}):Object(d.d)(A,{"aria-hidden":!0,compact:t,on:s})))},U=n(76);function H(e,t){var n=(void 0===t?{}:t).retriesCount,r=void 0===n?1/0:n,i=Object(U.a)({min:100,max:1e4});return new Promise((function(t,n){var o=0;!function a(){return e().then(t,(function(){r===1/0||o++<r?setTimeout(a,i.duration()):n(new Error("Maximum retries count ("+r+") reached"))}))}()}))}var G=o.lazy((function(){return H((function(){return n.e(9).then(n.bind(null,538))}))})),W=function(e){var t=e.minimizedType,n=e.position;return"bar"===t?"0.8em 0.8em 0 0.8em":"left"===n?"0.5em 1em 1em 0.5em":"0.5em 0.5em 1em 1em"},$=Object(m.z)("div",{displayName:"Minimized",section:!0,target:"eqd5v0k0"})("max-width:100%;position:absolute;bottom:0;z-index:2;display:flex;align-items:flex-end;will-change:width,height,transform,opacity;backface-visibility:hidden;",(function(e){var t;return(t={padding:W(e)})[e.position]=0,t.justifyContent="right"===e.position&&"flex-end",t}),";"),Z=Object(c.c)((function(e){var t,n=e.getApplicationState(),r=n.availability,i=n.eagerFetchingMode,o=n.hasUnseenEvents,a=n.mobile,u="online"===r,c=e.getChat(w.d).active,l=_.d(e),d=!l||_.O(e,l)?null:l.id,f=_.g("agentAvatar",e).enabled&&(u||c)?_.c(w.d,e):null,p=e.getLastEvent(w.d),h=p&&(null==(t=p.properties)?void 0:t.invitation)&&!p.seen;return{mobile:a,visibleGreetingId:d,avatar:Object(s.y)(!1,"avatar",f),minimizedType:_.l(e),screenPosition:_.q(e),minimizedText:_.k(w.d,e),hasUnseenEvents:i?e.getUnseenCount(w.d)>0:h||o,unseenEventsCount:i?e.getUnseenCount(w.d):h||o?1:0,newMessageAlert:e.localize("new_message")}}))((function(e){var t,r,i=e.dir,a=e.mobile,u=e.avatar,c=e.onMaximize,l=e.minimizedText,d=e.minimizedType,f=e.newMessageAlert,p=e.screenPosition,h=e.hasUnseenEvents,b=e.unseenEventsCount,g=e.visibleGreetingId,y=e.innerRef,O=void 0===y?s.V:y,j=e.onResize,w=void 0===j?s.V:j,_=null,x=null;if(g&&(_=o.createElement(o.Suspense,{fallback:null},o.createElement(G,{key:g,id:g,onPress:c,onResize:w}))),"circle"===d){var C=g&&a;x=o.createElement(V,{avatar:u,onClick:c,hasUnseenEvents:h,unseenEventsCount:b,mobile:C,screenPosition:p})}return"bar"===d&&(x=o.createElement(R,{text:l,hasUnseenEvents:h,unseenEventsCount:b,onClick:c})),o.createElement($,{dir:i,role:"main",ref:O,minimizedType:d,position:p,onMouseOver:function(){return Promise.all([n.e(4),n.e(2)]).then(n.bind(null,537)).catch(s.V)}},o.createElement(o.Fragment,null,h&&o.createElement(v.b,{key:b,message:f,"aria-live":"polite",clearOnUnmount:!0}),a&&"circle"===d?(t="left"===p,r=[o.createElement(m.f,{key:"greeting-column"},o.createElement(m.q,null,_)),o.createElement(m.f,{key:"bubble-column",noShrink:!0},o.createElement(m.q,null,x))],t?r.reverse():r):o.createElement(m.f,null,o.createElement(m.q,null,_),o.createElement(m.q,null,x))))})),Y=n(90),K=n(18),J=n(139);var X=o.lazy((function(){return H((function(){return Promise.all([n.e(4),n.e(2)]).then(n.bind(null,537))}))})),Q=Object(m.z)("div",{displayName:"ApplicationWrapper",target:"edvz03i1"})({name:"jcdn5o",styles:"position:absolute;top:0;left:auto;right:0;bottom:0;width:100%;height:100%;will-change:tranform,opacity;backface-visibility:hidden"}),ee=Object(m.z)("div",{displayName:"Maximized",target:"edvz03i0"})("position:relative;display:flex;flex-direction:column;min-width:0;height:100%;box-shadow:",(function(e){return e.theme.boxShadow.floating}),";overflow:hidden;background:",(function(e){return e.theme.colors.surface.light}),";",(function(e){var t=e.expandToEdge,n=e.theme;return{borderRadius:t?n.borderRadius.none+" !important":n.borderRadius.lg}}),";"),te={name:"dhssmq",styles:"flex-grow:1;display:flex;align-items:center;justify-content:center"},ne=function(){var e=Object(f.g)(),t=o.useState(!1),n=t[0],r=t[1];return Object(l.w)((function(){return r(!0)}),500),Object(d.d)("div",{css:te},n&&Object(d.d)(D.c,{size:64,css:m.y,color:e.colors.border,backgroundColor:e.colors.surface.lightVariant}))},re=o.forwardRef((function(e,t){var n=e.dir,r=e.showMinimizedButton,i=e.isMainViewVisible,a=e.expandToEdge,u=e.onMinimizeButtonPress;return Object(d.d)(Q,{dir:n,expandToEdge:a,ref:t},Object(d.d)(ee,{expandToEdge:a,role:"main"},i?Object(d.d)(o.Suspense,{fallback:Object(d.d)(ne,null)},Object(d.d)(X,{showMinimizedButton:r,onMinimizeButtonPress:u})):Object(d.d)(ne,null)))}));function ie(){var e=Object(g.a)(["\n\t&-enter {\n\t\ttransform: translate3d(","40%, 40%, 0) scale(0.1);\n\n\t\t[role='main'] > * {\n\t\t\topacity: 0;\n\t\t\ttransform: translate3d(0, 20%, 0);\n\t\t}\n\t}\n\n\t&-enter&-enter-active {\n\t\ttransform: translate3d(0%, 0%, 0) scale(1);\n\t\ttransition: transform ","ms ",";\n\n\t\t[role='main'] > * {\n\t\t\topacity: 1;\n\t\t\ttransform: translate3d(0, 0%, 0);\n\t\t\ttransition: opacity 160ms "," 270ms,\n\t\t\t\ttransform 160ms "," 270ms;\n\t\t}\n\t}\n\n\t&-exit {\n\t\ttransform: translate3d(0%, 0%, 0) scale(1);\n\t\topacity: 1;\n\t\t[role='main'] > * {\n\t\t\topacity: 1;\n\t\t\ttransform: translate3d(0, 0%, 0);\n\t\t}\n\t}\n\n\t&-exit&-exit-active {\n\t\topacity: 0;\n\t\ttransform: translate3d(","40%, 40%, 0) scale(0.1);\n\t\ttransition: transform ","ms ",", opacity 300ms ease;\n\t\t[role='main'] > * {\n\t\t\topacity: 0;\n\t\t\ttransform: translate3d(0, 10%, 0);\n\t\t\ttransition: opacity 160ms ",", transform 160ms ",";\n\t\t}\n\t}\n"]);return ie=function(){return e},e}function oe(){var e=Object(g.a)(["\n\t&-enter {\n\t\topacity: 0;\n\t\ttransform: translate3d(0, 100%, 0);\n\t}\n\n\t&-enter&-enter-active {\n\t\topacity: 1;\n\t\ttransform: translate3d(0, 0%, 0);\n\t\ttransition: opacity 140ms ease 200ms, transform 140ms ease 200ms;\n\t}\n\n\t&-exit {\n\t\topacity: 1;\n\t\ttransform: translate3d(0, 0%, 0);\n\t}\n\n\t&-exit&-exit-active {\n\t\topacity: 0;\n\t\ttransform: translate3d(0, 100%, 0);\n\t\ttransition: opacity 140ms ease, transform 140ms ease;\n\t}\n"]);return oe=function(){return e},e}var ae=function(e){return e(oe())},ue=function(e,t,n){return e(ie(),"right"===t?"":"-",Y.a,n.transitions.easings.sharp,n.transitions.easings.sharp,n.transitions.easings.sharp,"right"===t?"":"-",Y.a,n.transitions.easings.sharp,n.transitions.easings.sharp,n.transitions.easings.sharp)};var ce=Object(c.c)((function(e){var t=function(t){t?Object(K.t)(e):Object(K.v)(e)};return function(e){var n=e.getApplicationState(),r=n.mobile,i=n.embedded,o=n.actingAsDirectLink,a=n.isInCustomContainer,u=n.rtl;return{embedded:i,mobile:r,expandToEdge:r||!i||a,setMaximizedState:t,visibilityState:e.getApplicationState("visibility").state,showMinimized:!o&&_.Q(e),screenPosition:_.q(e),dir:u?"rtl":"ltr",showMinimizedButton:_.hb(e)}}}))((function(e){var t=e.embedded,n=e.expandToEdge,r=e.setMaximizedState,i=e.screenPosition,a=e.showMinimizedButton,u=e.showMinimized,c=e.onAnimationEnd,l=void 0===c?s.V:c,f=e.onMinimizeButtonPress,p=void 0===f?s.V:f,h=e.onMaximizeButtonPress,m=void 0===h?s.V:h,b=e.onMinimizedRef,v=void 0===b?s.V:b,g=e.onMinimizedResize,w=e.dir,_=e.visibilityState,x=o.useRef(),C=o.useRef(),E=o.useState("maximized"===_),D=E[0],k=E[1];return o.createElement(d.a,null,(function(e){var c=e.css,d=e.theme;return o.createElement(y.a,{appear:!0,component:null},"maximized"===_&&o.createElement(O.a,{classNames:ue(c,i,d),nodeRef:C,onExited:l,onEntered:function(){return k(!0)},onExit:function(){return k(!1)},timeout:Y.a},o.createElement(re,{dir:w,ref:C,isMainViewVisible:D,showMinimizedButton:a,expandToEdge:n,onMinimizeButtonPress:function(){t&&r(!1),p()}})),Object(s.D)(_,["minimized","hidden"])&&u&&o.createElement(O.a,{classNames:ae(c),nodeRef:x,onExited:l,timeout:Y.a},o.createElement(j.a,{autoFocus:Object(J.b)()},o.createElement(Z,{dir:w,onMaximize:function(){r(!0),m()},innerRef:function(e){x.current=e,v(e)},onResize:g}))))}))})),se=n(35),le=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).state={crashed:!1},t}Object(se.a)(t,e);var n=t.prototype;return n.componentDidCatch=function(e,t){this.setState({crashed:!0}),this.props.onError(e,t)},n.render=function(){return this.state.crashed?null:this.props.children},t}(o.Component);le.defaultProps={onError:s.V};var de=n(182),fe=n(109),pe=n(22),he=n(15),me=Object(r.a)({},he.a,{borderRadius:Object(r.a)({},he.a.borderRadius,{def:he.a.borderRadius.sm}),TitleBar:{css:{fontWeight:"700!important",fontSize:"1.1em",textAlign:"center!important",height:"42px",justifyContent:"flex-start"},TitleBarTitle:{css:{fontSize:Object(pe.d)(14)}},Avatar:{css:{border:"0"}}},IconButton:{css:{padding:"0 .5em"}},MessageList:{css:{backgroundColor:he.a.colors.surface.light}},Maximized:{css:{borderRadius:[he.a.borderRadius.sm,he.a.borderRadius.sm,he.a.borderRadius.none,he.a.borderRadius.none].join(" ")}},Footer:{css:{position:"relative",right:0,bottom:0,fontSize:"0.6em",backgroundColor:he.a.colors.surface.lightVariant,textAlign:"center",padding:"1em"},FooterLink:{css:{textDecoration:"none",fontWeight:"bold"}}},ApplicationWrapper:{css:{padding:{default:"1em 1em 0 1em",expandToEdge:"0"}}},AgentBar:{css:{padding:"0.6em"},Avatar:{size:"60px",css:{borderRadius:he.a.borderRadius.none}},SubTitle:{css:{fontSize:".8em"}},Title:{css:{fontSize:"1em",fontWeight:"bold"}},IconButton:{css:{fontSize:Object(pe.d)(24),backgroundColor:"transparent !important",color:{default:"inherit"},opacity:{default:"0.3",disabled:"0.15",active:"0.6"}}}},Button:{css:{boxShadow:"none"}},Message:{horizontalAlign:"left",own:{horizontalAlign:"left",Content:{css:{alignItems:"flex-start"}}},system:{MessageText:{css:{fontSize:".9em"}}},css:{flexDirection:"row"},Bubble:{sharpBorderRadius:"0px",ovalBorderRadius:"0px",css:{border:"0",padding:"0",background:"transparent",boxShadow:"none"}},ImagePreview:{css:{maxWidth:"150px",maxHeight:"250px",borderRadius:he.a.borderRadius.none}},Button:{css:{borderTop:"0!important"}}},MessageText:{css:{padding:"0",fontSize:"14px"}},MessageGroup:{css:{marginBottom:".5em"}},MinimizedBar:{css:{borderRadius:[he.a.borderRadius.sm,he.a.borderRadius.sm,he.a.borderRadius.none,he.a.borderRadius.none].join(" "),height:"40px"},Icon:{css:{transform:"scale(0.8)"}}},MinimizedBubble:{css:{position:"relative"}},View:{Bubble:{css:{border:"0",padding:"0",background:"transparent",boxShadow:"none"}},ViewContent:{css:{paddingTop:".5em"}},css:{paddingBottom:"0"}},TextInput:{css:{lineHeight:"1.1em"}},Form:{css:{fontSize:"0.9em"},IconButton:{css:{color:{default:he.a.colors.text.muted,active:he.a.colors.text.white}}}},Tooltip:{css:{padding:"0.5em 0.8em",fontSize:".7em"}},TooltipArrow:{css:{marginTop:"-1em"}},Invitation:{Bubble:{sharpBorderRadius:"6px",ovalBorderRadius:"6px",css:{padding:".5em"}}},InformationField:{css:{fontSize:"1.1em"}},SystemCard:{css:{maxWidth:"368px",width:"calc(100% - 0.6em)",margin:"0.3em",boxShadow:"none",border:"1px solid "+he.a.colors.divider}},TextComposer:{IconButton:{css:{opacity:{active:1,default:.4}}}},NewMessageHorizontalDivider:{css:{margin:"8px -0.5em"}},BoosterContainer:{css:{border:"1px solid "+he.a.colors.divider,maxWidth:"368px",width:"calc(100% - 0.6em)",margin:"0.3em",boxShadow:"none",borderRadius:he.a.borderRadius.md}},BoosterButton:{css:{boxShadow:"none"}}});function be(e){var t,n=e.children,r=e.name,i=Object(l.d)((function(){return(r||"widget-global")+"-"+Object(s.v)()})),a=Object(u.useFrame)().document;return t=function(){var e="https://fonts.googleapis.com/css?family=Noto+Sans:400,700&subset=latin-ext&display=swap",t=a.querySelector("head"),n=t.querySelectorAll("link");if(!Object(s.o)((function(t){return t.href===e}),n)){var r=a.createElement("link");r.setAttribute("href",e),r.setAttribute("rel","stylesheet"),t.appendChild(r)}},Object(l.d)(t),o.createElement(o.Fragment,null,o.createElement(d.b,{styles:Object(d.c)("#",i," *{font-family:'Noto Sans',sans-serif;box-sizing:border-box;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-tap-highlight-color:transparent;}body{margin:0;}")}),o.createElement("div",{id:i},n))}var ve=Object(c.c)((function(e){return{mobile:e.getApplicationState("mobile"),theme:e.getApplicationState("config").theme}}))((function(e){var t=e.mobile,n=e.theme,r=e.children,i=Object(s.T)("modern"===n.name?me:fe.a,n);return o.createElement(m.v,{theme:t?Object(s.T)(i,{typography:{input:{fontSize:"16px"},placeholder:{fontSize:"16px"}}}):i},r)})),ge=function(){var e=null,t=function(t,n){return e[n]||t};return function(n,r,i,o){if(!e){e={};try{return o(n,r,i,o),(a=n).value="",a.root=null,a.parent=null,a.type="",a.props=[],a.children=[],a.length=0,void(a.return="")}finally{e=null}}var a;if(n.type===h.a)if(45===n.props.charCodeAt(0)&&45===n.props.charCodeAt(1)){var u=n.props.trim(),c=n.children;e[u]=c,n.return="",n.value=""}else n.children.indexOf("var(")>-1&&(n.value=n.value.replace(/var\((.*)\)/g,t))}},ye=function(e,t){void 0===t&&(t="lc");var n=Object(p.a)({key:t,container:e,stylisPlugins:[ge(),h.l]});return n.compat=!0,n},Oe=function(e){var t=e.store,n=e.onError,r=e.amplitude,a=Object(i.a)(e,["store","onError","amplitude"]),s=Object(l.d)((function(){return(null==r?void 0:r.AmplitudeProvider)||function(e){return e.children}})),d=Object(u.useFrame)(),p=!t||t.getApplicationState("isPreview"),h=Object(l.d)((function(){return ye(d.document.head)})),m=o.createElement(de.a,{value:p},o.createElement(s,null,o.createElement(v.a,null,o.createElement(f.a,{value:h},o.createElement(ve,{isPreview:p},o.createElement(be,null,o.createElement(b.a,null,o.createElement(ce,a))))))));return t?o.createElement(le,{onError:n},o.createElement(c.b,{store:t},m)):o.createElement(le,{onError:n},m)};t.c=function(e,t){var n=Object(r.a)({},t);a.render(o.createElement(Oe,n),e)}},function(e,t,n){"use strict";n.d(t,"b",(function(){return h}));var r=n(1),i=n(0),o=n(227),a=n.n(o),u=n(2),c=n(13),s=Array.prototype.map,l=["A","UL","OL","LI","STRONG","EM","BR"],d=new o.Renderer;d.list=function(e,t,n){var r=n;return e.replace(f,(function(){return t?r+++". ":"- "}))},d.listitem=function(e){return""+f+e};var f="%list-item%",p=function(e){return e.replace(/\n+$/,"")};function h(e){var t=a()(e,{renderer:d}),n=(new DOMParser).parseFromString(t,"text/html").body;return n?p(n.textContent||""):""}t.a=function(e){var t,n,o=e.template,f=e.root,h=e.preserveLists,m=e.limit,b=null!=(t=null==f?void 0:f.props)?t:{},v=null!=(n=null==f?void 0:f.component)?n:i.Fragment,g=i.useMemo((function(){var e=new DOMParser,t=p(a()(o,h?{renderer:d}:{})),n=e.parseFromString(t,"text/html").body;return n?function(e,t){var n=0,o=!1;return function e(a){return s.call(a,(function(a,s){if("#text"===a.nodeName)return t?o?null:a.textContent&&a.textContent.length+n<t?(n+=a.textContent.length,a.textContent):(o=!0,Object(u.lb)(t-n,a.textContent)):a.textContent;if(!Object(u.D)(a.nodeName,l))return a.hasChildNodes()?e(a.childNodes):null;var d=Object(r.a)({key:s},a.hasChildNodes()&&{children:e(a.childNodes)});if("A"===a.nodeName){var f=a.getAttribute("href");if(!f||Object(c.k)(f))return e(a.childNodes);/\S+@\S+\.\S+/.test(f)||Object(c.g)(f)||(f="https://"+f);var p=Object(r.a)({},d,{href:f,target:"_blank",rel:"nofollow noopener"});return i.createElement("a",p)}return i.createElement(a.nodeName.toLowerCase(),d)}))}(e)}(n.childNodes,m):""}),[o,h,m]);return i.createElement(v,b,g)}},function(e,t,n){var r=n(123),i=n(213);e.exports=n(125)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return s}));var r=n(16),i=n(31),o=!1,a="function"===typeof document.hasFocus?function(){return document.hasFocus()}:function(){return!1},u=function(){return!(!a()&&!o)&&(o=!1,!0)},c=function(){return u()&&!Object(i.g)()},s=function(e,t){e.on("host_focus_shifted",(function(){o=!1})),t.on("set_host_modality",(function(e){o=!0,Object(r.d)(e)}))}},,function(e,t,n){"use strict";n.d(t,"b",(function(){return v})),n.d(t,"a",(function(){return p.d}));var r=n(1),i=n(8),o=n(4),a=n(0),u=n(121),c=n.n(u),s=n(115),l=n(24),d=n(2),f=n(16);var p=n(38),h=n(42);var m={name:"1y4r7fy",styles:"padding-top:0.5em"},b={name:"1p6jvwd",styles:"padding-bottom:0.5em"},v=function(e){var t=e.card,n=e.onButtonClick,u=void 0===n?d.V:n,v=e.onShowMoreButtonClick,g=e.horizontalLayout,y=void 0!==g&&g,O=e.TitleComponent,j=void 0===O?p.l:O,w=Object(i.a)(e,["card","onButtonClick","onShowMoreButtonClick","horizontalLayout","TitleComponent"]),_=Object(f.f)(),x=a.useRef(null),C=function(e){return e.buttons?Object(r.a)({},e,{buttons:e.buttons.map((function(e){switch(e.type){case"phone":e.type;var t=e.value,n=e.role,o=Object(i.a)(e,["type","value","role"]);return Object(r.a)({},o,{href:"tel:"+t,target:"_parent",variant:n});case"url":e.type;var a=e.value,u=e.role,c=Object(i.a)(e,["type","value","role"]);return"invitation"in e?Object(r.a)({},c,{variant:u}):Object(r.a)({},c,{href:a,target:"_blank",variant:u});default:if("value"in e){e.type,e.value;var s=e.role,l=Object(i.a)(e,["type","value","role"]);return Object(r.a)({},l,{variant:s})}e.type;var d=e.role,f=Object(i.a)(e,["type","role"]);return Object(r.a)({},f,{variant:d})}}))}):e}(t),E=C.title,D=C.subtitle,k=C.image,I=C.buttons,S=void 0===I?[]:I,A=E||D,T=!!v,F=T&&S.length>3,z=S.length>1,B=z?p.c:p.i,M=z?p.b:p.h;return Object(o.d)(p.d,Object(r.a)({ref:x,horizontalLayout:y},w),k&&Object(o.d)(p.f,Object(r.a)({},k,{horizontalLayout:y})),Object(o.d)(p.e,{narrow:k&&y},A&&Object(o.d)(c.a,{component:s.a},Object(o.d)(p.k,Object(r.a)({css:[!Object(d.F)(S)&&b,""]},_),E&&Object(o.d)(j,{textWrap:!0,preserveLines:!0},Object(o.d)(h.a,null,E)),D&&Object(o.d)(p.j,{textWrap:!0,preserveLines:!0},Object(o.d)(h.a,null,D)))),!Object(d.F)(S)&&Object(o.d)(B,{css:A&&m,compact:!!v},(F?S.slice(0,3):S).map((function(e,t){var n=e.text,a=Object(i.a)(e,["text"]),c=n.length>20?n.slice(0,20).trim()+"\u2026":n;return Object(o.d)(M,{key:t,compact:T},Object(o.d)(p.a,Object(r.a)({label:Object(o.d)(h.a,null,c),onPress:function(){u(t)}},a)))}))),F&&Object(o.d)(l.a,null,(function(e){return Object(o.d)(p.g,{label:e("show_more"),onPress:v})}))))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return f})),n.d(t,"b",(function(){return p})),n.d(t,"e",(function(){return h}));var r=n(1),i=n(8),o=n(13),a=n(99),u=function(e){var t=e.id,n=e.authorId,r=e.timestamp,i=e.serverId,o=void 0===i?t:i,a=e.threadId,u=void 0===a?null:a,c=e.seen;return{id:t,serverId:o,thread:u,author:n,timestamp:r,seen:void 0!==c&&c}},c=function(e){e.id,e.customId,e.authorId,e.timestamp,e.threadId,e.properties,e.seen,e.serverId,e.type,e.text,e.urlDetails;return Object(i.a)(e,["id","customId","authorId","timestamp","threadId","properties","seen","serverId","type","text","urlDetails"])},s=function(e){if(e.urlDetails){var t=e.urlDetails;return Object(r.a)({},u(e),{type:"url_preview",properties:{serverType:e.type,title:t.title,description:t.description,image:{url:t.imageUrl,link:t.url}}})}return Object(a.a)(e.text)?Object(r.a)({},u(e),{type:"emoji",properties:Object(r.a)({serverType:e.type,text:e.text},c(e))}):Object(r.a)({},u(e),{type:"message",properties:Object(r.a)({serverType:e.type,text:e.text},c(e))})},l=function(e){switch(e.type){case"url":return Object(o.k)(e.value)?null:e;case"webview":if(Object(o.k)(e.value))return null;var t=Object(o.e)(e.value);if(!t)return e;if(/chatbot\.com$/.test(t)){var n=Object(o.b)(Object(o.m)(Object(o.j)(e.value)));if(n.p)try{var i=JSON.parse(atob(n.p));if(i.url)return Object(r.a)({},e,{proxiedValue:i.url})}catch(a){return e}}return e;default:return e}},d=function(e){var t={};return"string"===typeof e.title&&(t.title=e.title),"string"===typeof e.subtitle&&(t.subtitle=e.subtitle),e.image&&(t.image=Object(r.a)({},e.image,{link:e.image.url})),e.buttons&&(t.buttons=e.buttons.map(l).filter(Boolean)),t},f=function(e){switch(e.template){case"quick_replies":var t=e.elements[0];return Object(r.a)({},u(e),{type:"message",properties:{serverType:e.type,text:t.title,quickReplies:t.buttons.map((function(e){return{type:e.type,text:e.text,value:e.value,postbackId:e.postbackId}}))}});case"sticker":var n=e.elements[0].image;return Object(r.a)({},u(e),{type:"sticker",properties:{serverType:e.type,url:n.url,name:n.name}});default:if(e.elements.length>1)return Object(r.a)({},u(e),{type:"carousel",properties:{serverType:e.type,cards:e.elements.map(d)}});var i=e.elements[0];if(1===Object.keys(i).length&&i.image){var o=i.image;return Object(r.a)({},u(e),{type:"image_preview",properties:Object(r.a)({name:o.name,serverType:e.type,url:o.url},o.alternativeText&&{alternativeText:o.alternativeText})})}return Object(r.a)({},u(e),{type:"rich_message",properties:{serverType:e.type,card:d(i)}})}},p=function(e){if(e.thumbnails){var t=e.thumbnails,n=Object(r.a)({},u(e),{type:"image_preview",properties:Object(r.a)({name:e.name,serverType:e.type},t.default,{link:e.url,srcSet:t.default.url+" 1x, "+t.high.url+" 2x"})});return e.alternativeText&&(n.properties.alternativeText=e.alternativeText),n}return Object(r.a)({},u(e),{type:"message",properties:Object(r.a)({serverType:e.type,text:e.name,url:e.url},e.alternativeText&&{alternativeText:e.alternativeText})})},h=function(e){var t=Object(r.a)({},u(e),{type:"system_message",properties:{serverType:e.type,systemMessageType:e.systemMessageType,defaultText:e.text}});return e.textVars&&(t.properties.textVariables=e.textVars),t}},,,,function(e,t,n){"use strict";var r=n(2);t.a=function(e){return new Promise((function(t){var n=performance.getEntriesByName(e);if(Object(r.F)(n))if("undefined"!==typeof PerformanceObserver){var i=setTimeout((function(){o.disconnect(),t(null)}),6e4),o=new PerformanceObserver((function(n){var a=Object(r.o)((function(t){return t.name===e}),n.getEntries());a&&(o.disconnect(),clearTimeout(i),t(a))}));o.observe({entryTypes:["paint"]})}else t(null);else t(n[0])}))}},function(e,t,n){"use strict";var r=n(1),i=n(24),o=n(2),a=n(13),u=n(3),c=n(107),s=n(69);function l(e,t){var n,i=t.schema,a=t.preSave,u=Object(o.P)((function(e){return e.defaultValue}),i),l=Object.keys(i),d=Object(o.g)((function(e){return Object(r.a)({},u,e)}),(function(e){return Object(o.P)((function(e){return e.value}),e)}),(function(e){var t=Date.now();return Object(o.Z)((function(e,n){return e.expires<t||void 0===i[n]}),e)}),JSON.parse,Object(o.j)("{}"),(function(){return s.a.getItem(e)})),f=Object(o.g)(JSON.stringify,(function(e){var t=Date.now()+18e5;return Object(o.P)((function(e){return{value:e,expires:t}}),e)}));return{persist:function(t){return t.subscribe((function(){var r,u=(r=t.getState(),l.reduce((function(e,t){return e[t]=Object(o.x)(i[t].path,r),e}),{})),p=Object(c.b)(u,n);Object(o.F)(p)||(s.a.setItem(e,f(a(Object(o.T)(d(),p)))),n=u)})),t},rehydrate:function(){return n=d(),e=n,l.reduce((function(t,n){return Object(o.jb)(i[n].path,e[n],t)}),{});var e}}}var d=n(52),f=function(e){var t,n=[],r=Object(d.a)();return e.startStateSync=function(i){t=e.getState(),i.emit("state",t);var o=function(){n.forEach((function(e){var t=e[0],n=e[1];i.emit(t,n)})),n.length=0},a=function(e,t){1===n.push([e,t])&&setTimeout(o,0)};e.subscribe((function(){var n=e.getState();n!==t&&(a("state_diff",Object(c.b)(n,t)),t=n)}));var u=/^request_/;e.on("*",(function(e,t){u.test(e)||a("store_event",[e,t])})),r.resolve(void 0)},e.syncing=function(){return r.promise},e},p=n(31),h=n(23),m={application:{rtl:!1,s:!1,region:null,actingAsDirectLink:!1,availability:null,isSendingFileEvents:!1,clientLimitExceeded:!1,clientLimitExceededLifted:!1,limitReached:!1,config:{features:{agentAvatar:{enabled:!0},boosters:{enabled:!1,items:[]},chatHistory:{enabled:!1},continuousChat:{enabled:!1},creditCardMasking:{enabled:!1},disableSounds:{enabled:!1},emailTranscript:{enabled:!0},facebookButton:{enabled:!1},fileSharing:{enabled:!0},googlePlusButton:{enabled:!1},hideOnInit:{enabled:!1},hideOnMobile:{enabled:!1},hideTrademark:{enabled:!1},linksPreview:{enabled:!0},logo:{enabled:!0,path:"https://cdn.livechatinc.com/cloud/?uri=http://livechat.s3.amazonaws.com/default/logo/c4bf6633aa89a76af7461279581d8bdb.png"},ticketForm:{enabled:!0,mode:"livechat"},preChatAfterGreeting:{enabled:!0},preChatForm:{enabled:!1},rating:{enabled:!0},twitterButton:{enabled:!1},mobileMinimized:{enabled:!0},minimized:{enabled:!0}},minimizedType:"bar",screenPosition:"right",screenOffset:{x:0,y:0},properties:{license:{},group:{}},theme:{}},destroyed:!1,eagerFetchingMode:!1,embedded:!0,requestedGroup:null,mobileWrapper:null,invitation:{current:null,hiddenIds:[],displayedIds:[]},isInCustomContainer:!1,hasUnseenEvents:!1,hidden:!1,maximized:!1,pageFocused:!1,applicationFocused:!1,mobile:Object(p.g)(),muted:!1,readyState:h.a.NOT_READY,ready:!1,loadedInitialHistory:!1,integrationName:null,language:null,clientVisitNumber:0,clientChatNumber:0,visibility:{state:"minimized"},greetingsMuted:!1,isPreview:!1}},b={boosters:!0,carousel:!0,emoji:!0,form:!0,image_preview:!0,message:!0,rich_message:!0,sticker:!0,system_message:!0,url_preview:!0,email_prompt:!0,message_draft:!0},v={boosters:!0,carousel:!0,form:!0},g=function(e){return Object(i.e)(e,{shouldAddToTimeline:function(e){return b[e.type]},shouldCreateNewGroup:function(e){return v[e.type]}})},y=function(e,t){var n=l((t||{}).persistKey,{schema:{clientLimitExceededLifted:{path:["application","clientLimitExceededLifted"],defaultValue:!1},eyeCatcherHidden:{path:["application","eyeCatcher","hidden"],defaultValue:!1},invitationHiddenIds:{path:["application","invitation","hiddenIds"],defaultValue:[]},invitationDisplayedIds:{path:["application","invitation","displayedIds"],defaultValue:[]},maximized:{path:["application","maximized"],defaultValue:!1},visibility:{path:["application","visibility"],defaultValue:{state:"minimized"}},muted:{path:["application","muted"],defaultValue:!1},limitReached:{path:["application","limitReached"],defaultValue:!1},greetingsMuted:{path:["application","greetingsMuted"],defaultValue:!1}},preSave:function(e){return Object(r.a)({},e,{visibility:{state:e.visibility&&"hidden"===e.visibility.state?"minimized":e.visibility.state}})}}),i=Object(o.T)(m,Object(o.T)(e,n.rehydrate()));return Object(o.g)(n.persist,f,g)(i)},O=function(e){return g(Object(o.T)(m,e,{application:{isPreview:!0}}))},j=[{id:"iframekb",template:"moment",title:"Knowledge Base",description:"Save time with Knowledge Base - easy to access know-how right in the LiveChat widget",icon:"https://www.knowledgebase.ai/apple-touch-icon.71342b95.png",action:{type:"button",label:"Search",url:"https://livechat.kb.help/"}}];t.a=function(e,t,n){var r=!!Object(a.h)("lc_boosters",window.location.search)?function(e){return Object(o.T)(e,{application:{config:{features:{boosters:{enabled:!0,items:j}}}}})}(e):e,i=(n?O:y)(r,t);return i.setCurrentView("Chat"),i.addView("Chat/information"),i.addView("loader"),i.addView("Chat/postchat"),i.addView("Chat/prechat"),i.addView("Chat/queue"),i.addView("Chat/timeline"),i.addView("minimized",{text:"Chat"}),i.addView("Chat/ticketForm"),i.addView("Moment",{show:!1,data:{}}),i.addChat({id:u.d,active:!1,properties:{agentIsTyping:!1,ended:!1,fakeAgentMessageId:null,hasMoreHistory:null,lastThread:null,loadingHistory:!1,queued:!1,rate:null,rateComment:null,starting:!1,startChatAgainPending:!1,eventsSeenUpToMap:{}}}),i}},,,,function(e,t,n){var r=n(250),i=n(246);e.exports=function(e){return r(i(e))}},function(e,t,n){var r=n(91);e.exports=function(e,t){if(!r(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"b",(function(){return f}));var r=n(8),i=n(1),o=n(0),a=n(63),u=n(7),c=n(4),s=n(16),l=n(181),d=n(21);var f=function(e){return Object(c.c)("color:",e.colors.grayscale[500],";background-color:",e.colors.grayscale[100],";")},p=function(e,t,n){return e?t.grayscale[100]:n},h=Object(u.z)("button",{displayType:"Button",target:"esv0owm2"})("font-size:inherit;font-weight:bold;border:0;font-family:inherit;width:100%;max-width:320px;flex-shrink:0;cursor:pointer;display:flex;justify-content:center;align-items:center;outline-offset:2px;",(function(e){var t=e.capitalize,n=e.textColor,r=e.backgroundColor,o=e.disabled,a=e.dark,u=e.theme,c=u.spaceBase,s=u.typography,l=u.borderRadius,f=u.colors;return Object(i.a)({borderRadius:l.def},s.basicContrast,{padding:1.5*c+"px",color:n,backgroundColor:""+(a?Object(d.a)(.2,r):p(o,f,r))},o?{"&:hover":{cursor:"default"}}:{},t?{textTransform:"capitalize"}:{})})," ",(function(e){var t=e.disabled,n=e.theme;return t&&f(n)}),";"),m=Object(u.z)("div",{target:"esv0owm1"})({name:"6dn33z",styles:"display:flex;margin-left:0.5em"}),b=Object(u.z)("div",{target:"esv0owm0"})("");t.a=function(e){var t=e.children,n=e.destructive,u=e.disabled,c=void 0!==u&&u,d=e.pending,f=void 0!==d&&d,p=Object(r.a)(e,["children","destructive","disabled","pending"]),v=Object(a.g)(),g=n?v.colors.error:v.colors.cta,y=n?v.colors.text.white:v.colors.ctaText,O=Object(s.f)();return o.createElement(h,Object(i.a)({},O,p,{disabled:c,dark:f,textColor:y,backgroundColor:g}),o.createElement(b,{ellipsis:!0},t),f&&o.createElement(m,{"aria-hidden":!0},o.createElement(l.a,{size:"small",adjustToColor:g})))}},function(e,t,n){"use strict";var r=n(1),i=n(8),o=n(20),a=n(4),u=n(63),c=n(0),s=n(7),l=n(16),d=n(17),f=n(21);function p(){var e=Object(o.a)(["\n  0% {\n    transform: rotate(-90deg);\n  }\n  100% {\n    transform: rotate(270deg);\n  }\n"]);return p=function(){return e},e}function h(){var e=Object(o.a)(["\n  0% {\n    stroke-dasharray: "," ",";\n  }\n  50% {\n    stroke-dasharray: "," ",";\n  }\n  100% {\n    stroke-dasharray: "," ",";\n  }\n"]);return h=function(){return e},e}var m=Object(a.e)(p()),b=Object(s.z)("circle",{target:"e5pj4iq2"})("animation-duration:1s;transform-origin:center;animation-name:",(function(e){return t=e.animationFactor,Object(a.e)(h(),22*t,1e3*t,88*t,1e3*t,22*t,1e3*t);var t}),",",m,";animation-iteration-count:infinite;animation-timing-function:linear;"),v=Object(s.z)("circle",{target:"e5pj4iq1"})("stroke-dasharray:130;transform-origin:center;transform:rotate(-90deg);transition:stroke-dashoffset 100ms ",(function(e){return e.theme.transitions.easings.linear}),";"),g={r:"28",cx:"32",cy:"32",fill:"none",strokeLinecap:"round"},y={small:{sideLength:16,strokeWidth:2},medium:{sideLength:24,strokeWidth:3},large:{sideLength:32,strokeWidth:4},xlarge:{sideLength:56,strokeWidth:4}},O=Object(s.z)("svg",{target:"e5pj4iq0"})("");t.a=function(e){var t=e.size,n=e.adjustToColor,o=e.ariaLabel,a=e.progress,s=Object(i.a)(e,["size","adjustToColor","ariaLabel","progress"]),p=Object(u.g)(),h=n||p.colors.surface.light,m=Object(d.h)(p.colors.cta)?Object(f.f)(.6,p.colors.cta):p.colors.cta,j=Object(d.h)(h)?"rgba(0, 0, 0, 0.1)":"rgba(255, 255, 255, 0.1)",w=Object(d.h)(h)?m:p.colors.text.white,_=y[t],x=_.sideLength,C=_.strokeWidth,E=o?{"aria-labelledby":"loader-label"}:{},D=Object(l.f)();return c.createElement(O,Object(r.a)({height:x+"px",width:x+"px",viewBox:"0 0 64 64",role:"img"},E,s,D),o&&c.createElement("title",{id:"loader-label"},o),c.createElement("circle",Object(r.a)({},g,{strokeWidth:C,stroke:j,vectorEffect:"non-scaling-stroke"})),void 0===a?c.createElement(b,Object(r.a)({},g,{strokeWidth:C,stroke:w,vectorEffect:"non-scaling-stroke",animationFactor:x/56})):c.createElement(v,Object(r.a)({},g,{strokeWidth:C,stroke:w,vectorEffect:"non-scaling-stroke",style:{strokeDashoffset:130-65*a}})))}},function(e,t,n){"use strict";n.d(t,"b",(function(){return o}));var r=n(0),i=r.createContext(!1),o=function(){return r.useContext(i)};t.a=i.Provider},function(e,t,n){"use strict";var r=n(1),i=n(8),o=n(4),a=n(7),u=n(121),c=n.n(u),s=n(42);var l=function(e){return e.stopPropagation()},d={name:"opde7s",styles:"color:inherit"},f=function(e){var t=e.children,n=Object(i.a)(e,["children"]);return Object(o.d)("a",Object(r.a)({},n,{onClick:l,css:d,rel:"nofollow noopener",target:"_blank"}),t)};t.a=function(e){var t=e.text,n=e.url,r=e.eventId;return Object(o.d)(a.m,r&&{id:r},n?Object(o.d)(f,{href:n},Object(o.d)(s.a,null,t)):Object(o.d)(c.a,{component:f},Object(o.d)(s.a,null,t)))}},function(e,t,n){"use strict";var r=n(283),i={};i[n(79)("toStringTag")]="z",i+""!="[object z]"&&n(122)(Object.prototype,"toString",(function(){return"[object "+r(this)+"]"}),!0)},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t,n){var r=n(347);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports={}},function(e,t,n){var r=n(287),i=n(253);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t,n){var r=n(185)("meta"),i=n(91),o=n(126),a=n(123).f,u=0,c=Object.isExtensible||function(){return!0},s=!n(138)((function(){return c(Object.preventExtensions({}))})),l=function(e){a(e,r,{value:{i:"O"+ ++u,w:{}}})},d=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,r)){if(!c(e))return"F";if(!t)return"E";l(e)}return e[r].i},getWeak:function(e,t){if(!o(e,r)){if(!c(e))return!0;if(!t)return!1;l(e)}return e[r].w},onFreeze:function(e){return s&&d.NEED&&c(e)&&!o(e,r)&&l(e),e}}},function(e,t,n){"use strict";var r=n(0),i=n(7);var o=Object(i.z)("div",{target:"erkouar1"})({name:"olzfrd",styles:"max-width:300px;max-height:300px"}),a=Object(i.z)("img",{target:"erkouar0"})({name:"14j4j9s",styles:"display:block;width:auto;height:auto;max-width:100%;max-height:100%"});t.a=function(e){var t=e.url,n=e.name;return r.createElement(o,null,r.createElement(a,{alt:n,src:t}))}},function(e,t,n){"use strict";var r=n(7),i=Object(r.z)("div",{target:"e7yhn050"})("background-color:",(function(e){return e.theme.colors.surface.light}),";border-radius:",(function(e){return e.theme.borderRadius.md}),";");t.a=i},,,,,,,function(e,t,n){"use strict";n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return h}));var r=n(63),i=n(4),o=n(7),a=n(1),u=n(8),c=n(0),s=n(20);function l(){var e=Object(s.a)(["\n        ","\n    "]);return l=function(){return e},e}var d=["0px, 0px","0px, -8px","0px, -10px","0px, -6px","0px, -2px","0px, 3px","0px, 2px","0px, -1px"],f=[["0%, 66.67%, 100%","6.67%","13.33%, 20%","26.67%","33.33%","40%","46.67%","53.33%"],["0%, 6.67%, 73.33%, 100%","13.33%","20%, 26.67%","33.33%","40%","46.67%","53.33%","60%"],["0%, 13.33%, 80%, 100%","20%","26.67%, 33.33%","40%","46.67%","53.33%","60%","66.67%"]].map((function(e){return Object(i.e)(l(),e.map((function(e,t){return e+" { transform: translate("+d[t]+"); }"})))})),p=Object(o.z)("circle",{target:"epoxe490"})("transform-box:fill-box;transform-origin:50% 50%;animation-timing-function:",(function(e){return e.theme.transitions.easings.linear}),";animation-name:",(function(e){return e.animationName}),";animation-duration:",(function(e){return(e.animationDuration||1.5)+"s"}),";animation-iteration-count:",(function(e){return e.animationIterationCount||"infinite"}),";"),h=function(e){var t=e.height,n=e.width,i=e.animationDuration,o=e.animationIterationCount,s=e.color,l=Object(u.a)(e,["height","width","animationDuration","animationIterationCount","color"]),d=Object(r.g)();return c.createElement("svg",Object(a.a)({viewBox:"0 0 60 40",height:t,width:n,fill:s||d.colors.text.black},l),f.map((function(e,t){return c.createElement(p,{r:"6",cy:"20",key:t,cx:9+21*t,animationName:e,animationDuration:i,animationIterationCount:o})})))};n(102);var m={name:"xr9539",styles:"overflow:hidden;margin-bottom:0"},b=function(e){var t=e.avatar,n=Object(r.g)();return Object(i.d)(o.j,{avatar:t,css:m},Object(i.d)(o.i,null,Object(i.d)(o.c,null,Object(i.d)(o.m,null,Object(i.d)(h,{height:"16px",width:"24px",color:n.colors.agentMessageText})))))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(8),i=n(1),o=n(0),a=n(7),u=Object(a.z)(a.h,{target:"e1f2pv4c1"})("width:100%;height:100%;display:block;object-fit:",(function(e){return e.scaleImage?"cover":"fill"}),";"),c=Object(a.z)("div",{displayName:"ImagePreview",target:"e1f2pv4c0"})("display:flex;margin:0 auto;align-items:center;justify-content:center;overflow:hidden;background:",(function(e){return e.theme.colors.divider}),";color:",(function(e){return e.theme.colors.text.black}),";",(function(e){var t=e.dimensions;return Object(i.a)({},t)}),";"),s=function(e){return e.stopPropagation()},l=function(e){var t=e.children,n=Object(r.a)(e,["children"]);return o.createElement("a",Object(i.a)({},n,{onClick:s,rel:"noopener noreferrer nofollow",target:"_blank"}),t)},d=function(e){var t=e.link,n=e.url,a=e.width,s=e.height,d=e.maxWidth,f=e.maxHeight,p=e.srcSet,h=e.alternativeText,m=void 0===h?"":h,b=e.name,v=void 0===b?"":b,g=Object(r.a)(e,["link","url","width","height","maxWidth","maxHeight","srcSet","alternativeText","name"]),y=!!a||!!s,O=function(e){var t=void 0===e?{}:e,n=t.width,r=void 0===n?230:n,i=t.height,o=void 0===i?150:i,a=t.maxWidth,u=void 0===a?200:a,c=t.maxHeight,s=void 0===c?300:c,l=r/o;return r>u&&(o=(r=u)/l),o>s&&(r=(o=s)*l),{width:r,height:o}}({width:a,height:s,maxWidth:d,maxHeight:f});return o.createElement(l,{href:t||n},o.createElement(c,{dimensions:O},o.createElement(u,Object(i.a)({},g,{alt:m||v,src:n,srcSet:p,scaleImage:!y}))))}},function(e,t,n){"use strict";var r=n(4),i=n(63),o=n(0),a=n(7),u=n(183),c=n(33),s=n(1),l=n(16);var d=Object(a.z)("div",{target:"e1faam642"})({name:"fhxb3m",styles:"display:flex;flex-direction:row;align-items:center"}),f=Object(a.z)("span",{target:"e1faam641"})((function(e){return e.theme.typography.caption}),";color:",(function(e){return e.theme.colors.text.muted}),";"),p=Object(a.z)("button",{target:"e1faam640"})("background:none;border:none;cursor:pointer;appearance:none;",(function(e){return e.theme.typography.caption}),";color:",(function(e){return e.theme.colors.cta}),";"),h=function(e){var t=e.visible,n=e.onToggle,r=Object(l.f)();return o.createElement(d,null,t&&o.createElement(f,null,"Text translated"),o.createElement(p,Object(s.a)({},r,{onClick:function(e){e.stopPropagation(),n()}}),t?"Show original":"Show translation"))};var m=function(e){return"smooth"===e.name?Object(r.c)("color:",e.colors.text.black,";background-color:",e.colors.grayscale[100],";"):Object(r.c)("color:",e.colors.text.muted,";")},b={name:"1jwcxx3",styles:"font-style:italic"};t.a=function(e){var t=e.text,n=e.url,s=e.translation,l=e.radiusType,d=void 0===l?"single":l,f=e.draft,p=void 0!==f&&f,v=e.own,g=void 0!==v&&v,y=e.eventId,O=void 0===y?"":y,j=Object(i.g)(),w=Object(c.x)(!g),_=w[0],x=w[1];return Object(r.d)(o.Fragment,null,Object(r.d)(a.c,{radiusType:d,css:[p&&m(j),!!s&&_&&b,""]},Object(r.d)(u.a,{text:s&&_?s.targetMessage:t,url:n,eventId:O})),s&&Object(r.d)(h,{visible:_,onToggle:x}))}},function(e,t,n){"use strict";var r=n(7);var i=Object(r.z)("p",{target:"ejp8d810"})({name:"oelr46",styles:"margin:1em 0"});t.a=i},,,,,function(e,t,n){"use strict";var r=n(2),i=n(146),o=function(){var e="lc_get_time_"+Object(r.v)();window.performance&&"function"===typeof window.performance.mark&&window.performance.mark(e);var t=performance.getEntriesByName(e)[0].startTime;return performance.clearMarks(e),t},a=function(){if("undefined"===typeof PerformanceObserver)return null;var e=o(),t=[],n=new PerformanceObserver((function(e){t.push.apply(t,e.getEntries())}));n.observe({entryTypes:["longtask"]});var i=function(){var n,i=Object(r.M)(t);return i?(n=i,o()-n.startTime+n.duration):o()-e};return{disconnect:function(){return n.disconnect()},getLongTasks:function(){return[].concat(t)},waitForIdle:function(e){return new Promise((function(r){!function o(){t.push.apply(t,n.takeRecords());var a=i();a>=e?r():setTimeout(o,Math.ceil(e-a))}()}))}}};t.a=function(e){void 0===e&&(e="first-contentful-paint");var t=a();return t?Object(i.a)(e).then((function(e){return e?t.waitForIdle(5e3).then((function(){return t.disconnect(),t.getLongTasks()})):null})):Promise.resolve(null)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return y}));var r=n(6),i=n(2),o=n(118),a=function(e){return new Promise((function(t,n){var r=new Audio(e);r.onloadeddata=function(){t(r)},r.onerror=n}))},u=function(e){var t=e.play();return Object(i.I)(t)?t:Promise.resolve()},c=function(e){return"function"===typeof e.start&&"function"===typeof e.stop},s=function(e){c(e)?e.start(0):e.noteOn(0)},l=function(){var e=new(window.AudioContext||window.webkitAudioContext),t=!0,n=[],r=function(t){return new Promise((function(n,r){e.decodeAudioData(t,n,r)}))},i=function(t){return{play:function(){var n=e.createBufferSource();return n.connect(e.destination),n.buffer=t,{playback:new Promise((function(t,r){if(n.onended=function(){return t()},s(n),"running"!==e.state){var i=new Error("Playback failed, AudioContext is in incorrect state '"+e.state+"'");i.name="PlaybackError",r(i)}})),stop:function(){!function(e){c(e)?e.stop(0):e.noteOff(0)}(n)}}}}};return{preload:function(e){return function(e){return new Promise((function(t,n){var r=new XMLHttpRequest;r.onload=function(){t(r.response)},r.onerror=n,r.open("GET",e),r.responseType="arraybuffer",r.send()}))}(e).then(r).then(i)},playSound:function(e){var r=e.play();return t&&n.push(r),r.playback},unlock:function(){return new Promise((function(r){document.addEventListener("click",(function i(){document.removeEventListener("click",i,!0),t&&(n.forEach((function(e){e.stop()})),n=[],t=!1),e.resume(),function(){var t=e.createBuffer(1,1,22050),n=e.createBufferSource();n.buffer=t,n.connect(e.destination),s(n)}(),r()}),!0)}))}}},d=function(){return Object(o.b)()?function(){var e=l(),t=Object(i.R)((function(t){var n=e.preload(t);return n.catch(i.V),n}));return{play:function(n){var r=t(n).then(e.playSound);return r.catch(i.V),r},preload:t,unlock:function(){return e.unlock()}}}():function(){var e=Object(i.R)(a);return{play:function(t){return e(t).then(u)},preload:e,unlock:function(){return Promise.resolve()}}}()},f=function(e){var t=d(),n=function(e){return Object.keys(e).reduce((function(t,n){var r=Object(i.o)((function(e){return Object(o.a)(e)}),Object(i.l)(e[n]));return t[n]=r,t}),{})}(e);return{play:function(e){var r=n[e];t.play(r).then(i.V,i.V)},preload:function(e){var r=n[e];t.preload(r).then(i.V,i.V)},unlock:function(){return t.unlock()}}},p=n.p+"static/media/new_message.f3efb3d2.mp3",h=n.p+"static/media/new_message.34190d36.ogg",m="new_message",b=function(){var e,t=f(((e={}).new_message=[h,p],e));return t.unlock().then((function(){return Object(i.N)(2e3,(function(e){t.play(e)}))}))},v=function(e,t){return"system"!==e.author&&!e.properties.welcomeMessage&&e.author!==t&&"custom"!==e.type},g=function(e){var t=!1;e.on("iframe_sound_unlocked",(function(){return t=!0})),b().then((function(n){t||(e.emit("bridge_sound_unlocked"),e.on("add_event",(function(t){var i=t.event;if(!Object(r.getApplicationState)(e.state,"muted")){var o=Object(r.getSessionUserId)(e.state);v(i,o)&&n(m)}})))}))},y=function(e){var t=!1;e.on("bridge_sound_unlocked",(function(){return t=!0})),b().then((function(n){t||(e.emit("iframe_sound_unlocked"),e.on("add_event",(function(t){var r=t.event;if(!e.getApplicationState().muted){var i=e.getSessionUserId();v(r,i)&&n(m)}})))}))}},,,,,function(e,t){e.exports=!1},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(123).f,i=n(126),o=n(79)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},function(e,t,n){"use strict";var r=n(104),i=n(248),o=n(122),a=n(256),u=n(189),c=n(258),s=n(257),l=n(91),d=n(138),f=n(360),p=n(214),h=n(361);e.exports=function(e,t,n,m,b,v){var g=r[e],y=g,O=b?"set":"add",j=y&&y.prototype,w={},_=function(e){var t=j[e];o(j,e,"delete"==e||"has"==e?function(e){return!(v&&!l(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return v&&!l(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,n){return t.call(this,0===e?0:e,n),this})};if("function"==typeof y&&(v||j.forEach&&!d((function(){(new y).entries().next()})))){var x=new y,C=x[O](v?{}:-0,1)!=x,E=d((function(){x.has(1)})),D=f((function(e){new y(e)})),k=!v&&d((function(){for(var e=new y,t=5;t--;)e[O](t,t);return!e.has(-0)}));D||((y=t((function(t,n){s(t,y,e);var r=h(new g,t,y);return void 0!=n&&c(n,b,r[O],r),r}))).prototype=j,j.constructor=y),(E||k)&&(_("delete"),_("has"),b&&_("get")),(k||C)&&_(O),v&&j.clear&&delete j.clear}else y=m.getConstructor(t,e,b,O),a(y.prototype,n),u.NEED=!0;return p(y,e),w[e]=y,i(i.G+i.W+i.F*(y!=g),w),v||m.setStrong(y,e,b),y}},function(e,t){t.f={}.propertyIsEnumerable},,,,,,,,,,function(e,t,n){"use strict";t.a=null},function(e,t,n){e.exports=function(){"use strict";function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function t(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}function n(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=n(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o={exports:{}};function a(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}function u(e){o.exports.defaults=e}o.exports={defaults:a(),getDefaults:a,changeDefaults:u};var c=/[&<>"']/,s=/[&<>"']/g,l=/[<>"']|&(?!#?\w+;)/,d=/[<>"']|&(?!#?\w+;)/g,f={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},p=function(e){return f[e]};function h(e,t){if(t){if(c.test(e))return e.replace(s,p)}else if(l.test(e))return e.replace(d,p);return e}var m=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function b(e){return e.replace(m,(function(e,t){return"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""}))}var v=/(^|[^\[])\^/g;function g(e,t){e=e.source||e,t=t||"";var n={replace:function(t,r){return r=(r=r.source||r).replace(v,"$1"),e=e.replace(t,r),n},getRegex:function(){return new RegExp(e,t)}};return n}var y=/[^\w:]/g,O=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function j(e,t,n){if(e){var r;try{r=decodeURIComponent(b(n)).replace(y,"").toLowerCase()}catch(i){return null}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:")||0===r.indexOf("data:"))return null}t&&!O.test(n)&&(n=E(t,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch(i){return null}return n}var w={},_=/^[^:]+:\/*[^/]*$/,x=/^([^:]+:)[\s\S]*$/,C=/^([^:]+:\/*[^/]*)[\s\S]*$/;function E(e,t){w[" "+e]||(_.test(e)?w[" "+e]=e+"/":w[" "+e]=I(e,"/",!0));var n=-1===(e=w[" "+e]).indexOf(":");return"//"===t.substring(0,2)?n?t:e.replace(x,"$1")+t:"/"===t.charAt(0)?n?t:e.replace(C,"$1")+t:e+t}function D(e){for(var t,n,r=1;r<arguments.length;r++)for(n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function k(e,t){var n=e.replace(/\|/g,(function(e,t,n){for(var r=!1,i=t;--i>=0&&"\\"===n[i];)r=!r;return r?"|":" |"})).split(/ \|/),r=0;if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(/\\\|/g,"|");return n}function I(e,t,n){var r=e.length;if(0===r)return"";for(var i=0;i<r;){var o=e.charAt(r-i-1);if(o!==t||n){if(o===t||!n)break;i++}else i++}return e.substr(0,r-i)}function S(e,t){if(-1===e.indexOf(t[1]))return-1;for(var n=e.length,r=0,i=0;i<n;i++)if("\\"===e[i])i++;else if(e[i]===t[0])r++;else if(e[i]===t[1]&&--r<0)return i;return-1}function A(e){e&&e.sanitize&&!e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function T(e,t){if(t<1)return"";for(var n="";t>1;)1&t&&(n+=e),t>>=1,e+=e;return n+e}var F={escape:h,unescape:b,edit:g,cleanUrl:j,resolveUrl:E,noopTest:{exec:function(){}},merge:D,splitCells:k,rtrim:I,findClosingBracket:S,checkSanitizeDeprecation:A,repeatString:T},z=o.exports.defaults,B=F.rtrim,M=F.splitCells,L=F.escape,P=F.findClosingBracket;function R(e,t,n){var r=t.href,i=t.title?L(t.title):null,o=e[1].replace(/\\([\[\]])/g,"$1");return"!"!==e[0].charAt(0)?{type:"link",raw:n,href:r,title:i,text:o}:{type:"image",raw:n,href:r,title:i,text:L(o)}}function q(e,t){var n=e.match(/^(\s+)(?:```)/);if(null===n)return t;var r=n[1];return t.split("\n").map((function(e){var t=e.match(/^\s+/);return null===t?e:t[0].length>=r.length?e.slice(r.length):e})).join("\n")}var N=function(){function e(e){this.options=e||z}var t=e.prototype;return t.space=function(e){var t=this.rules.block.newline.exec(e);if(t)return t[0].length>1?{type:"space",raw:t[0]}:{raw:"\n"}},t.code=function(e){var t=this.rules.block.code.exec(e);if(t){var n=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?n:B(n,"\n")}}},t.fences=function(e){var t=this.rules.block.fences.exec(e);if(t){var n=t[0],r=q(n,t[3]||"");return{type:"code",raw:n,lang:t[2]?t[2].trim():t[2],text:r}}},t.heading=function(e){var t=this.rules.block.heading.exec(e);if(t){var n=t[2].trim();if(/#$/.test(n)){var r=B(n,"#");this.options.pedantic?n=r.trim():r&&!/ $/.test(r)||(n=r.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:n}}},t.nptable=function(e){var t=this.rules.block.nptable.exec(e);if(t){var n={type:"table",header:M(t[1].replace(/^ *| *\| *$/g,"")),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:t[3]?t[3].replace(/\n$/,"").split("\n"):[],raw:t[0]};if(n.header.length===n.align.length){var r,i=n.align.length;for(r=0;r<i;r++)/^ *-+: *$/.test(n.align[r])?n.align[r]="right":/^ *:-+: *$/.test(n.align[r])?n.align[r]="center":/^ *:-+ *$/.test(n.align[r])?n.align[r]="left":n.align[r]=null;for(i=n.cells.length,r=0;r<i;r++)n.cells[r]=M(n.cells[r],n.header.length);return n}}},t.hr=function(e){var t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}},t.blockquote=function(e){var t=this.rules.block.blockquote.exec(e);if(t){var n=t[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:t[0],text:n}}},t.list=function(e){var t=this.rules.block.list.exec(e);if(t){var n,r,i,o,a,u,c,s,l,d=t[0],f=t[2],p=f.length>1,h={type:"list",raw:d,ordered:p,start:p?+f.slice(0,-1):"",loose:!1,items:[]},m=t[0].match(this.rules.block.item),b=!1,v=m.length;i=this.rules.block.listItemStart.exec(m[0]);for(var g=0;g<v;g++){if(d=n=m[g],this.options.pedantic||(l=n.match(new RegExp("\\n\\s*\\n {0,"+(i[0].length-1)+"}\\S")))&&(a=n.length-l.index+m.slice(g+1).join("\n").length,h.raw=h.raw.substring(0,h.raw.length-a),d=n=n.substring(0,l.index),v=g+1),g!==v-1){if(o=this.rules.block.listItemStart.exec(m[g+1]),this.options.pedantic?o[1].length>i[1].length:o[1].length>=i[0].length||o[1].length>3){m.splice(g,2,m[g]+(!this.options.pedantic&&o[1].length<i[0].length&&!m[g].match(/\n$/)?"":"\n")+m[g+1]),g--,v--;continue}(!this.options.pedantic||this.options.smartLists?o[2][o[2].length-1]!==f[f.length-1]:p===(1===o[2].length))&&(a=m.slice(g+1).join("\n").length,h.raw=h.raw.substring(0,h.raw.length-a),g=v-1),i=o}r=n.length,~(n=n.replace(/^ *([*+-]|\d+[.)]) ?/,"")).indexOf("\n ")&&(r-=n.length,n=this.options.pedantic?n.replace(/^ {1,4}/gm,""):n.replace(new RegExp("^ {1,"+r+"}","gm"),"")),n=B(n,"\n"),g!==v-1&&(d+="\n"),u=b||/\n\n(?!\s*$)/.test(d),g!==v-1&&(b="\n\n"===d.slice(-2),u||(u=b)),u&&(h.loose=!0),this.options.gfm&&(s=void 0,(c=/^\[[ xX]\] /.test(n))&&(s=" "!==n[1],n=n.replace(/^\[[ xX]\] +/,""))),h.items.push({type:"list_item",raw:d,task:c,checked:s,loose:u,text:n})}return h}},t.html=function(e){var t=this.rules.block.html.exec(e);if(t)return{type:this.options.sanitize?"paragraph":"html",raw:t[0],pre:!this.options.sanitizer&&("pre"===t[1]||"script"===t[1]||"style"===t[1]),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):L(t[0]):t[0]}},t.def=function(e){var t=this.rules.block.def.exec(e);if(t)return t[3]&&(t[3]=t[3].substring(1,t[3].length-1)),{type:"def",tag:t[1].toLowerCase().replace(/\s+/g," "),raw:t[0],href:t[2],title:t[3]}},t.table=function(e){var t=this.rules.block.table.exec(e);if(t){var n={type:"table",header:M(t[1].replace(/^ *| *\| *$/g,"")),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:t[3]?t[3].replace(/\n$/,"").split("\n"):[]};if(n.header.length===n.align.length){n.raw=t[0];var r,i=n.align.length;for(r=0;r<i;r++)/^ *-+: *$/.test(n.align[r])?n.align[r]="right":/^ *:-+: *$/.test(n.align[r])?n.align[r]="center":/^ *:-+ *$/.test(n.align[r])?n.align[r]="left":n.align[r]=null;for(i=n.cells.length,r=0;r<i;r++)n.cells[r]=M(n.cells[r].replace(/^ *\| *| *\| *$/g,""),n.header.length);return n}}},t.lheading=function(e){var t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1]}},t.paragraph=function(e){var t=this.rules.block.paragraph.exec(e);if(t)return{type:"paragraph",raw:t[0],text:"\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1]}},t.text=function(e){var t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0]}},t.escape=function(e){var t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:L(t[1])}},t.tag=function(e,t,n){var r=this.rules.inline.tag.exec(e);if(r)return!t&&/^<a /i.test(r[0])?t=!0:t&&/^<\/a>/i.test(r[0])&&(t=!1),!n&&/^<(pre|code|kbd|script)(\s|>)/i.test(r[0])?n=!0:n&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(r[0])&&(n=!1),{type:this.options.sanitize?"text":"html",raw:r[0],inLink:t,inRawBlock:n,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):L(r[0]):r[0]}},t.link=function(e){var t=this.rules.inline.link.exec(e);if(t){var n=t[2].trim();if(!this.options.pedantic&&/^</.test(n)){if(!/>$/.test(n))return;var r=B(n.slice(0,-1),"\\");if((n.length-r.length)%2===0)return}else{var i=P(t[2],"()");if(i>-1){var o=(0===t[0].indexOf("!")?5:4)+t[1].length+i;t[2]=t[2].substring(0,i),t[0]=t[0].substring(0,o).trim(),t[3]=""}}var a=t[2],u="";if(this.options.pedantic){var c=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(a);c&&(a=c[1],u=c[3])}else u=t[3]?t[3].slice(1,-1):"";return a=a.trim(),/^</.test(a)&&(a=this.options.pedantic&&!/>$/.test(n)?a.slice(1):a.slice(1,-1)),R(t,{href:a?a.replace(this.rules.inline._escapes,"$1"):a,title:u?u.replace(this.rules.inline._escapes,"$1"):u},t[0])}},t.reflink=function(e,t){var n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){var r=(n[2]||n[1]).replace(/\s+/g," ");if(!(r=t[r.toLowerCase()])||!r.href){var i=n[0].charAt(0);return{type:"text",raw:i,text:i}}return R(n,r,n[0])}},t.emStrong=function(e,t,n){void 0===n&&(n="");var r=this.rules.inline.emStrong.lDelim.exec(e);if(r&&(!r[3]||!n.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08C7\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\u9FFC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7CA\uA7F5-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDD\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var i=r[1]||r[2]||"";if(!i||i&&(""===n||this.rules.inline.punctuation.exec(n))){var o,a,u=r[0].length-1,c=u,s=0,l="*"===r[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(l.lastIndex=0,t=t.slice(-1*e.length+u);null!=(r=l.exec(t));)if(o=r[1]||r[2]||r[3]||r[4]||r[5]||r[6])if(a=o.length,r[3]||r[4])c+=a;else if(!((r[5]||r[6])&&u%3)||(u+a)%3){if(!((c-=a)>0))return a=Math.min(a,a+c+s),Math.min(u,a)%2?{type:"em",raw:e.slice(0,u+r.index+a+1),text:e.slice(1,u+r.index+a)}:{type:"strong",raw:e.slice(0,u+r.index+a+1),text:e.slice(2,u+r.index+a-1)}}else s+=a}}},t.codespan=function(e){var t=this.rules.inline.code.exec(e);if(t){var n=t[2].replace(/\n/g," "),r=/[^ ]/.test(n),i=/^ /.test(n)&&/ $/.test(n);return r&&i&&(n=n.substring(1,n.length-1)),n=L(n,!0),{type:"codespan",raw:t[0],text:n}}},t.br=function(e){var t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}},t.del=function(e){var t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2]}},t.autolink=function(e,t){var n,r,i=this.rules.inline.autolink.exec(e);if(i)return r="@"===i[2]?"mailto:"+(n=L(this.options.mangle?t(i[1]):i[1])):n=L(i[1]),{type:"link",raw:i[0],text:n,href:r,tokens:[{type:"text",raw:n,text:n}]}},t.url=function(e,t){var n;if(n=this.rules.inline.url.exec(e)){var r,i;if("@"===n[2])i="mailto:"+(r=L(this.options.mangle?t(n[0]):n[0]));else{var o;do{o=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0]}while(o!==n[0]);r=L(n[0]),i="www."===n[1]?"http://"+r:r}return{type:"link",raw:n[0],text:r,href:i,tokens:[{type:"text",raw:r,text:r}]}}},t.inlineText=function(e,t,n){var r,i=this.rules.inline.text.exec(e);if(i)return r=t?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(i[0]):L(i[0]):i[0]:L(this.options.smartypants?n(i[0]):i[0]),{type:"text",raw:i[0],text:r}},e}(),V=F.noopTest,U=F.edit,H=F.merge,G={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?! {0,3}bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:V,table:V,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};G.def=U(G.def).replace("label",G._label).replace("title",G._title).getRegex(),G.bullet=/(?:[*+-]|\d{1,9}[.)])/,G.item=/^( *)(bull) ?[^\n]*(?:\n(?! *bull ?)[^\n]*)*/,G.item=U(G.item,"gm").replace(/bull/g,G.bullet).getRegex(),G.listItemStart=U(/^( *)(bull) */).replace("bull",G.bullet).getRegex(),G.list=U(G.list).replace(/bull/g,G.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+G.def.source+")").getRegex(),G._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",G._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,G.html=U(G.html,"i").replace("comment",G._comment).replace("tag",G._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),G.paragraph=U(G._paragraph).replace("hr",G.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",G._tag).getRegex(),G.blockquote=U(G.blockquote).replace("paragraph",G.paragraph).getRegex(),G.normal=H({},G),G.gfm=H({},G.normal,{nptable:"^ *([^|\\n ].*\\|.*)\\n {0,3}([-:]+ *\\|[-| :]*)(?:\\n((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)",table:"^ *\\|(.+)\\n {0,3}\\|?( *[-:]+[-| :]*)(?:\\n *((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),G.gfm.nptable=U(G.gfm.nptable).replace("hr",G.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",G._tag).getRegex(),G.gfm.table=U(G.gfm.table).replace("hr",G.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",G._tag).getRegex(),G.pedantic=H({},G.normal,{html:U("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",G._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:V,paragraph:U(G.normal._paragraph).replace("hr",G.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",G.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var W={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:V,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/\_\_[^_*]*?\*[^_*]*?\_\_|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/\*\*[^_*]*?\_[^_*]*?\*\*|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:V,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/,_punctuation:"!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~"};W.punctuation=U(W.punctuation).replace(/punctuation/g,W._punctuation).getRegex(),W.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,W.escapedEmSt=/\\\*|\\_/g,W._comment=U(G._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),W.emStrong.lDelim=U(W.emStrong.lDelim).replace(/punct/g,W._punctuation).getRegex(),W.emStrong.rDelimAst=U(W.emStrong.rDelimAst,"g").replace(/punct/g,W._punctuation).getRegex(),W.emStrong.rDelimUnd=U(W.emStrong.rDelimUnd,"g").replace(/punct/g,W._punctuation).getRegex(),W._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,W._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,W._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,W.autolink=U(W.autolink).replace("scheme",W._scheme).replace("email",W._email).getRegex(),W._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,W.tag=U(W.tag).replace("comment",W._comment).replace("attribute",W._attribute).getRegex(),W._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,W._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,W._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,W.link=U(W.link).replace("label",W._label).replace("href",W._href).replace("title",W._title).getRegex(),W.reflink=U(W.reflink).replace("label",W._label).getRegex(),W.reflinkSearch=U(W.reflinkSearch,"g").replace("reflink",W.reflink).replace("nolink",W.nolink).getRegex(),W.normal=H({},W),W.pedantic=H({},W.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:U(/^!?\[(label)\]\((.*?)\)/).replace("label",W._label).getRegex(),reflink:U(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",W._label).getRegex()}),W.gfm=H({},W.normal,{escape:U(W.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),W.gfm.url=U(W.gfm.url,"i").replace("email",W.gfm._extended_email).getRegex(),W.breaks=H({},W.gfm,{br:U(W.br).replace("{2,}","*").getRegex(),text:U(W.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var $={block:G,inline:W},Z=N,Y=o.exports.defaults,K=$.block,J=$.inline,X=F.repeatString;function Q(e){return e.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/\.{3}/g,"\u2026")}function ee(e){var t,n,r="",i=e.length;for(t=0;t<i;t++)n=e.charCodeAt(t),Math.random()>.5&&(n="x"+n.toString(16)),r+="&#"+n+";";return r}var te=function(){function e(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Y,this.options.tokenizer=this.options.tokenizer||new Z,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options;var t={block:K.normal,inline:J.normal};this.options.pedantic?(t.block=K.pedantic,t.inline=J.pedantic):this.options.gfm&&(t.block=K.gfm,this.options.breaks?t.inline=J.breaks:t.inline=J.gfm),this.tokenizer.rules=t}e.lex=function(t,n){return new e(n).lex(t)},e.lexInline=function(t,n){return new e(n).inlineTokens(t)};var n=e.prototype;return n.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    "),this.blockTokens(e,this.tokens,!0),this.inline(this.tokens),this.tokens},n.blockTokens=function(e,t,n){var r,i,o,a,u,c,s=this;for(void 0===t&&(t=[]),void 0===n&&(n=!0),this.options.pedantic&&(e=e.replace(/^ +$/gm,""));e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some((function(n){return!!(r=n.call(s,e,t))&&(e=e.substring(r.raw.length),t.push(r),!0)}))))if(r=this.tokenizer.space(e))e=e.substring(r.raw.length),r.type&&t.push(r);else if(r=this.tokenizer.code(e))e=e.substring(r.raw.length),(a=t[t.length-1])&&"paragraph"===a.type?(a.raw+="\n"+r.raw,a.text+="\n"+r.text):t.push(r);else if(r=this.tokenizer.fences(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.heading(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.nptable(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.hr(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.blockquote(e))e=e.substring(r.raw.length),r.tokens=this.blockTokens(r.text,[],n),t.push(r);else if(r=this.tokenizer.list(e)){for(e=e.substring(r.raw.length),o=r.items.length,i=0;i<o;i++)r.items[i].tokens=this.blockTokens(r.items[i].text,[],!1);t.push(r)}else if(r=this.tokenizer.html(e))e=e.substring(r.raw.length),t.push(r);else if(n&&(r=this.tokenizer.def(e)))e=e.substring(r.raw.length),this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title});else if(r=this.tokenizer.table(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.lheading(e))e=e.substring(r.raw.length),t.push(r);else if(u=e,this.options.extensions&&this.options.extensions.startBlock&&function(){var t=1/0,n=e.slice(1),r=void 0;s.options.extensions.startBlock.forEach((function(e){"number"===typeof(r=e.call(this,n))&&r>=0&&(t=Math.min(t,r))})),t<1/0&&t>=0&&(u=e.substring(0,t+1))}(),n&&(r=this.tokenizer.paragraph(u)))a=t[t.length-1],c&&"paragraph"===a.type?(a.raw+="\n"+r.raw,a.text+="\n"+r.text):t.push(r),c=u.length!==e.length,e=e.substring(r.raw.length);else if(r=this.tokenizer.text(e))e=e.substring(r.raw.length),(a=t[t.length-1])&&"text"===a.type?(a.raw+="\n"+r.raw,a.text+="\n"+r.text):t.push(r);else if(e){var l="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(l);break}throw new Error(l)}return t},n.inline=function(e){var t,n,r,i,o,a,u=e.length;for(t=0;t<u;t++)switch((a=e[t]).type){case"paragraph":case"text":case"heading":a.tokens=[],this.inlineTokens(a.text,a.tokens);break;case"table":for(a.tokens={header:[],cells:[]},i=a.header.length,n=0;n<i;n++)a.tokens.header[n]=[],this.inlineTokens(a.header[n],a.tokens.header[n]);for(i=a.cells.length,n=0;n<i;n++)for(o=a.cells[n],a.tokens.cells[n]=[],r=0;r<o.length;r++)a.tokens.cells[n][r]=[],this.inlineTokens(o[r],a.tokens.cells[n][r]);break;case"blockquote":this.inline(a.tokens);break;case"list":for(i=a.items.length,n=0;n<i;n++)this.inline(a.items[n].tokens)}return e},n.inlineTokens=function(e,t,n,r){var i,o,a,u=this;void 0===t&&(t=[]),void 0===n&&(n=!1),void 0===r&&(r=!1);var c,s,l,d=e;if(this.tokens.links){var f=Object.keys(this.tokens.links);if(f.length>0)for(;null!=(c=this.tokenizer.rules.inline.reflinkSearch.exec(d));)f.includes(c[0].slice(c[0].lastIndexOf("[")+1,-1))&&(d=d.slice(0,c.index)+"["+X("a",c[0].length-2)+"]"+d.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(c=this.tokenizer.rules.inline.blockSkip.exec(d));)d=d.slice(0,c.index)+"["+X("a",c[0].length-2)+"]"+d.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(c=this.tokenizer.rules.inline.escapedEmSt.exec(d));)d=d.slice(0,c.index)+"++"+d.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;e;)if(s||(l=""),s=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some((function(n){return!!(i=n.call(u,e,t))&&(e=e.substring(i.raw.length),t.push(i),!0)}))))if(i=this.tokenizer.escape(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.tag(e,n,r))e=e.substring(i.raw.length),n=i.inLink,r=i.inRawBlock,(o=t[t.length-1])&&"text"===i.type&&"text"===o.type?(o.raw+=i.raw,o.text+=i.text):t.push(i);else if(i=this.tokenizer.link(e))e=e.substring(i.raw.length),"link"===i.type&&(i.tokens=this.inlineTokens(i.text,[],!0,r)),t.push(i);else if(i=this.tokenizer.reflink(e,this.tokens.links))e=e.substring(i.raw.length),o=t[t.length-1],"link"===i.type?(i.tokens=this.inlineTokens(i.text,[],!0,r),t.push(i)):o&&"text"===i.type&&"text"===o.type?(o.raw+=i.raw,o.text+=i.text):t.push(i);else if(i=this.tokenizer.emStrong(e,d,l))e=e.substring(i.raw.length),i.tokens=this.inlineTokens(i.text,[],n,r),t.push(i);else if(i=this.tokenizer.codespan(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.br(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.del(e))e=e.substring(i.raw.length),i.tokens=this.inlineTokens(i.text,[],n,r),t.push(i);else if(i=this.tokenizer.autolink(e,ee))e=e.substring(i.raw.length),t.push(i);else if(n||!(i=this.tokenizer.url(e,ee))){if(a=e,this.options.extensions&&this.options.extensions.startInline&&function(){var t=1/0,n=e.slice(1),r=void 0;u.options.extensions.startInline.forEach((function(e){"number"===typeof(r=e.call(this,n))&&r>=0&&(t=Math.min(t,r))})),t<1/0&&t>=0&&(a=e.substring(0,t+1))}(),i=this.tokenizer.inlineText(a,r,Q))e=e.substring(i.raw.length),"_"!==i.raw.slice(-1)&&(l=i.raw.slice(-1)),s=!0,(o=t[t.length-1])&&"text"===o.type?(o.raw+=i.raw,o.text+=i.text):t.push(i);else if(e){var p="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(p);break}throw new Error(p)}}else e=e.substring(i.raw.length),t.push(i);return t},t(e,null,[{key:"rules",get:function(){return{block:K,inline:J}}}]),e}(),ne=o.exports.defaults,re=F.cleanUrl,ie=F.escape,oe=function(){function e(e){this.options=e||ne}var t=e.prototype;return t.code=function(e,t,n){var r=(t||"").match(/\S*/)[0];if(this.options.highlight){var i=this.options.highlight(e,r);null!=i&&i!==e&&(n=!0,e=i)}return e=e.replace(/\n$/,"")+"\n",r?'<pre><code class="'+this.options.langPrefix+ie(r,!0)+'">'+(n?e:ie(e,!0))+"</code></pre>\n":"<pre><code>"+(n?e:ie(e,!0))+"</code></pre>\n"},t.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},t.html=function(e){return e},t.heading=function(e,t,n,r){return this.options.headerIds?"<h"+t+' id="'+this.options.headerPrefix+r.slug(n)+'">'+e+"</h"+t+">\n":"<h"+t+">"+e+"</h"+t+">\n"},t.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},t.list=function(e,t,n){var r=t?"ol":"ul";return"<"+r+(t&&1!==n?' start="'+n+'"':"")+">\n"+e+"</"+r+">\n"},t.listitem=function(e){return"<li>"+e+"</li>\n"},t.checkbox=function(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},t.paragraph=function(e){return"<p>"+e+"</p>\n"},t.table=function(e,t){return t&&(t="<tbody>"+t+"</tbody>"),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"},t.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},t.tablecell=function(e,t){var n=t.header?"th":"td";return(t.align?"<"+n+' align="'+t.align+'">':"<"+n+">")+e+"</"+n+">\n"},t.strong=function(e){return"<strong>"+e+"</strong>"},t.em=function(e){return"<em>"+e+"</em>"},t.codespan=function(e){return"<code>"+e+"</code>"},t.br=function(){return this.options.xhtml?"<br/>":"<br>"},t.del=function(e){return"<del>"+e+"</del>"},t.link=function(e,t,n){if(null===(e=re(this.options.sanitize,this.options.baseUrl,e)))return n;var r='<a href="'+ie(e)+'"';return t&&(r+=' title="'+t+'"'),r+=">"+n+"</a>"},t.image=function(e,t,n){if(null===(e=re(this.options.sanitize,this.options.baseUrl,e)))return n;var r='<img src="'+e+'" alt="'+n+'"';return t&&(r+=' title="'+t+'"'),r+=this.options.xhtml?"/>":">"},t.text=function(e){return e},e}(),ae=function(){function e(){}var t=e.prototype;return t.strong=function(e){return e},t.em=function(e){return e},t.codespan=function(e){return e},t.del=function(e){return e},t.html=function(e){return e},t.text=function(e){return e},t.link=function(e,t,n){return""+n},t.image=function(e,t,n){return""+n},t.br=function(){return""},e}(),ue=function(){function e(){this.seen={}}var t=e.prototype;return t.serialize=function(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},t.getNextSafeSlug=function(e,t){var n=e,r=0;if(this.seen.hasOwnProperty(n)){r=this.seen[e];do{n=e+"-"+ ++r}while(this.seen.hasOwnProperty(n))}return t||(this.seen[e]=r,this.seen[n]=0),n},t.slug=function(e,t){void 0===t&&(t={});var n=this.serialize(e);return this.getNextSafeSlug(n,t.dryrun)},e}(),ce=oe,se=ae,le=ue,de=o.exports.defaults,fe=F.unescape,pe=te,he=function(){function e(e){this.options=e||de,this.options.renderer=this.options.renderer||new ce,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new se,this.slugger=new le}e.parse=function(t,n){return new e(n).parse(t)},e.parseInline=function(t,n){return new e(n).parseInline(t)};var t=e.prototype;return t.parse=function(e,t){void 0===t&&(t=!0);var n,r,i,o,a,u,c,s,l,d,f,p,h,m,b,v,g,y,O,j="",w=e.length;for(n=0;n<w;n++)if(d=e[n],!(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[d.type])||!1===(O=this.options.extensions.renderers[d.type].call(this,d))&&["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(d.type))switch(d.type){case"space":continue;case"hr":j+=this.renderer.hr();continue;case"heading":j+=this.renderer.heading(this.parseInline(d.tokens),d.depth,fe(this.parseInline(d.tokens,this.textRenderer)),this.slugger);continue;case"code":j+=this.renderer.code(d.text,d.lang,d.escaped);continue;case"table":for(s="",c="",o=d.header.length,r=0;r<o;r++)c+=this.renderer.tablecell(this.parseInline(d.tokens.header[r]),{header:!0,align:d.align[r]});for(s+=this.renderer.tablerow(c),l="",o=d.cells.length,r=0;r<o;r++){for(c="",a=(u=d.tokens.cells[r]).length,i=0;i<a;i++)c+=this.renderer.tablecell(this.parseInline(u[i]),{header:!1,align:d.align[i]});l+=this.renderer.tablerow(c)}j+=this.renderer.table(s,l);continue;case"blockquote":l=this.parse(d.tokens),j+=this.renderer.blockquote(l);continue;case"list":for(f=d.ordered,p=d.start,h=d.loose,o=d.items.length,l="",r=0;r<o;r++)v=(b=d.items[r]).checked,g=b.task,m="",b.task&&(y=this.renderer.checkbox(v),h?b.tokens.length>0&&"text"===b.tokens[0].type?(b.tokens[0].text=y+" "+b.tokens[0].text,b.tokens[0].tokens&&b.tokens[0].tokens.length>0&&"text"===b.tokens[0].tokens[0].type&&(b.tokens[0].tokens[0].text=y+" "+b.tokens[0].tokens[0].text)):b.tokens.unshift({type:"text",text:y}):m+=y),m+=this.parse(b.tokens,h),l+=this.renderer.listitem(m,g,v);j+=this.renderer.list(l,f,p);continue;case"html":j+=this.renderer.html(d.text);continue;case"paragraph":j+=this.renderer.paragraph(this.parseInline(d.tokens));continue;case"text":for(l=d.tokens?this.parseInline(d.tokens):d.text;n+1<w&&"text"===e[n+1].type;)l+="\n"+((d=e[++n]).tokens?this.parseInline(d.tokens):d.text);j+=t?this.renderer.paragraph(l):l;continue;default:var _='Token with "'+d.type+'" type was not found.';if(this.options.silent)return void console.error(_);throw new Error(_)}else j+=O||"";return j},t.parseInline=function(e,t){t=t||this.renderer;var n,r,i,o="",a=e.length;for(n=0;n<a;n++)if(r=e[n],!(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[r.type])||!1===(i=this.options.extensions.renderers[r.type].call(this,r))&&["escape","html","link","image","strong","em","codespan","br","del","text"].includes(r.type))switch(r.type){case"escape":o+=t.text(r.text);break;case"html":o+=t.html(r.text);break;case"link":o+=t.link(r.href,r.title,this.parseInline(r.tokens,t));break;case"image":o+=t.image(r.href,r.title,r.text);break;case"strong":o+=t.strong(this.parseInline(r.tokens,t));break;case"em":o+=t.em(this.parseInline(r.tokens,t));break;case"codespan":o+=t.codespan(r.text);break;case"br":o+=t.br();break;case"del":o+=t.del(this.parseInline(r.tokens,t));break;case"text":o+=t.text(r.text);break;default:var u='Token with "'+r.type+'" type was not found.';if(this.options.silent)return void console.error(u);throw new Error(u)}else o+=i||"";return o},e}(),me=N,be=oe,ve=ae,ge=ue,ye=F.merge,Oe=F.checkSanitizeDeprecation,je=F.escape,we=o.exports.getDefaults,_e=o.exports.changeDefaults,xe=o.exports.defaults;function Ce(e,t,n){if("undefined"===typeof e||null===e)throw new Error("marked(): input parameter is undefined or null");if("string"!==typeof e)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if("function"===typeof t&&(n=t,t=null),t=ye({},Ce.defaults,t||{}),Oe(t),n){var r,i=t.highlight;try{r=pe.lex(e,t)}catch(c){return n(c)}var o=function(e){var o;if(!e)try{t.walkTokens&&Ce.walkTokens(r,t.walkTokens),o=he.parse(r,t)}catch(c){e=c}return t.highlight=i,e?n(e):n(null,o)};if(!i||i.length<3)return o();if(delete t.highlight,!r.length)return o();var a=0;return Ce.walkTokens(r,(function(e){"code"===e.type&&(a++,setTimeout((function(){i(e.text,e.lang,(function(t,n){if(t)return o(t);null!=n&&n!==e.text&&(e.text=n,e.escaped=!0),0===--a&&o()}))}),0))})),void(0===a&&o())}try{var u=pe.lex(e,t);return t.walkTokens&&Ce.walkTokens(u,t.walkTokens),he.parse(u,t)}catch(c){if(c.message+="\nPlease report this to https://github.com/markedjs/marked.",t.silent)return"<p>An error occurred:</p><pre>"+je(c.message+"",!0)+"</pre>";throw c}}return Ce.options=Ce.setOptions=function(e){return ye(Ce.defaults,e),_e(Ce.defaults),Ce},Ce.getDefaults=we,Ce.defaults=xe,Ce.use=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i,o=ye.apply(void 0,[{}].concat(n)),a=Ce.defaults.extensions||{renderers:{},childTokens:{}};n.forEach((function(t){if(t.extensions&&(i=!0,t.extensions.forEach((function(e){if(!e.name)throw new Error("extension name required");if(e.renderer){var t=a.renderers?a.renderers[e.name]:null;a.renderers[e.name]=t?function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=e.renderer.apply(this,r);return!1===o&&(o=t.apply(this,r)),o}:e.renderer}if(e.tokenizer){if(!e.level||"block"!==e.level&&"inline"!==e.level)throw new Error("extension level must be 'block' or 'inline'");a[e.level]?a[e.level].unshift(e.tokenizer):a[e.level]=[e.tokenizer],e.start&&("block"===e.level?a.startBlock?a.startBlock.push(e.start):a.startBlock=[e.start]:"inline"===e.level&&(a.startInline?a.startInline.push(e.start):a.startInline=[e.start]))}e.childTokens&&(a.childTokens[e.name]=e.childTokens)}))),t.renderer&&function(){var e=Ce.defaults.renderer||new be,n=function(n){var r=e[n];e[n]=function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];var u=t.renderer[n].apply(e,o);return!1===u&&(u=r.apply(e,o)),u}};for(var r in t.renderer)n(r);o.renderer=e}(),t.tokenizer&&function(){var e=Ce.defaults.tokenizer||new me,n=function(n){var r=e[n];e[n]=function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];var u=t.tokenizer[n].apply(e,o);return!1===u&&(u=r.apply(e,o)),u}};for(var r in t.tokenizer)n(r);o.tokenizer=e}(),t.walkTokens){var n=Ce.defaults.walkTokens;o.walkTokens=function(r){t.walkTokens.call(e,r),n&&n(r)}}i&&(o.extensions=a),Ce.setOptions(o)}))},Ce.walkTokens=function(e,t){for(var n,r=function(){var e=n.value;switch(t(e),e.type){case"table":for(var r,o=i(e.tokens.header);!(r=o()).done;){var a=r.value;Ce.walkTokens(a,t)}for(var u,c=i(e.tokens.cells);!(u=c()).done;)for(var s,l=i(u.value);!(s=l()).done;){var d=s.value;Ce.walkTokens(d,t)}break;case"list":Ce.walkTokens(e.items,t);break;default:Ce.defaults.extensions&&Ce.defaults.extensions.childTokens&&Ce.defaults.extensions.childTokens[e.type]?Ce.defaults.extensions.childTokens[e.type].forEach((function(n){Ce.walkTokens(e[n],t)})):e.tokens&&Ce.walkTokens(e.tokens,t)}},o=i(e);!(n=o()).done;)r()},Ce.parseInline=function(e,t){if("undefined"===typeof e||null===e)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!==typeof e)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");t=ye({},Ce.defaults,t||{}),Oe(t);try{var n=pe.lexInline(e,t);return t.walkTokens&&Ce.walkTokens(n,t.walkTokens),he.parseInline(n,t)}catch(r){if(r.message+="\nPlease report this to https://github.com/markedjs/marked.",t.silent)return"<p>An error occurred:</p><pre>"+je(r.message+"",!0)+"</pre>";throw r}},Ce.Parser=he,Ce.parser=he.parse,Ce.Renderer=be,Ce.TextRenderer=ve,Ce.Lexer=pe,Ce.lexer=pe.lex,Ce.Tokenizer=me,Ce.Slugger=ge,Ce.parse=Ce,Ce}()},,,,,,,,,,,,,function(e,t,n){(function(e){var r="undefined"!==typeof e&&e||"undefined"!==typeof self&&self||window,i=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n(241),t.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(73))},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,i=1,o={},a=!1,u=e.document,c=Object.getPrototypeOf&&Object.getPrototypeOf(e);c=c&&c.setTimeout?c:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick((function(){l(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"===typeof n.data&&0===n.data.indexOf(t)&&l(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),r=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){l(e.data)},r=function(t){e.port2.postMessage(t)}}():u&&"onreadystatechange"in u.createElement("script")?function(){var e=u.documentElement;r=function(t){var n=u.createElement("script");n.onreadystatechange=function(){l(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():r=function(e){setTimeout(l,0,e)},c.setImmediate=function(e){"function"!==typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var a={callback:e,args:t};return o[i]=a,r(i),i++},c.clearImmediate=s}function s(e){delete o[e]}function l(e){if(a)setTimeout(l,0,e);else{var t=o[e];if(t){a=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{s(e),a=!1}}}}}("undefined"===typeof self?"undefined"===typeof e?this:e:self)}).call(this,n(73),n(103))},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(111),i=n(104),o="__core-js_shared__",a=i[o]||(i[o]={});(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(212)?"pure":"global",copyright:"\xa9 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t,n){var r=n(91);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){"use strict";var r=n(212),i=n(248),o=n(122),a=n(137),u=n(187),c=n(348),s=n(214),l=n(353),d=n(79)("iterator"),f=!([].keys&&"next"in[].keys()),p="keys",h="values",m=function(){return this};e.exports=function(e,t,n,b,v,g,y){c(n,t,b);var O,j,w,_=function(e){if(!f&&e in D)return D[e];switch(e){case p:case h:return function(){return new n(this,e)}}return function(){return new n(this,e)}},x=t+" Iterator",C=v==h,E=!1,D=e.prototype,k=D[d]||D["@@iterator"]||v&&D[v],I=k||_(v),S=v?C?_("entries"):I:void 0,A="Array"==t&&D.entries||k;if(A&&(w=l(A.call(new e)))!==Object.prototype&&w.next&&(s(w,x,!0),r||"function"==typeof w[d]||a(w,d,m)),C&&k&&k.name!==h&&(E=!0,I=function(){return k.call(this)}),r&&!y||!f&&!E&&D[d]||a(D,d,I),u[t]=I,u[x]=m,v)if(O={values:C?I:_(h),keys:g?I:_(p),entries:S},y)for(j in O)j in D||o(D,j,O[j]);else i(i.P+i.F*(f||E),t,O);return O}},function(e,t,n){var r=n(104),i=n(111),o=n(137),a=n(122),u=n(186),c=function e(t,n,c){var s,l,d,f,p=t&e.F,h=t&e.G,m=t&e.P,b=t&e.B,v=h?r:t&e.S?r[n]||(r[n]={}):(r[n]||{}).prototype,g=h?i:i[n]||(i[n]={}),y=g.prototype||(g.prototype={});for(s in h&&(c=n),c)d=((l=!p&&v&&void 0!==v[s])?v:c)[s],f=b&&l?u(d,r):m&&"function"==typeof d?u(Function.call,d):d,v&&a(v,s,d,t&e.U),g[s]!=d&&o(g,s,f),m&&y[s]!=d&&(y[s]=d)};r.core=i,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},function(e,t,n){var r=n(124),i=n(349),o=n(253),a=n(252)("IE_PROTO"),u=function(){},c=function(){var e,t=n(285)("iframe"),r=o.length;for(t.style.display="none",n(352).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),c=e.F;r--;)delete c.prototype[o[r]];return c()};e.exports=Object.create||function(e,t){var n;return null!==e?(u.prototype=r(e),n=new u,u.prototype=null,n[a]=e):n=c(),void 0===t?n:i(n,t)}},function(e,t,n){var r=n(242);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){var r=n(245),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t,n){var r=n(243)("keys"),i=n(185);e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var r=n(246);e.exports=function(e){return Object(r(e))}},function(e,t,n){for(var r=n(288),i=n(188),o=n(122),a=n(104),u=n(137),c=n(187),s=n(79),l=s("iterator"),d=s("toStringTag"),f=c.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},h=i(p),m=0;m<h.length;m++){var b,v=h[m],g=p[v],y=a[v],O=y&&y.prototype;if(O&&(O[l]||u(O,l,f),O[d]||u(O,d,v),c[v]=f,g))for(b in r)O[b]||o(O,b,r[b],!0)}},function(e,t,n){var r=n(122);e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var r=n(186),i=n(356),o=n(357),a=n(124),u=n(251),c=n(358),s={},l={};(t=e.exports=function(e,t,n,d,f){var p,h,m,b,v=f?function(){return e}:c(e),g=r(n,d,t?2:1),y=0;if("function"!=typeof v)throw TypeError(e+" is not iterable!");if(o(v)){for(p=u(e.length);p>y;y++)if((b=t?g(a(h=e[y])[0],h[1]):g(e[y]))===s||b===l)return b}else for(m=v.call(e);!(h=m.next()).done;)if((b=i(m,g,h.value,t))===s||b===l)return b}).BREAK=s,t.RETURN=l},function(e,t){t.f=Object.getOwnPropertySymbols},,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";(function(t){var n=setTimeout;function r(){}function i(e){if(!(this instanceof i))throw new TypeError("Promises must be constructed via new");if("function"!==typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],l(e,this)}function o(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,i._immediateFn((function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var r;try{r=n(e._value)}catch(i){return void u(t.promise,i)}a(t.promise,r)}else(1===e._state?a:u)(t.promise,e._value)}))):e._deferreds.push(t)}function a(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"===typeof t||"function"===typeof t)){var n=t.then;if(t instanceof i)return e._state=3,e._value=t,void c(e);if("function"===typeof n)return void l((r=n,o=t,function(){r.apply(o,arguments)}),e)}e._state=1,e._value=t,c(e)}catch(a){u(e,a)}var r,o}function u(e,t){e._state=2,e._value=t,c(e)}function c(e){2===e._state&&0===e._deferreds.length&&i._immediateFn((function(){e._handled||i._unhandledRejectionFn(e._value)}));for(var t=0,n=e._deferreds.length;t<n;t++)o(e,e._deferreds[t]);e._deferreds=null}function s(e,t,n){this.onFulfilled="function"===typeof e?e:null,this.onRejected="function"===typeof t?t:null,this.promise=n}function l(e,t){var n=!1;try{e((function(e){n||(n=!0,a(t,e))}),(function(e){n||(n=!0,u(t,e))}))}catch(r){if(n)return;n=!0,u(t,r)}}i.prototype.catch=function(e){return this.then(null,e)},i.prototype.then=function(e,t){var n=new this.constructor(r);return o(this,new s(e,t,n)),n},i.prototype.finally=function(e){var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){return t.reject(n)}))}))},i.all=function(e){return new i((function(t,n){if(!e||"undefined"===typeof e.length)throw new TypeError("Promise.all accepts an array");var r=Array.prototype.slice.call(e);if(0===r.length)return t([]);var i=r.length;function o(e,a){try{if(a&&("object"===typeof a||"function"===typeof a)){var u=a.then;if("function"===typeof u)return void u.call(a,(function(t){o(e,t)}),n)}r[e]=a,0===--i&&t(r)}catch(c){n(c)}}for(var a=0;a<r.length;a++)o(a,r[a])}))},i.resolve=function(e){return e&&"object"===typeof e&&e.constructor===i?e:new i((function(t){t(e)}))},i.reject=function(e){return new i((function(t,n){n(e)}))},i.race=function(e){return new i((function(t,n){for(var r=0,i=e.length;r<i;r++)e[r].then(t,n)}))},i._immediateFn="function"===typeof t&&function(e){t(e)}||function(e){n(e,0)},i._unhandledRejectionFn=function(e){"undefined"!==typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},e.exports=i}).call(this,n(240).setImmediate)},,,,,,function(e,t,n){var r=n(242),i=n(79)("toStringTag"),o="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(n){}}(t=Object(e),i))?n:o?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a}},function(e,t,n){e.exports=!n(125)&&!n(138)((function(){return 7!=Object.defineProperty(n(285)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(91),i=n(104).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,n){"use strict";var r=n(346)(!0);n(247)(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})}))},function(e,t,n){var r=n(126),i=n(151),o=n(350)(!1),a=n(252)("IE_PROTO");e.exports=function(e,t){var n,u=i(e),c=0,s=[];for(n in u)n!=a&&r(u,n)&&s.push(n);for(;t.length>c;)r(u,n=t[c++])&&(~o(s,n)||s.push(n));return s}},function(e,t,n){"use strict";var r=n(354),i=n(289),o=n(187),a=n(151);e.exports=n(247)(Array,"Array",(function(e,t){this._t=a(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])}),"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){"use strict";var r=n(123).f,i=n(249),o=n(256),a=n(186),u=n(257),c=n(258),s=n(247),l=n(289),d=n(359),f=n(125),p=n(189).fastKey,h=n(152),m=f?"_s":"size",b=function(e,t){var n,r=p(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,t,n,s){var l=e((function(e,r){u(e,l,t,"_i"),e._t=t,e._i=i(null),e._f=void 0,e._l=void 0,e[m]=0,void 0!=r&&c(r,n,e[s],e)}));return o(l.prototype,{clear:function(){for(var e=h(this,t),n=e._i,r=e._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];e._f=e._l=void 0,e[m]=0},delete:function(e){var n=h(this,t),r=b(n,e);if(r){var i=r.n,o=r.p;delete n._i[r.i],r.r=!0,o&&(o.n=i),i&&(i.p=o),n._f==r&&(n._f=i),n._l==r&&(n._l=o),n[m]--}return!!r},forEach:function(e){h(this,t);for(var n,r=a(e,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(e){return!!b(h(this,t),e)}}),f&&r(l.prototype,"size",{get:function(){return h(this,t)[m]}}),l},def:function(e,t,n){var r,i,o=b(e,t);return o?o.v=n:(e._l=o={i:i=p(t,!0),k:t,v:n,p:r=e._l,n:void 0,r:!1},e._f||(e._f=o),r&&(r.n=o),e[m]++,"F"!==i&&(e._i[i]=o)),e},getEntry:b,setStrong:function(e,t,n){s(e,t,(function(e,n){this._t=h(e,t),this._k=n,this._l=void 0}),(function(){for(var e=this,t=e._k,n=e._l;n&&n.r;)n=n.p;return e._t&&(e._l=n=n?n.n:e._t._f)?l(0,"keys"==t?n.k:"values"==t?n.v:[n.k,n.v]):(e._t=void 0,l(1))}),n?"entries":"values",!n,!0),d(t)}}},function(e,t,n){var r=n(216),i=n(213),o=n(151),a=n(244),u=n(126),c=n(284),s=Object.getOwnPropertyDescriptor;t.f=n(125)?s:function(e,t){if(e=o(e),t=a(t,!0),c)try{return s(e,t)}catch(n){}if(u(e,t))return i(!r.f.call(e,t),e[t])}},function(e,t,n){t.f=n(79)},function(e,t,n){var r=n(242);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(287),i=n(253).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,t,n){var r=n(186),i=n(250),o=n(254),a=n(251),u=n(372);e.exports=function(e,t){var n=1==e,c=2==e,s=3==e,l=4==e,d=6==e,f=5==e||d,p=t||u;return function(t,u,h){for(var m,b,v=o(t),g=i(v),y=r(u,h,3),O=a(g.length),j=0,w=n?p(t,O):c?p(t,0):void 0;O>j;j++)if((f||j in g)&&(b=y(m=g[j],j,v),e))if(n)w[j]=b;else if(b)switch(e){case 3:return!0;case 5:return m;case 6:return j;case 2:w.push(m)}else if(l)return!1;return d?-1:s||l?l:w}}},function(e,t,n){"use strict";var r=n(256),i=n(189).getWeak,o=n(124),a=n(91),u=n(257),c=n(258),s=n(295),l=n(126),d=n(152),f=s(5),p=s(6),h=0,m=function(e){return e._l||(e._l=new b)},b=function(){this.a=[]},v=function(e,t){return f(e.a,(function(e){return e[0]===t}))};b.prototype={get:function(e){var t=v(this,e);if(t)return t[1]},has:function(e){return!!v(this,e)},set:function(e,t){var n=v(this,e);n?n[1]=t:this.a.push([e,t])},delete:function(e){var t=p(this.a,(function(t){return t[0]===e}));return~t&&this.a.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,n,o){var s=e((function(e,r){u(e,s,t,"_i"),e._t=t,e._i=h++,e._l=void 0,void 0!=r&&c(r,n,e[o],e)}));return r(s.prototype,{delete:function(e){if(!a(e))return!1;var n=i(e);return!0===n?m(d(this,t)).delete(e):n&&l(n,this._i)&&delete n[this._i]},has:function(e){if(!a(e))return!1;var n=i(e);return!0===n?m(d(this,t)).has(e):n&&l(n,this._i)}}),s},def:function(e,t,n){var r=i(o(t),!0);return!0===r?m(e).set(t,n):r[e._i]=n,e},ufstore:m}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){n(184),n(286),n(255),n(355),e.exports=n(111).Map},function(e,t,n){var r=n(245),i=n(246);e.exports=function(e){return function(t,n){var o,a,u=String(i(t)),c=r(n),s=u.length;return c<0||c>=s?e?"":void 0:(o=u.charCodeAt(c))<55296||o>56319||c+1===s||(a=u.charCodeAt(c+1))<56320||a>57343?e?u.charAt(c):o:e?u.slice(c,c+2):a-56320+(o-55296<<10)+65536}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){"use strict";var r=n(249),i=n(213),o=n(214),a={};n(137)(a,n(79)("iterator"),(function(){return this})),e.exports=function(e,t,n){e.prototype=r(a,{next:i(1,n)}),o(e,t+" Iterator")}},function(e,t,n){var r=n(123),i=n(124),o=n(188);e.exports=n(125)?Object.defineProperties:function(e,t){i(e);for(var n,a=o(t),u=a.length,c=0;u>c;)r.f(e,n=a[c++],t[n]);return e}},function(e,t,n){var r=n(151),i=n(251),o=n(351);e.exports=function(e){return function(t,n,a){var u,c=r(t),s=i(c.length),l=o(a,s);if(e&&n!=n){for(;s>l;)if((u=c[l++])!=u)return!0}else for(;s>l;l++)if((e||l in c)&&c[l]===n)return e||l||0;return!e&&-1}}},function(e,t,n){var r=n(245),i=Math.max,o=Math.min;e.exports=function(e,t){return(e=r(e))<0?i(e+t,0):o(e,t)}},function(e,t,n){var r=n(104).document;e.exports=r&&r.documentElement},function(e,t,n){var r=n(126),i=n(254),o=n(252)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){var r=n(79)("unscopables"),i=Array.prototype;void 0==i[r]&&n(137)(i,r,{}),e.exports=function(e){i[r][e]=!0}},function(e,t,n){"use strict";var r=n(290),i=n(152),o="Map";e.exports=n(215)(o,(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(e){var t=r.getEntry(i(this,o),e);return t&&t.v},set:function(e,t){return r.def(i(this,o),0===e?0:e,t)}},r,!0)},function(e,t,n){var r=n(124);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(a){var o=e.return;throw void 0!==o&&r(o.call(e)),a}}},function(e,t,n){var r=n(187),i=n(79)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||o[i]===e)}},function(e,t,n){var r=n(283),i=n(79)("iterator"),o=n(187);e.exports=n(111).getIteratorMethod=function(e){if(void 0!=e)return e[i]||e["@@iterator"]||o[r(e)]}},function(e,t,n){"use strict";var r=n(104),i=n(123),o=n(125),a=n(79)("species");e.exports=function(e){var t=r[e];o&&t&&!t[a]&&i.f(t,a,{configurable:!0,get:function(){return this}})}},function(e,t,n){var r=n(79)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,(function(){throw 2}))}catch(a){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o=[7],u=o[r]();u.next=function(){return{done:n=!0}},o[r]=function(){return u},e(o)}catch(a){}return n}},function(e,t,n){var r=n(91),i=n(362).set;e.exports=function(e,t,n){var o,a=t.constructor;return a!==n&&"function"==typeof a&&(o=a.prototype)!==n.prototype&&r(o)&&i&&i(e,o),e}},function(e,t,n){var r=n(91),i=n(124),o=function(e,t){if(i(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{(r=n(186)(Function.call,n(291).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(i){t=!0}return function(e,n){return o(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:o}},function(e,t,n){n(184),n(286),n(255),n(364),e.exports=n(111).Set},function(e,t,n){"use strict";var r=n(290),i=n(152);e.exports=n(215)("Set",(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(e){return r.def(i(this,"Set"),e=0===e?0:e,e)}},r)},function(e,t,n){n(366),n(184),e.exports=n(111).Symbol},function(e,t,n){"use strict";var r=n(104),i=n(126),o=n(125),a=n(248),u=n(122),c=n(189).KEY,s=n(138),l=n(243),d=n(214),f=n(185),p=n(79),h=n(292),m=n(367),b=n(368),v=n(293),g=n(124),y=n(91),O=n(151),j=n(244),w=n(213),_=n(249),x=n(369),C=n(291),E=n(123),D=n(188),k=C.f,I=E.f,S=x.f,A=r.Symbol,T=r.JSON,F=T&&T.stringify,z=p("_hidden"),B=p("toPrimitive"),M={}.propertyIsEnumerable,L=l("symbol-registry"),P=l("symbols"),R=l("op-symbols"),q=Object.prototype,N="function"==typeof A,V=r.QObject,U=!V||!V.prototype||!V.prototype.findChild,H=o&&s((function(){return 7!=_(I({},"a",{get:function(){return I(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=k(q,t);r&&delete q[t],I(e,t,n),r&&e!==q&&I(q,t,r)}:I,G=function(e){var t=P[e]=_(A.prototype);return t._k=e,t},W=N&&"symbol"==typeof A.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof A},$=function(e,t,n){return e===q&&$(R,t,n),g(e),t=j(t,!0),g(n),i(P,t)?(n.enumerable?(i(e,z)&&e[z][t]&&(e[z][t]=!1),n=_(n,{enumerable:w(0,!1)})):(i(e,z)||I(e,z,w(1,{})),e[z][t]=!0),H(e,t,n)):I(e,t,n)},Z=function(e,t){g(e);for(var n,r=b(t=O(t)),i=0,o=r.length;o>i;)$(e,n=r[i++],t[n]);return e},Y=function(e){var t=M.call(this,e=j(e,!0));return!(this===q&&i(P,e)&&!i(R,e))&&(!(t||!i(this,e)||!i(P,e)||i(this,z)&&this[z][e])||t)},K=function(e,t){if(e=O(e),t=j(t,!0),e!==q||!i(P,t)||i(R,t)){var n=k(e,t);return!n||!i(P,t)||i(e,z)&&e[z][t]||(n.enumerable=!0),n}},J=function(e){for(var t,n=S(O(e)),r=[],o=0;n.length>o;)i(P,t=n[o++])||t==z||t==c||r.push(t);return r},X=function(e){for(var t,n=e===q,r=S(n?R:O(e)),o=[],a=0;r.length>a;)!i(P,t=r[a++])||n&&!i(q,t)||o.push(P[t]);return o};N||(u((A=function(){if(this instanceof A)throw TypeError("Symbol is not a constructor!");var e=f(arguments.length>0?arguments[0]:void 0),t=function t(n){this===q&&t.call(R,n),i(this,z)&&i(this[z],e)&&(this[z][e]=!1),H(this,e,w(1,n))};return o&&U&&H(q,e,{configurable:!0,set:t}),G(e)}).prototype,"toString",(function(){return this._k})),C.f=K,E.f=$,n(294).f=x.f=J,n(216).f=Y,n(259).f=X,o&&!n(212)&&u(q,"propertyIsEnumerable",Y,!0),h.f=function(e){return G(p(e))}),a(a.G+a.W+a.F*!N,{Symbol:A});for(var Q="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ee=0;Q.length>ee;)p(Q[ee++]);for(var te=D(p.store),ne=0;te.length>ne;)m(te[ne++]);a(a.S+a.F*!N,"Symbol",{for:function(e){return i(L,e+="")?L[e]:L[e]=A(e)},keyFor:function(e){if(!W(e))throw TypeError(e+" is not a symbol!");for(var t in L)if(L[t]===e)return t},useSetter:function(){U=!0},useSimple:function(){U=!1}}),a(a.S+a.F*!N,"Object",{create:function(e,t){return void 0===t?_(e):Z(_(e),t)},defineProperty:$,defineProperties:Z,getOwnPropertyDescriptor:K,getOwnPropertyNames:J,getOwnPropertySymbols:X}),T&&a(a.S+a.F*(!N||s((function(){var e=A();return"[null]"!=F([e])||"{}"!=F({a:e})||"{}"!=F(Object(e))}))),"JSON",{stringify:function(e){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=t=r[1],(y(t)||void 0!==e)&&!W(e))return v(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!W(t))return t}),r[1]=t,F.apply(T,r)}}),A.prototype[B]||n(137)(A.prototype,B,A.prototype.valueOf),d(A,"Symbol"),d(Math,"Math",!0),d(r.JSON,"JSON",!0)},function(e,t,n){var r=n(104),i=n(111),o=n(212),a=n(292),u=n(123).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||u(t,e,{value:a.f(e)})}},function(e,t,n){var r=n(188),i=n(259),o=n(216);e.exports=function(e){var t=r(e),n=i.f;if(n)for(var a,u=n(e),c=o.f,s=0;u.length>s;)c.call(e,a=u[s++])&&t.push(a);return t}},function(e,t,n){var r=n(151),i=n(294).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?function(e){try{return i(e)}catch(t){return a.slice()}}(e):i(r(e))}},function(e,t,n){n(184),n(288),n(371),e.exports=n(111).WeakMap},function(e,t,n){"use strict";var r,i=n(295)(0),o=n(122),a=n(189),u=n(374),c=n(296),s=n(91),l=n(138),d=n(152),f="WeakMap",p=a.getWeak,h=Object.isExtensible,m=c.ufstore,b={},v=function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},g={get:function(e){if(s(e)){var t=p(e);return!0===t?m(d(this,f)).get(e):t?t[this._i]:void 0}},set:function(e,t){return c.def(d(this,f),e,t)}},y=e.exports=n(215)(f,v,g,c,!0,!0);l((function(){return 7!=(new y).set((Object.freeze||Object)(b),7).get(b)}))&&(u((r=c.getConstructor(v,f)).prototype,g),a.NEED=!0,i(["delete","has","get","set"],(function(e){var t=y.prototype,n=t[e];o(t,e,(function(t,i){if(s(t)&&!h(t)){this._f||(this._f=new r);var o=this._f[e](t,i);return"set"==e?this:o}return n.call(this,t,i)}))})))},function(e,t,n){var r=n(373);e.exports=function(e,t){return new(r(e))(t)}},function(e,t,n){var r=n(91),i=n(293),o=n(79)("species");e.exports=function(e){var t;return i(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!i(t.prototype)||(t=void 0),r(t)&&null===(t=t[o])&&(t=void 0)),void 0===t?Array:t}},function(e,t,n){"use strict";var r=n(188),i=n(259),o=n(216),a=n(254),u=n(250),c=Object.assign;e.exports=!c||n(138)((function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=c({},e)[n]||Object.keys(c({},t)).join("")!=r}))?function(e,t){for(var n=a(e),c=arguments.length,s=1,l=i.f,d=o.f;c>s;)for(var f,p=u(arguments[s++]),h=l?r(p).concat(l(p)):r(p),m=h.length,b=0;m>b;)d.call(p,f=h[b++])&&(n[f]=p[f]);return n}:c},function(e,t,n){n(184),n(255),n(376),e.exports=n(111).WeakSet},function(e,t,n){"use strict";var r=n(296),i=n(152),o="WeakSet";n(215)(o,(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(e){return r.def(i(this,o),e,!0)}},r,!1,!0)},function(e,t,n){n(378).polyfill()},function(e,t,n){(function(t){for(var r=n(379),i="undefined"===typeof window?t:window,o=["moz","webkit"],a="AnimationFrame",u=i["request"+a],c=i["cancel"+a]||i["cancelRequest"+a],s=0;!u&&s<o.length;s++)u=i[o[s]+"Request"+a],c=i[o[s]+"Cancel"+a]||i[o[s]+"CancelRequest"+a];if(!u||!c){var l=0,d=0,f=[];u=function(e){if(0===f.length){var t=r(),n=Math.max(0,16.666666666666668-(t-l));l=n+t,setTimeout((function(){var e=f.slice(0);f.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(l)}catch(n){setTimeout((function(){throw n}),0)}}),Math.round(n))}return f.push({handle:++d,callback:e,cancelled:!1}),d},c=function(e){for(var t=0;t<f.length;t++)f[t].handle===e&&(f[t].cancelled=!0)}}e.exports=function(e){return u.call(i,e)},e.exports.cancel=function(){c.apply(i,arguments)},e.exports.polyfill=function(e){e||(e=i),e.requestAnimationFrame=u,e.cancelAnimationFrame=c}}).call(this,n(73))},function(e,t,n){(function(t){(function(){var n,r,i,o,a,u;"undefined"!==typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:"undefined"!==typeof t&&null!==t&&t.hrtime?(e.exports=function(){return(n()-a)/1e6},r=t.hrtime,o=(n=function(){var e;return 1e9*(e=r())[0]+e[1]})(),u=1e9*t.uptime(),a=o-u):Date.now?(e.exports=function(){return Date.now()-i},i=Date.now()):(e.exports=function(){return(new Date).getTime()-i},i=(new Date).getTime())}).call(this)}).call(this,n(103))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var r=function(){window.performance&&"function"===typeof window.performance.mark&&window.performance.mark("lc_js_loaded")};r();var i,o,a,u=n(277),c=n.n(u),s=function(){for(var e;i;){e=i.fn,i=i.next;try{e()}catch(t){throw i?a():o=void 0,t}}o=void 0},l=window.MutationObserver||window.WebKitMutationObserver;if(l){var d=document.createTextNode(""),f=!0;new l(s).observe(d,{characterData:!0}),a=function(){d.data=f=!f}}else a=function(){setTimeout(s,0)};var p=function(e){var t={fn:e,next:void 0};o&&(o.next=t),i||(i=t,a()),o=t};/native code/.test(window.Promise)||(window.Promise=c.a,window.Promise._immediateFn=p),"function"!==typeof window.Promise.prototype.finally&&(window.Promise.prototype.finally=c.a.prototype.finally);n(345),n(363),n(365),n(370),n(375),n(377);var h=n(225),m=n.n(h),b=n(2);if(Object.assign=m.a,"function"!==typeof Array.from&&(Array.from=function(e){return[].slice.call(e)}),"function"!==typeof Array.prototype.find&&(Array.prototype.find=function(e){return Object(b.o)(e,this)}),"function"!==typeof Array.prototype.findIndex&&(Array.prototype.findIndex=function(e){return Object(b.p)(e,this)}),"function"!==typeof Object.values&&(Object.values=b.Bb),"function"!==typeof Object.is&&(Object.is=function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}),"function"!==typeof Element.prototype.matches&&(Element.prototype.matches=Element.prototype.msMatchesSelector),"function"!==typeof Element.prototype.closest&&(Element.prototype.closest=function(e){var t=this;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&t.nodeType===Node.ELEMENT_NODE);return null}),"msCrypto"in window){var v=document.createTreeWalker;document.createTreeWalker=function(e,t,n,r){return void 0===r&&(r=!1),v.call(document,e,t,n.acceptNode,r)}}var g=n(1),y=n(8),O=n(25),j=n(17),w=new RegExp("("+["BetterJsPop","LOCAL_STORAGE is null","Can't find variable: auto","Can't find variable: ext","Can't find variable: $","_avast_submit","No license found in the URL.","getNewsReadStatus4Vivo","is banned!","Object Not Found Matching Id"].join("|")+")"),_=new RegExp("("+["chrome-extension://","https://www.smybeds.com/"].join("|")+")"),x=function(e){return!!(e.message&&w.test(e.message)||e.stack&&_.test(e.stack))};window.addEventListener("error",(function(e){var t=e.error;if(t)if(t.message&&-1!==t.message.indexOf("evaluating 'document.getElementById('view-chat').innerHTML'")){var n=Object(j.c)();if(10095588===n||7243681===n)return;Object(O.c)("custom_mobile_hacks",t)}else x(t)||Object(O.c)("onerror",t)})),window.addEventListener("unhandledrejection",(function(e){e&&e.reason&&(x(e.reason)||Object(O.c)("unhandledrejection",e.reason))}));var C=n(226),E=n(13),D=n(149),k=n(26),I=D.a.Model;D.a.Model=function(){return function(e){var t=Object(k.a)(),n={};return e.resolveRemoteCall=function(e){var t=e.id,r=e.value,i=n[t];delete n[t],i(r)},e.emitEvent=function(e){var n=e.event,r=e.data;t.emit(n,r)},new I(e).then((function(r){return r.call=function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];return new Promise((function(t){var o=Object(b.w)(n);n[o]=t,r.emit("remote-call",{id:o,method:e,args:i})}))},e.remoteCall=function(t){var n=t.id,i=t.method,o=t.args,a="function"===typeof e[i]?e[i].apply(r,o):void 0;a&&"function"===typeof a.then?a.then((function(e){r.call("resolveRemoteCall",{id:n,value:e})})):r.call("resolveRemoteCall",{id:n,value:a})},r.on=t.on,r.off=t.off,r}))}}();var S=D.a,A=n(147),T=n(18),F=n(9);var z,B=n(5),M=n(14),L=n(45),P=n(31),R=function(){return new Promise((function(e){return setTimeout(e,0)}))},q=function(e){return/px$/.test(e)?Math.ceil(parseFloat(e))+"px":e},N=function(e,t){var n=function(){return e.call("resize",function(e){return Object(g.a)({},e,{width:q(e.width),height:q(e.height)})}(t))};return Object(P.c)()?new Promise((function(t){e.call("applyHiddenStyles").then((function(){return requestAnimationFrame(t)}))})).then(n):n()},V=function(e){var t=e.minimizedRef;return t?Object(M.e)(["width","height"],t):{width:"0px",height:"0px"}},U=function(e){var t=!1,n=null,r=function e(){if(n&&!t){var r=n;return n=null,t=!0,r().then((function(){return t=!1,e()}))}};return function(){for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return n=e.bind.apply(e,[null].concat(i)),r()}}((function(e,t){var n=t.getApplicationState(),r=n.mobile,i=n.invitation,o=Object(F.W)(t,"maximized"),a=z,u=e.model,c=u.fullWidth,s=u.fullHeight,l=Object(F.d)(t),d=r&&!!l&&!Object(b.D)(l.properties.uniqueId,i.hiddenIds);z=o;var f=new Promise((function(n){a&&o?n():!a||o?a||!o?e.minimizedRef?(e.minimizedRef&&(e.minimizedRef.style.width="100%",e.minimizedRef.style.height="100%"),R().then((function(){N(e,{width:c,height:s,maximized:o,ignoreHorizontalOffset:d}).then((function(){e.minimizedRef&&(e.minimizedRef.style.width="",e.minimizedRef.style.height=""),R().then((function(){N(e,Object(g.a)({},V(e),{ignoreHorizontalOffset:d})).then(n)}))}))}))):N(e,{width:"0px",height:"0px",maximized:o,ignoreHorizontalOffset:d}).then(n):N(e,{width:c,height:s,maximized:o,ignoreHorizontalOffset:d}).then(n):t.once("animation_end",(function(){N(e,Object(g.a)({},V(e),{maximized:o,ignoreHorizontalOffset:d})).then(n)}))}));return Object(P.c)()?f.then((function(){return e.call("show")})):f})),H=function(e,t){return z=Object(F.W)(t,"maximized"),Object(B.y)(Object(L.c)(t,(function(e){return e.application.visibility.state})),Object(B.B)(1),Object(B.j)((function(){return U(e,t)}))),U(e,t)},G=n(88),W=n(61),$=n(89),Z=n(49),Y=n(52),K=n(83),J=n(43),X=n(136),Q={question:{type:"text"},checkbox_for_email:{type:"checkbox",meta:"confirm_subscription"},header:{type:"information"},skill:{type:"group_select"}},ee=function(e){return e.map((function(e,t){var n={};return Object(b.B)("label",e)&&(n.label=e.label),Object(b.B)("checked",e)&&(n.checked=e.checked),n.value=String(t),Object(b.B)("skill_id",e)&&(n.value=String(e.skill_id)),Object(b.B)("embedded_chat_hide_when_offline",e)&&(n.ticketFormDisabled=Boolean(e.embedded_chat_hide_when_offline)),Object(b.B)("queue_template",e)&&(n.queueTemplate=e.queue_template),n}))},te=function(e){var t=!1,n={fields:e.fields.sort((function(e,t){return e.order-t.order})).map((function(e,n){var r={};if("facebookConnect"===e.type)return t=!0,!1;e.id?r.name=e.id:-1===["header","information"].indexOf(e.type)&&(r.name=String(n)),Object(b.B)("value",e)&&(r.value=e.value),Object(b.B)("label",e)&&(r.label=e.label),Object(b.B)("required",e)&&(r.required=e.required),"rating"===e.type&&(r.commentLabel=e.options[0]),e.skills&&e.skills.length>0?r.options=ee(e.skills):e.options&&e.options.length>0&&(e.options_data?r.options=ee(e.options_data):Object(b.H)(e.options[0])?r.options=e.options.map((function(e,t){return{label:e.label,value:String(t)}})):r.options=e.options.map((function(e,t){return{label:e,value:String(t)}}))),e.serverType&&(r.serverType=e.serverType);var i=function(e){return{type:Q[e]&&Q[e].type||e,meta:Q[e]&&Q[e].meta||!1}}(e.type),o=i.type,a=i.meta;return r.type=o,a&&(r.meta=a),r})).filter(Boolean)};return e.id&&(n.id=e.id),t&&(n.facebookConnect=!0),n},ne=function(e){return Object(g.a)({},e,{fields:e.fields.map((function(e){switch(e.type){case"name":case"subject":return Object(g.a)({},e,{maxLength:1024});case"email":case"textarea":return Object(g.a)({},e,{required:!0});default:return e}}))})},re=function(e){var t=e.license,n=e.group,r=e.pageUrl,i=e.form,o=function(e,t){var n=Object(b.O)((function(e){return"message"===e?"textarea":e}),e);return t.fields.map((function(e){if("information"===e.type)return null;var t={type:e.type,text:"undefined"!==typeof document?Object(X.b)(e.label):e.label,serverType:e.serverType};return(e.name in n||e.type in n)&&("options"in e?t.value=Object(b.l)(n[e.name]).map((function(t){return Object(b.o)((function(e){return e.value===t}),e.options).label})).join(", "):e.name in n?t.value=n[e.name]:t.value=n[e.type],t.value=Object(b.yb)(t.value),t.text=t.text+" "+t.value),t})).filter(Boolean)}(e.answers,i),a=Object(b.o)((function(e){return"email"===e.type||"email"===e.serverType}),o),u=Object(b.o)((function(e){return"name"===e.type||"name"===e.serverType}),o);if(!a)throw new Error("Missing email");if(!Object(b.o)((function(e){return"textarea"===e.type}),o))throw new Error("Missing message");var c=Object(b.o)((function(e){return"subject"===e.type||"subject"===e.serverType}),o),s=o.filter((function(e){var t=e.type,n=e.serverType;return-1===["name","email","subject"].indexOf(n||t)})).map((function(e){return e.text})).join("\n");return Object(g.a)({},c&&c.value&&{subject:c.value},{message:{text:s},requester:Object(g.a)({email:a.value},u&&u.value&&{name:u.value}),integration:Object(g.a)({type:"livechat",ID:String(t),teamID:String(n)},r&&{referenceURL:r})})},ie=n(3),oe=n(142),ae=function(e){return e.replace(/index[0-9]*_/gi,"")},ue=function(e,t){var n=Object(b.o)((function(e){return"groupSelect"===e.meta}),e);return Object.keys(t).reduce((function(r,i){var o=t[i];if("rateComment"===i)return r.rateComment=o,r;if("rating"===i)return r.rate=null===o?o:ae(o),r;var a=Object(b.o)((function(e){return e.name===i}),e),u=a.serverName;return n&&u&&u===n.serverName&&(r.choosenGroupIndex=t[n.name].match(/index([0-9]*)_/)[1],r.choosenGroup=parseInt(ae(o),10)),a.options?r.fields[u]=Object(b.E)(o)?o.map(ae):ae(o):r.fields[u]=o,r}),{fields:{}})};function ce(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}var se={group_chooser:"select",header:"information",name:"text",question:"text",subject:"text",checkbox_for_email:"checkbox"},le=function(e,t){return e.getSessionUser().serverId===t.authorId},de=function(e,t){return le(e,t)?e.getSessionUser().id:t.authorId},fe=function(e,t){if("file"===t.type)return t.id;if(le(e,t))return"customId"in t&&e.hasEvent(ie.d,t.customId)?t.customId:t.id;var n=e.getEventByServerId(ie.d,t.id);return n?n.id:t.id},pe=function(e){return e.groupIds?e.groupIds[0]:null},he=function(e,t){var n=e.getSessionUser().serverId,r=Object(b.M)(t.filter((function(e){return e.present&&e.id!==n})));return r?r.id:null},me=function(e,t){var n=t.chat,r=t.chat,i=r.thread,o=r.users;return{id:n.id,active:i.active,agent:he(e,o),events:i.events.map((function(t){return je(e,Object(g.a)({},t,{seen:!1}))})).filter(Boolean),group:pe(n.access),thread:i.id,properties:ke(i)}},be=function(e,t){return Object(g.a)({},t,{type:e,fields:t.fields.reduce((function(e,t){var n=t.id,r=Object(y.a)(t,["id"]),i=Object(g.a)({},r,{type:se[r.type]||r.type,serverName:n,serverType:r.type});if("information"===i.type)i.value=i.label.replace(/<br(\s)?(\/)?>/gi,"\n");else if("checkbox_for_email"===r.type)i.meta="confirm_subscription",i.label="",i.options=[{label:r.label,checked:r.checked,value:"index0_0",originalValue:"0"}],r.checked&&(i.defaultValue=[i.options[0].value]);else if(r.options){var o="group_chooser"===r.type;o&&(i.meta="groupSelect"),i.options=i.options.map((function(e,t){var n=o?e.groupId:e.id;return Object(g.a)({},Object(b.X)(["id","checked"],e),{value:"index"+t+"_"+n,originalValue:String(n)})}))}return i.name=Object(b.D)(r.type,["name","email","rating"])?r.type:Object(b.v)()+"_"+n,"rating"===r.type?[].concat(e,[i,{name:"rateComment",type:"textarea",label:i.commentLabel,required:!1,dependOn:"rating"}]):[].concat(e,[i])}),[])})},ve=function(e){return ne(be("ticket",e))},ge=function(e,t){var n=e.getSessionUser().serverId,r=t[n],i=Object(y.a)(t,[n].map(ce));return{sessionUserSeenUpTo:r,latestOtherUserSeenUpTo:Object(b.M)(Object(b.Bb)(i).filter(Boolean).sort())}},ye=function(e,t){var n=t.thread,r=t.users,i=t.eventsSeenUpToMap,o=n.id,a=n.active,u=n.events,c=n.access,s=e.getSessionUser().serverId,l=ge(e,i),d=l.sessionUserSeenUpTo,f=l.latestOtherUserSeenUpTo;return{thread:n?{id:o,active:a,agent:a?he(e,r):null,events:u.map((function(t){var n=t.authorId===s?f>=t.createdAt:d>=t.createdAt;return je(e,Object(g.a)({},t,{seen:n}))})).filter(Boolean),group:pe(c),properties:ke(n)}:null,eventsSeenUpToMap:i}},Oe=function(e){var t=e.properties,n=Object(y.a)(e,["properties"]);if("lc2"in t){var r=t.lc2;if("greeting_unique_id"in r)return function(e,t){var n=oe.c(Object(g.a)({},e));return n.properties=Object(g.a)({},n.properties,{invitation:!0,subtype:e.subtype,id:t.greeting_id,uniqueId:t.greeting_unique_id}),n}(n,r);if(r.welcome_message)return function(e){return oe.c(Object(g.a)({},e,{welcomeMessage:!0}))}(n)}return function(e,t){return oe.c(Object(g.a)({},e,t.url_details&&{urlDetails:t.url_details},t.translation&&{translation:Ae(t.translation)}))}(n,t)},je=function(e,t){var n=Object(g.a)({},t,{id:fe(e,t),serverId:t.id,authorId:de(e,t),timestamp:new Date(t.createdAt).getTime()});switch(n.type){case"form":return _e(n);case"filled_form":return xe(n);case"message":return Oe(n);case"rich_message":return function(e){if("lc2"in e.properties&&"greeting_unique_id"in e.properties.lc2){var t=oe.d(e);return t.properties=Object(g.a)({},t.properties,{invitation:!0,subtype:e.subtype,id:e.properties.lc2.greeting_id,uniqueId:e.properties.lc2.greeting_unique_id}),t}return oe.d(e)}(n);case"file":return oe.b(n);case"system_message":return Ce(n);case"custom":return we(n);default:return null}},we=function(e){var t=e.properties,n=e.customId;return Object(g.a)({},oe.a(e),{type:"custom",properties:Object(g.a)({},t,{customId:n})})},_e=function(e){var t,n=Object(g.a)({},e,{fields:e.fields.map((function(e){return e.id?e:Object(g.a)({},e,{id:Object(b.v)()})}))});return Object(g.a)({},oe.a(n),{type:"form",properties:{answered:!1,formType:(null==(t=n.properties.lc2)?void 0:t.form_type)||null,fields:be("",n).fields,formId:n.formId.replace(/_[0-9]+/,"")}})},xe=function(e){var t;return Object(g.a)({},oe.a(e),{type:"form",properties:{answered:!0,formId:e.formId,formType:(null==(t=e.properties.lc2)?void 0:t.form_type)||null,fields:e.fields.filter((function(e){return"answer"in e||"answers"in e&&0!==e.answers.length})).map((function(e){if("string"===typeof e.answer)return e;if("answers"in e){var t=e.answers,n=Object(y.a)(e,["answers"]);return Object(g.a)({},n,{answer:t.map((function(e){return e.label}))})}return Object(g.a)({},e,{answer:e.answer.label})}))}})},Ce=function(e){switch(e.systemMessageType){case"archived_customer_disconnected":case"routing.archived_inactive":return oe.e(Object(g.a)({},e,{systemMessageType:"client_inactive"}));case"manual_archived_agent":return oe.e(Object(g.a)({},e,{systemMessageType:"operator_closed_session",textVars:{operator:e.textVars.agent}}));case"manual_archived_customer":return oe.e(Object(g.a)({},e,{systemMessageType:"chat_closed_by_customer"}));case"system_archived":case"customer_banned":case"routing.archived_deleted":case"routing.archived_disconnected":case"routing.archived_offline":case"routing.archived_other":case"routing.archived_remotely_signed_out":case"routing.archived_signed_out":return oe.e(Object(g.a)({},e,{systemMessageType:"chat_session_closed"}));case"routing.assigned_other":return oe.e(Object(g.a)({},e,{systemMessageType:"user_transfer",textVars:{operator:e.textVars.agent}}));case"routing.assigned_deleted":case"routing.assigned_disconnected":case"routing.assigned_inactive":case"routing.assigned_remotely_signed_out":case"routing.assigned_signed_out":return oe.e(Object(g.a)({},e,{systemMessageType:"user_transfer",textVars:{operator:e.textVars.agent_added}}));case"chat_transferred":return oe.e(Object(g.a)({},e,{systemMessageType:"user_transfer",textVars:{operator:e.textVars.targets}}));case"agent_joined":case"agent_added":return oe.e(Object(g.a)({},e,{systemMessageType:"operator_joined_conference",textVars:{operator:e.textVars.agent}}));case"agent_left":case"agent_removed":return oe.e(Object(g.a)({},e,{systemMessageType:"operator_left_conference",textVars:{operator:e.textVars.agent}}));case"rating.chat_rated":return oe.e(Object(g.a)({},e,{systemMessageType:"rate_me_confirmation_"+e.textVars.score}));case"rating.chat_commented":return oe.e(Object(g.a)({},e,{systemMessageType:"rate_me_comment_added",textVars:{comment:e.textVars.comment}}));case"rating.chat_rating_canceled":return oe.e(Object(g.a)({},e,{systemMessageType:"rate_me_cancel"}));case"custom":e.systemMessageType;var t=Object(y.a)(e,["systemMessageType"]);return oe.e(t);default:return null}},Ee=function(e){var t=e.score,n=e.comment;return Object(g.a)({},"number"===typeof t&&{rate:1===t?"good":"bad"},"string"===typeof n&&{rateComment:n})},De=function(e){return{position:e.position,waitingTime:e.waitTime}},ke=function(e){return Object(g.a)({},"rating"in e.properties&&Ee(e.properties.rating),e.queue&&{queue:De(e.queue)})},Ie=function(e,t){var n,r={event:je(e,t.event),author:Object(g.a)({},t.agent,{type:"agent"})};return r.event.properties=Object(g.a)({},r.event.properties,{invitation:!0,id:t.id,addon:t.addon,uniqueId:t.uniqueId,accepted:t.accepted,type:(n=r.event,n.properties.quickReplies?"quick_replies":"rich_message"===n.type?"card":"plain_text"),subtype:t.subtype,receivedFirstTime:t.displayedFirstTime}),r},Se=function(e,t){var n=t.type,r=t.id;switch(n){case"filled_form":var i=t.formId,o=Object(y.a)(t,["formId"]);return Object(g.a)({customId:o.customId,formId:i},o);case"emoji":case"message":case"message_draft":case"url_preview":var a=t.properties,u=a.text,c=a.triggeredBy,s={type:"message",customId:r,text:u};if(c){var l,d=e.getEvent(ie.d,c.event);if(d&&d.thread&&d.serverId)s.postback={id:c.button.postbackId,type:"message",value:c.button.value,eventId:d.serverId,threadId:d.thread};else s.properties=((l={}).c5e4f61e1a6c3b1521b541bc5c5a2ac5={postback_id:c.button.postbackId},l)}return s;case"custom_system_message":var f=t.properties,p=f.recipients;return{type:"system_message",customId:r,text:f.text,recipients:p,systemMessageType:"custom"};default:return void 0}},Ae=function(e){return{sourceLangCode:e.source_lang_code,targetLangCode:e.target_lang_code,targetMessage:e.target_message}},Te=n(71),Fe=function(e,t){var n=F.f(e,ie.d);return n?Object(g.a)({},t,{events:t.events.map((function(e){return e.properties.welcomeMessage||e.properties.invitation?Object(g.a)({},e,{id:n.id}):e}))}):t},ze=function(e){return Object(g.a)({},e,{properties:Object(g.a)({},e.properties,{accepted:!0})})},Be=function(e,t){var n=e.sdk,r=t.event.properties,i=r.uniqueId,o=r.id;return n.acceptGreeting({greetingId:o,uniqueId:i}).then((function(){return ze(t)}),(function(e){if("INTERNAL"===e.code)return ze(t);throw e}))},Me=function(e,t){var n,r=e.sdk,i=e.store,o=void 0===t?{}:t,a=o.group,u=o.customerStartingEvent,c=o.agentFakeEvent,s={chat:{thread:{properties:{}},properties:{}}};F.H(i)&&(s.continuous=!0,s.chat.properties.routing={email_follow_up:!0}),"number"===typeof a&&(s.chat.access={groupIds:[a]});var l={};if("filled_form"===(null==u?void 0:u.type)){var d,f,p=Object(b.db)(Boolean,{name:null==(d=Object(b.o)((function(e){return"name"===e.type}),u.fields))?void 0:d.answer,email:null==(f=Object(b.o)((function(e){return"email"===e.type}),u.fields))?void 0:f.answer});l=Object(g.a)({},p)}var h=i.getSessionUser();h.name&&"Customer"!==h.name||(l.name=i.localize("client"));var m=Object(b.F)(l)?Promise.resolve():r.updateCustomer(l).catch((function(e){return Object(O.c)("update_customer_request_failed",e)}));if("ticket"===(null==u||null==(n=u.properties.lc2)?void 0:n.form_type))s.active=!1,s.chat.thread.properties.routing={offline_message:!0},s.chat.thread.events=[Se(i,u)];else{var v=i.getEvents(ie.d).filter((function(e){return e.type===ie.g&&null===e.serverId}));if(Object(b.F)(v)||(s.chat.thread.events=v.map((function(e){return Se(i,e)}))),u){var y=Se(i,u);Object(b.E)(s.chat.thread.events)?s.chat.thread.events.push(y):s.chat.thread.events=[y]}c&&(s.chat.thread.properties=function(e){return{lc2:Object(g.a)({welcome_author_id:e.author},e.properties.invitation?{greeting_id:e.properties.id,greeting_unique_id:e.properties.uniqueId}:{welcome_text:e.properties.originalText})}}(c))}var j=i.getChat(ie.d).serverId;return j?m.then((function(){return r.resumeChat(Object(g.a)({},s,{chat:Object(g.a)({},s.chat,{id:j})}))})).then((function(e){return Fe(i,me(i,e))})):m.then((function(){return r.startChat(s)})).then((function(e){return Fe(i,me(i,e))}))},Le=function(e){return e.sdk.listChats().then((function(e){var t=e.chatsSummary,n=Object(b.M)(t);return n?function(e){var t=e.id,n=e.active,r=e.access;return{id:t,active:n,lastThreadId:e.lastThreadId,group:pe(r)}}(n):null}))},Pe=function(e,t){var n=e.sdk,r=t.groupIds;return n.listGroupStatuses({groupIds:r}).then((function(e){return r.reduce((function(t,n){var r=e[n];return t[n]=r?function(e){return"offline"===e?"offline":"online"}(r):"not_found",t}),{})}))},Re=function(e,t){var n=e.store;return Object(Te.b)({licenseId:n.getApplicationState().license,groupId:t.groupId,region:t.region,version:t.localizationVersion,language:t.language})},qe=function(e,t,n){var r=e.sdk;return void 0===n&&(n=be),r.getForm(t).then((function(e){return e.enabled?{enabled:!0,form:n(t.type,e.form)}:e})).catch((function(e){return Object(O.c)("get_form_request_failed",e),{enabled:!1}}))},Ne=function(e,t){return qe(e,{groupId:t,type:"postchat"})},Ve=function(e,t){return qe(e,{groupId:t,type:"ticket"},(function(e,t){return ve(t)}))},Ue=function(e,t){var n=e.store,r=t.groupId,i=n.getApplicationState(),o=i.license,a=i.region;return Object(Te.d)({licenseId:o,groupId:r,region:a,version:"tfm"}).then(j.d)},He=function(e,t){var n=e.sdk,r=t.chatId;return n.getChat({chatId:r}).then((function(e){return{users:e.users,eventsSeenUpToMap:e.eventsSeenUpToMap}}))},Ge=function(e,t){var n=e.sdk,r=e.store,i=t.chatId,o=t.threadId;return n.getChat({chatId:i,threadId:o}).then((function(e){return ye(r,e)}))},We=function(e,t){return t.next().then((function(t){var n=t.value,r=t.done;return n?{value:n.threads.map((function(t){return function(e,t){var n=t.thread,r=n.id,i=n.active,o=n.events,a=n.access,u=e.getChat(ie.d).properties.eventsSeenUpToMap,c=e.getSessionUser().serverId,s=ge(e,u),l=s.sessionUserSeenUpTo,d=s.latestOtherUserSeenUpTo;return{id:r,active:i,events:o.map((function(t){var n=t.authorId===c?d>=t.createdAt:l>=t.createdAt;return je(e,Object(g.a)({},t,{seen:n}))})).filter(Boolean),group:pe(a),properties:ke(n)}}(e,{thread:t})})),done:r}:{value:n,done:r}})).catch((function(e){if("NOT_FOUND"===e.code)return{value:[],done:!0};throw e}))},$e=function(e,t){var n=e.sdk,r=e.store,i=n.getChatHistory({chatId:t});return Promise.all([i.next(),He({sdk:n,store:r},{chatId:t})]).then((function(e){var t=e[0],n=t.value,o=t.done,a=e[1],u=a.users,c=a.eventsSeenUpToMap,s=Object(b.K)("id",u);if(n&&n.threads.some((function(e){return e.events.some((function(e){return"system"!==e.authorId&&!(e.authorId in s)}))}))){var l=new Error;throw l.code="MISSING_USER",l}return{threads:n&&n.threads.map((function(e){return ye(r,{thread:e,users:u,eventsSeenUpToMap:c}).thread})),eventsSeenUpToMap:c,hasMore:!o,iterator:{next:function(){return We(r,i)}}}})).catch((function(e){if("NOT_FOUND"===e.code)return{threads:[],hasMore:!1};throw e}))},Ze=function(e,t){return e.filter((function(e){return e.serverName in t})).map((function(e){return{type:e.type,label:e.label,value:e.options?Object(b.l)(t[e.serverName]).map((function(t){return Object(b.o)((function(e){return e.originalValue===t}),e.options).label})).join(", "):t[e.serverName]}}))},Ye=function(e,t,n,r){e.emit("on_"+t+"_survey_submitted",{form_data:Ze(n,r)})},Ke=function(e,t){e.emit("on_rating_comment_submitted",t)},Je=function(e,t){e.emit("on_rating_submitted",null===t?"none":t)},Xe=function(e,t,n){e.emit("on_message",{text:t.properties.text,timestamp:n/1e3,user_type:"visitor",visitor_name:e.getSessionUser().name})},Qe="CANCEL",et="NOTHING",tt="SET";var nt=function(e){var t=Object.keys(e);return Promise.all(Object(b.Bb)(e)).then((function(e){return Object(b.u)(Object(b.Cb)(t,e))}))},rt=n(70),it=n(41),ot=function(e){return e.fields.map((function(e){switch(e.type){case"question":case"textarea":var t=e.answer;return t?e.label+" "+t:e.label;case"radio":case"select":var n,r=null==(n=e.answer)?void 0:n.label;return r?e.label+" "+r:e.label;case"checkbox":var i,o=null==(i=e.answers)?void 0:i.map((function(e){return e.label})).join(", ");return o?e.label+" "+o:e.label;default:return""}})).filter(Boolean).join("\n")},at=n(23),ut=function(e,t){return Object(b.c)(function(){switch(t.code){case"TOO_BIG_FILE":return e.localize("cannot_upload_a_file_over_10mb");case"VALIDATION":return"No active chat thread"===t.message?e.localize("closed_chat_upload_failed"):e.localize("upload_failed");default:return e.localize("upload_failed")}}())},ct=function(e){var t=e.getChat(ie.d).properties,n=t.rate,r=t.rateComment,i=t.queued,o=e.getView("Chat/queue");return{rate:n,rateComment:r,queue:i?{position:o.numberInQueue,waitingTime:o.waitingTime}:null}},st={acceptingGreeting:!1,requestingPredictedWelcomeMessage:!1},lt=function(e,t,n){var r=!t.getApplicationState("clientLimitExceeded")||!t.getApplicationState("embedded")||t.getApplicationState("actingAsDirectLink")||t.getApplicationState("isInCustomContainer"),i=function(e,t){var n=t.license,r=t.requestedGroup,i=t.group,o=t.region,a=t.uniqueGroups,u=t.autoConnect,c=t.mobile,s=t.identityProvider,l=e.getApplicationState("page"),d={licenseId:n,clientId:"c5e4f61e1a6c3b1521b541bc5c5a2ac5",mobile:c,region:o,page:Object(b.cb)(["url","title"],l),referrer:l.referrer,autoConnect:u,application:{channelType:Object(F.a)(e)},uniqueGroups:a,identityProvider:s,customerDataProvider:function(){var t=e.getSessionUser(),n={};return t.name&&(n.name=t.name),t.email&&(n.email=t.email),t.properties&&!Object(b.F)(t.properties)&&(n.sessionFields=Object(b.L)(t.properties).length<=ie.f?t.properties:Object(b.u)(Object(b.m)(t.properties).slice(0,ie.f))),n}};return a?d.groupId=i:null!==r&&(d.groupId=r),Object($.a)(d,"production")}(t,Object(g.a)({},e,{autoConnect:r})),o={sdk:i,store:t},a=Object(Y.a)(),u=null,c={};!0===n.s&&t.setApplicationState({s:!0}),n.prechatForm&&t.updateView("Chat/prechat",be("prechat",n.prechatForm)),n.ticketForm&&t.updateView("Chat/ticketForm",ve(n.ticketForm)),n.__unsafeProperties.group.chatBoosters&&Object(T.h)(t,n.__unsafeProperties.group.chatBoosters);var s=function(){(Object(F.db)(ie.d,t)||t.getApplicationState().destroyed)&&(Object(T.r)(t),t.updateView("minimized",{hidden:!0}))},l=function(){i.destroy(),t.setApplicationState({destroyed:!0}),s()},d=function(e,n){Object(F.E)(t)&&!u&&(u=n||function(e,t){var n=e.sdk,r=e.store,i=n.getChatHistory({chatId:t});return{next:function(){return We(r,i)}}}(o,{chatId:e}))},f=function(e){var n=e.id,r=e.active,i=e.group,o=e.thread,a=e.agent,u=e.events,c=e.properties,s=!!c.queue;if(d(n),u.forEach(S),Object(T.l)(t,{id:n,active:r,thread:o,group:i,queued:s,agent:a}),Object(F.jb)(t)){var l=c.queue,f=l.position,p=l.waitingTime;t.updateView("Chat/queue",{numberInQueue:f,waitingTime:p})}},p=function(){return t.getChat(ie.d).properties.lastThread},h=function(e){return"good"===e?1:"bad"===e?0:null},m=function(e){return i.rateChat({chatId:Object(F.b)(t),rating:Object(b.f)({comment:e.rateComment,score:h(e.rating)})}).then((function(){t.updateChat(ie.d,{properties:Object(b.f)({rate:e.rating,rateComment:e.rateComment})})}),b.V)},v=function(e){return i.cancelRate({chatId:Object(F.b)(t),properties:e}).then((function(){t.updateChat(ie.d,{properties:e.reduce((function(e,t){return"comment"===t?e.rateComment=null:"score"===t&&(e.rate=null),e}),{})})}),b.V)},w=function(e){var n=t.getChat(ie.d).properties,r=n.rate,i=n.rateComment,o={comment:et,score:et};e.rating!==r&&(o.score=null===e.rating?Qe:tt);var a="string"===typeof e.rateComment&&""!==e.rateComment;return i&&!a||o.score===Qe&&i?o.comment=Qe:!a||i&&e.rateComment===i||(o.comment=tt),o},_=function(){return Ve(o,t.getApplicationState("group")).then((function(e){e.enabled?(t.updateView("Chat/ticketForm",e.form),Object(T.I)(t),t.setCurrentView("Chat")):t.setCurrentView("Chat")}))},x=function(){var e=Object(F.X)(t);Object(T.k)(t),e||Ne(o,D()).then((function(e){var n=e.enabled,r=e.form;n&&Object(T.G)(t,r)}),b.V)},C=function(e){var t=e.getApplicationState().availability,n=e.getChat(ie.d).properties.postponedGreeting;"online"===t&&n?Promise.resolve().then((function(){e.updateChat(ie.d,{properties:{postponedGreeting:void 0}}),st.acceptingGreeting=!0,Be(o,n).then((function(t){st.acceptingGreeting=!1,z(t),e.setDefaultView("Chat","timeline")}),(function(){st.acceptingGreeting=!1}))})):e.setDefaultView("Chat","timeline")},D=function(){var e=t.getChat(ie.d).properties.group,n=t.getApplicationState("group");return"number"===typeof e?e:n},k=function(e){var n=function(e,t){if(t.id===e.getSessionUser().serverId||"customer"===t.type){var n={id:t.id,type:"customer"};return t.name&&"Customer"!==t.name&&(n.name=t.name),t.email&&(n.email=t.email),t.sessionFields&&(n.properties=t.sessionFields),n}return{id:t.id,type:t.type,name:t.name,avatar:"https://"+Object(E.l)(t.avatar),properties:{jobTitle:t.jobTitle,isBot:t.isBot||!1}}}(t,e);if(t.getSessionUser().serverId!==n.id)return t.getUser(n.id)?(n.properties||Object(O.c)("no_parsed_user_properties",new Error,{meta:JSON.stringify({user:e,parsedUser:n})}),void(n.properties.isBot&&t.updateUser(n.id,{properties:{isBot:!0}}))):void t.addUser(n);t.updateUser(t.getSessionUserId(),Object(b.fb)(["name","email","properties"],n))},I=function(e){var n=ct(t),r={};if("rate"in e&&n.rate!==e.rate&&(r.rate=e.rate),"rateComment"in e&&n.rateComment!==e.rateComment&&(r.rateComment=e.rateComment),"queue"in e&&!Object(b.kb)(n.queue,e.queue)){var i=e.queue;!t.getChat(ie.d).properties.ended&&i?function(e,t){var n=t.thread,r=t.numberInQueue,i=t.waitingTime,o={active:!0,properties:{queued:!0}};n&&(o.properties.lastThread=n),e.updateChat(ie.d,o),e.updateView("Chat/queue",{numberInQueue:r,waitingTime:i})}(t,{numberInQueue:i.position,waitingTime:i.waitingTime}):r.queued=!1}t.updateChat(ie.d,{properties:r})},S=function(e){Object(T.d)(t,ie.d,e),"message"===e.properties.serverType&&t.getApplicationState("readyState")!==at.a.NOT_READY&&function(e,t){var n=e.getEvent(ie.d,t),r=n.author,i=n.timestamp,o=n.properties.text,a=e.getUser(r),u=a.type,c={text:o,timestamp:Math.floor(i/1e3),user_type:"agent"===u?u:"visitor"};"agent"===u?(c.agent_name=a.name,c.agent_login=a.id):c.visitor_name=a.name,e.emit("on_message",c)}(t,e.id)},A=function(e){var n=je(t,e);n&&("form"!==n.type||n.properties.answered||"ask_for_email"!==n.properties.formId||(Math.random()<.01&&Object(O.d)("ask_for_email_form_received",{}),t.hasEvent(ie.d,ie.b)&&t.removeEvent(ie.d,ie.b)),S(n))},z=function(e){var n=e.author,r=e.event;k(n);var i=t.getChat(ie.d),o=i.serverId;i.properties.ended&&Object(T.z)(t,ie.d,{chatId:o});var a=Object(F.f)(t,ie.d);a&&t.removeEvent(ie.d,a.id),Object(T.a)(t),Object(T.n)(t,r)},M=function(e){if(!st.requestingPredictedWelcomeMessage)if(Object(F.L)(t,"postchat"))t.updateChat(ie.d,{properties:{postponedGreeting:e}});else if(Object(F.Z)(ie.d,t)){if(!e.event.properties.accepted)return t.getApplicationState("greetingsMuted")&&!Object(F.W)(t,"maximized")?(t.updateChat(ie.d,{properties:{mutedGreeting:e}}),void z(e)):(st.acceptingGreeting=!0,Be(o,e).then((function(e){st.acceptingGreeting=!1,z(e)}),(function(){st.acceptingGreeting=!1})));z(e)}},P=function(e){return!!e&&-1!==e.indexOf(t.getApplicationState("group"))},R=function(e){var n=(void 0===e?{}:e).withSystemMessage,r=void 0!==n&&n;if(t.setApplicationState({limitReached:!0,clientLimitExceededLifted:!1}),Object(T.x)(t),r){var i=Object(F.D)(t)?"Sorry we couldn't connect you with an agent, but you can still leave us a ticket":"Sorry, but we couldn't connect you with an agent. Try refreshing the page or come back later.";Object(T.b)(t,ie.d,{text:i})}Object(F.D)(t)&&Object(T.I)(t)};i.on("thread_properties_deleted",(function(e){var n=e.threadId,r=e.properties;n===p()&&"rating"in r&&Object(b.D)("score",r.rating)&&I(Object(g.a)({},ct(t),{rate:null}))})),i.on("thread_properties_updated",(function(e){var n=e.threadId,r=e.properties;n===p()&&"rating"in r&&I(Object(g.a)({},ct(t),Ee(r.rating)))})),i.on("queue_position_updated",(function(e){var n=e.threadId,r=e.queue;n===p()&&I(Object(g.a)({},ct(t),{queue:De(r)}))})),i.on("chat_transferred",(function(e){if("groupIds"in e.transferredTo){var n=e.transferredTo.groupIds[0];t.updateChat(ie.d,{properties:{group:n}}),e.queue&&I(Object(g.a)({},ct(t),{queue:De(e.queue)}))}})),i.on("customer_updated",(function(e){var n=t.getSessionUserId();t.updateUser(n,Object(b.fb)(["name","email"],e)),e.sessionFields&&t.setUserProperties(n,e.sessionFields),t.emit("customer_updated")})),i.on("event_properties_updated",(function(e){var n=e.chatId,r=e.threadId,i=e.eventId,o=e.properties;if(n===Object(F.b)(t)&&r===p()&&"translation"in o){var a=t.getEventByServerId(ie.d,i);if(!a)return;t.updateEvent(ie.d,a.id,{properties:{translation:Ae(o.translation)}})}})),i.on("event_updated",(function(e){var n=e.chatId,r=e.threadId,i=e.event;if(n===Object(F.b)(t)&&r===p()&&Object(b.x)("properties.lc2.welcome_message",i)){var o=t.getEventByServerId(ie.d,i.id);i.authorId!==o.author&&(t.setEventData(ie.d,o.id,{author:i.authorId}),t.recalculateTimeline(ie.d)),i.text!==o.properties.text&&t.updateEvent(ie.d,o.id,{properties:{text:i.text}})}})),t.on("set_application_state",(function(e){var n=e.pageFocused;Object(F.J)(t)&&n&&(t.setConnectionState(Z.d),i.connect())})),i.on("disconnected",(function(e){var n=e.reason;switch(n){case"access_denied":case"identity_mismatch":case"too_many_connections":return Object(O.c)(n),void l();case"customer_banned":case"license_not_found":case"unsupported_version":case"inactivity_timeout":return void(t.getApplicationState("pageFocused")||(t.setConnectionState(Z.b),i.disconnect()));case"users_limit_reached":return void R({withSystemMessage:!1});default:return"connection_timeout"===n&&Math.random()<=.1?Object(O.f)("connection_timeout"):Math.random()<=1e-4&&Object(O.f)("disconnected",{reason:n}),void t.setConnectionState(Z.d)}})),i.on("user_added_to_chat",(function(e){var n=e.chatId,r=e.user;if(e.present&&n===Object(F.b)(t)&&t.getSessionUser().serverId!==r.id){var i=Object(F.c)(ie.d,t);i&&i.id===r.id||(I(Object(g.a)({},ct(t),{queue:null})),Object(T.D)(t,r.id))}})),i.on("user_removed_from_chat",(function(e){var n=e.chatId,r=e.userId;if(n===Object(F.b)(t)&&(t.removeParticipant(ie.d,r),t.getSessionUser().serverId!==r)){var i=Object(F.c)(ie.d,t);i&&i.id===r&&(t.getChat(ie.d).properties.ended||Object(T.D)(t,null))}})),i.on("user_data",k),function(e,t){e.on("send_snapshot",(function(n){var r=n.requestId,i=n.snapshot,o=n.screen;t.uploadFile({file:new Blob([i],{type:"text/plain;charset=utf-8"})}).promise.then((function(n){t.sendEvent({chatId:Object(F.b)(e),event:{type:"custom",customId:"cyber-finger-snapshot-"+r,content:{url:n.url,screen:o}}}),Object(O.d)("snapshot_sent",{chatId:Object(F.b)(e)})})).catch(b.V)}))}(t,i),i.on("greeting_canceled",(function(e){var n=e.uniqueId,r=t.getEvents(ie.d),i=Object(b.q)((function(e){return e.properties.uniqueId===n}),r);i&&(Object(F.mb)(t)&&Object(F.I)(t)&&t.setApplicationState({greetingsMuted:!0}),t.removeEvent(ie.d,i.id))}));var q=function(){Object(F.db)(ie.d,t)&&Object(T.r)(t),t.setApplicationState({readyState:at.a.READY,ready:!0})},N=function(e){var r=e.dynamicConfig,i=e.chatId,a=function(e,t){var n=e.monitoring,r=e.chats,i=Object.keys(r).find((function(e){return Object(b.D)(t,r[e].chat_ids)}));if(i!==n.id&&r[i].language_config_url){var o=r[i].language_config_url.split(".");return{groupId:parseInt(o[2]),language:o[1],localizationVersion:o[3]}}}(r.customer_groups,i);if(a)return{queueTemplate:Re(o,Object(g.a)({},a,{region:n.region})).then((function(e){return e.user_in_queue})).catch((function(){var e;return Promise.resolve(null==(e=t.getState().localization)?void 0:e.user_in_queue)}))}},V=function(e){var n=e.active,r=e.chatId,i=e.lastThreadId,a=e.becameInactive;if(Object(F.E)(t))return{fetchedHistory:$e(o,r)};if(a){var u=t.getChat(ie.d);return{fetchedThread:Ge(o,{chatId:r,threadId:u.properties.lastThread})}}return n?{fetchedThread:Ge(o,{chatId:r,threadId:i})}:void 0},U=function(e){return e.filter((function(e){return!(t.hasEvent(ie.d,e.id)||"form"===e.type&&"ticket"===e.properties.formType)}))},H=function(e){U(e).forEach(S)},W=function(e,n){var r=e.eagerFetchingMode,i=n.thread,o=n.eventsSeenUpToMap;if(i){var a=i.id,u=i.active,c=i.agent,s=i.group,l=i.events,d=i.properties,f=t.getChat(ie.d),p=!u&&f.active;t.updateChat(ie.d,{active:u,properties:Object(g.a)({ended:f.properties.ended,lastThread:a,group:s,eventsSeenUpToMap:o},p&&{ended:!0,queued:!1,agentIsTyping:!1})}),u&&Object(T.D)(t,c),I(Object(g.a)({rate:null},d,{queue:u&&"queue"in d?d.queue:null},!r&&!u&&{rate:null,rateComment:null})),u&&Object(T.a)(t),H(l)}},Q=function(e){null===Object(F.x)(t,ie.d)&&t.updateChat(ie.d,{properties:{hasMoreHistory:e}})};i.on("connected",(function(e){var n=e.__unsafeDynamicConfig,r=e.__unsafeChats,u=e.greeting,l=e.availability,f=e.customer;clearTimeout(ee),t.getApplicationState().limitReached&&t.setApplicationState({limitReached:!1});var h,m=function(e){var n=t.getSessionUser(),r={};return n.name&&e.name!==n.name&&(r.name=n.name),n.email&&e.email!==n.email&&(r.email=n.email),Object(b.F)(n.properties)||Object(b.kb)(n.properties,e.sessionFields)||(r.sessionFields=Object(b.F)(e.sessionFields)?n.properties:Object(b.u)(Object(b.m)(n.properties).reduce((function(t,n){var r=n[0],i=n[1];return r in e.sessionFields?t:[].concat(t,[[r,i]])}),[]))),Object(b.F)(r)?null:r}(f);m&&function(e){var t=e.customerData,n=e.usedSessionFieldsNumber,r=function(e){i.updateCustomer(e).catch((function(e){return Object(O.c)("update_customer_request_failed",e)}))};t.sessionFields?Object(b.m)(t.sessionFields).slice(0,ie.i-n).reduce((function(e,t){return Object(b.F)(e)||Object(b.M)(e).length>=ie.f?e.push([t]):Object(b.M)(e).push(t),e}),[]).map(b.u).reduce((function(e,n,i){return e.then((function(){return r(Object(g.a)({},0===i&&t,{sessionFields:n}))}))}),Promise.resolve()):r(t)}({customerData:m,usedSessionFieldsNumber:Object(b.L)(f.sessionFields||{}).length}),k(f),"boolean"!==typeof t.getApplicationState().isReturning&&t.setApplicationState({isReturning:f.statistics.visitsCount>1}),t.setApplicationState({clientChatNumber:f.statistics.threadsCount||0,clientVisitNumber:f.statistics.visitsCount||0,clientLastVisitTimestamp:n.customer_data.last_visit_timestamp,clientPageViewsCount:f.statistics.pageViewsCount||0}),c={availability:l,greeting:Object(F.lb)(t)&&u&&Ie(t,u)},Promise.resolve().then((function(){if(r.length){var e=r[0],i=e.id,a=e.active,u=e.hasUnreadEvents;Object(F.E)(t)&&t.setApplicationState({hasUnseenEvents:u});var c=!a&&t.getChat(ie.d).active;h={active:a,chatId:i,becameInactive:c,dynamicConfig:n},null===t.getChat(ie.d).serverId&&t.setChatServerId(ie.d,i);var s=t.getApplicationState().eagerFetchingMode;if(a||Object(F.W)(t,"maximized")||s)return Le(o)}})).then((function(e){return e?(h.group=e.group,h.lastThreadId=e.lastThreadId,h.becameInactive?nt(Object(g.a)({chatSummary:e},function(e){var n=e.group;if(!Object(F.X)(t)){var r=Object(F.E)(t)?n:D();return{postchatForm:Ne(o,r).catch((function(){return{enabled:!1}}))}}}(h),V(h))):e.active?nt(Object(g.a)({chatSummary:e},N(h),V(h))):nt(Object(g.a)({chatSummary:e},V(h)))):nt({})})).then((function(e){return!!e.chatSummary&&e.chatSummary.active?e:nt(Object(g.a)({},e,{maximizedDecisionActions:ft()?dt({active:!1,availability:c.availability,connected:!0,hasFakeAgentMessage:Object(F.z)(t,ie.d)||!!c.greeting}):null}))})).then((function(e){var n=e.queueTemplate,r=e.chatSummary,i=e.postchatForm,o=e.maximizedDecisionActions,a=Object(y.a)(e,["queueTemplate","chatSummary","postchatForm","maximizedDecisionActions"]),u=c;if(c={},n&&t.setLocalization({user_in_queue:n}),t.setApplicationState({availability:u.availability}),!r)return o&&(Object(T.a)(t),gt(o)),u.greeting?M(u.greeting):void 0;var s={chatId:r.id,eagerFetchingMode:t.getApplicationState().eagerFetchingMode};t.setApplicationState({eagerFetchingMode:!0});var l=p()&&r.lastThreadId!==p();if(Object(F.E)(t)){var f=a.fetchedHistory;(function(e,t){var n=e.getChat(ie.d).properties.lastThread;return n&&!t.some((function(e){var t=e.id;return n===t}))})(t,f.threads)&&Object(O.c)("threads_gap",null,{meta:JSON.stringify({stateLastThreadId:t.getChat(ie.d).properties.lastThread,fetchedThreads:f.threads.map((function(e){return e.id}))})}),l&&Object(T.z)(t,ie.d,{chatId:t.getChat(ie.d).serverId}),function(e,t){d(e.chatId,t.iterator),Q(t.hasMore);var n=Object(b.ob)(-1,t.threads),r=n[0],i=n[1][0];H(Object(b.s)((function(e){return e.events}),r)),W(e,{thread:i,eventsSeenUpToMap:t.eventsSeenUpToMap})}(s,f)}else a.fetchedThread&&(l&&r.active&&Object(T.z)(t,ie.d,{chatId:t.getChat(ie.d).serverId}),W(s,a.fetchedThread));if(o&&(Object(T.a)(t),gt(o)),!r.active)if(i&&i.enabled)Object(T.G)(t,i.form);else if(u.greeting)return M(u.greeting)})).then((function(){var e=t.getConnectionState()===Z.d;return t.setDefaultView("Chat","timeline"),t.setConnectionState(Z.a),s(),t.getChat(ie.d).active&&Object(F.W)(t,"hidden")&&Object(T.v)(t,!0),a.resolve(),e})).then((function(e){var n=t.getChat(ie.d),r=t.getApplicationState().availability;e||!Object(F.H)(t)||!Object(F.S)(t)||n.active||"offline"!==r&&!n.properties.ended||Object(T.H)(t)})).catch((function(e){switch(c={},e.code){case"CONNECTION_LOST":return;case"REQUEST_TIMEOUT":case"MISSING_USER":return i.disconnect(),void i.connect();case"INTERNAL":return void Object(O.e)("connection_fetcher_internal_error");default:return void Object(O.c)("connection_fetcher_error",e)}}))})),Object(T.L)(n,t),i.once("customer_id",(function(e){return Object(T.E)(t,e)}));var ee,ae=Object(L.b)(t,at.a.READY),ce=function(e){return Object(B.y)(ae,Object(B.E)(e))},se=Object(B.y)(Object(L.c)(t,(function(e){return Object(it.a)(e,"maximized")})),Object(B.i)(Boolean),Object(B.s)((function(){return{type:"maximized"}})),B.z),le=Object(B.y)(Object(L.c)(t,(function(){return t.getSessionUser().serverId})),Object(B.i)(Boolean),Object(B.F)(1),B.I),de=Object(B.y)(Object(L.c)(t,(function(e){return e.localization})),Object(B.i)((function(e){return Object.keys(e).length>1})),Object(B.F)(1),B.I);r?(Math.random()<=.01&&"onLine"in navigator&&(ee=setTimeout((function(){navigator.onLine&&Object(O.f)("unsuccessful_first_connect")}),3e4)),t.setApplicationState({clientLimitExceededLifted:!0}),de.then(t.setLocalization).then((function(){return a.promise})).then(q)):Promise.all([de,le]).then((function(e){var r,o=e[0];t.setLocalization(o),r=n.onlineGroupIds,t.setApplicationState({availability:P(r)?"online":"offline"}),t.setConnectionState(Z.c),s(),q();var a=Object(B.k)(document,["click","touchstart"]);Object(B.y)(Object(B.t)(a,se),Object(B.F)(1),Object(B.j)((function(){t.setApplicationState({clientLimitExceededLifted:!0}),i.connect()})))})),"ononline"in window&&(i.on("connection_unstable",(function(){t.setConnectionState(Z.d)})),i.on("connection_recovered",(function(){t.setConnectionState(Z.a)}))),i.on("incoming_greeting",(function(e){if(Object(F.lb)(t)){var n=Ie(t,e);Object(F.G)(t)?M(n):c.greeting=n}})),i.on("availability_updated",(function(e){var n=e.availability;Object(F.G)(t)?t.setApplicationState({availability:n}):c.availability=n})),i.on("events_marked_as_seen",(function(e){var n,r=e.chatId,i=e.userId,o=e.seenUpTo;if(r===Object(F.b)(t)){t.updateChat(ie.d,{properties:{eventsSeenUpToMap:Object(g.a)({},t.getChat(ie.d).properties.eventsSeenUpToMap,(n={},n[i]=o,n))}});var a=new Date(o).getTime();(t.getSessionUser().serverId===i?F.r:F.n)(ie.d,a,t).forEach((function(e){t.updateEvent(ie.d,e.id,{seen:!0})}))}})),i.on("incoming_event",(function(e){var n=e.chatId,r=e.event;n===Object(F.b)(t)&&("postchat"===Object(b.x)("properties.lc2.form_type",r)&&(Object(T.w)(t),t.setDefaultView("Chat","timeline")),Object(F.F)(ie.d,t)&&Object(O.c)("received_event_during_chat_starting"),A(r))})),i.on("chat_deactivated",(function(e){e.chatId===Object(F.b)(t)&&x()})),i.on("incoming_chat",(function(e){Object(T.z)(t,ie.d,{chatId:e.chat.id});var n=me(t,e);f(n)}));var fe=function(e){var n=e.chatId,r=e.typingIndicator;if(n!==Object(F.b)(t))return!1;var i=Object(F.c)(ie.d,t);return!!i&&i.id===r.authorId},pe=Object(B.y)(Object(B.l)(i,"incoming_typing_indicator"),Object(B.i)((function(e){return e.typingIndicator.isTyping&&fe(e)})),Object(B.s)((function(){return!0}))),he=Object(B.y)(Object(B.l)(i,"incoming_typing_indicator"),Object(B.i)((function(e){return!e.typingIndicator.isTyping&&fe(e)})),Object(B.s)((function(){return!1}))),ge=Object(B.y)(Object(B.l)(i,"incoming_event"),Object(B.i)((function(e){var n=e.chatId,r=e.event;return n===Object(F.b)(t)&&r.authorId!==t.getSessionUser().serverId&&"system"!==r.authorId})));Object(B.y)(Object(B.t)(Object(B.y)(pe,Object(B.i)((function(){return!t.getChat(ie.d).properties.messageDraft}))),he,Object(B.y)(ge,Object(B.s)((function(){return!1})))),Object(B.E)((function(e){return e?Object(B.c)(Object(B.v)(!0),Object(B.y)(Object(B.H)(1e4),Object(B.s)((function(){return!1})))):Object(B.v)(!1)})),Object(B.f)(),Object(B.j)((function(e){t.updateChat(ie.d,{properties:{agentIsTyping:e}})})));Object(B.y)(Object(L.c)(t,(function(){return t.getChat(ie.d).properties.loadingHistory})),Object(B.i)(Boolean),Object(B.j)((function e(){u.next().then((function(n){var r=n.value,i=n.done,o=t.getTimeline(ie.d).length,a=U(Object(b.s)((function(e){return e.events.map((function(e){return Object(g.a)({},e,{seen:!0})}))}),r));a.length>0&&t.addHistoryEvents(ie.d,a),o!==t.getTimeline(ie.d).length||i?t.updateChat(ie.d,{properties:{loadingHistory:!1,hasMoreHistory:!i}}):e()}),(function(){t.updateChat(ie.d,{properties:{loadingHistory:!1}})}))}))),t.on("request_update_chat",(function(e){var n=e.resolve,r=e.reject,o=e.data,a=o.properties,u=void 0===a?{}:a,c=Object(y.a)(o,["properties"]);if(u.rateComment){var s=u.rateComment;Ke(t,s),i.rateChat({chatId:Object(F.b)(t),rating:{comment:s}}).then(n,r)}else if("undefined"!==typeof u.rate){Je(t,u.rate);var l=t.getApplicationState().testGroup;if(Object(O.b)({testGroup:l,chatRating:null===u.rate?"canceled":u.rate,chatRatingSource:"other"}),null===u.rate)return void i.cancelRate({chatId:Object(F.b)(t)}).then((function(){t.updateChat(ie.d,{properties:{rateComment:null}}),n()}),r);i.rateChat({chatId:Object(F.b)(t),rating:{score:h(u.rate)}}).then(n,r)}else u.transcriptSentTo?i.updateThreadProperties({chatId:Object(F.b)(t),threadId:p(),properties:{routing:{transcript_email:u.transcriptSentTo}}}).then(n,r):!1===c.active?i.deactivateChat({id:Object(F.b)(t)}).then((function(){x(),n()}),r):"string"===typeof u.messageDraft&&(t.getChat(ie.d).active&&i.setSneakPeek({chatId:Object(F.b)(t),sneakPeekText:u.messageDraft}),n())}));var ye=function(e){return"subject"===e.serverType?"subject":"name"===e.name?"name":"text"===e.type?"question":e.type},Oe=function(e,t){var n=e.id,r=e.serverId,i=e.properties,o=i.formType,a=i.formId,u=i.fields,c=ue(u,t),s=c.fields,l={filledForm:Object(g.a)({type:"filled_form",formId:a},!r&&{customId:n},{fields:u.filter((function(e){return void 0!==e.serverName&&"rating"!==e.type&&"information"!==e.type})).map((function(e){if("groupSelect"===e.meta)return{type:"group_chooser",id:e.serverName,label:Object(X.b)(e.label),answer:{id:String(c.choosenGroupIndex),groupId:c.choosenGroup,label:e.options[c.choosenGroupIndex].label}};if("confirm_subscription"===e.meta){var t=s[e.serverName];return{type:"checkbox_for_email",id:e.serverName,label:e.options[0].label,answer:!!t&&Object(b.D)(e.options[0].originalValue,t)}}if(Object(b.E)(e.options)){var n={type:ye(e),id:e.serverName,label:Object(X.b)(e.label)},r=Object(b.B)(e.serverName,s)?Object(b.l)(s[e.serverName]):[],i=e.options.filter((function(e){return Object(b.D)(e.originalValue,r)})).map((function(e){return{label:e.label,value:e.originalValue}}));if("checkbox"===n.type)n.answers=i.map((function(e){return{label:e.label,id:e.value}}));else if(i.length){var o=i[0];n.answer={id:o.value,label:o.label}}return n}return Object(b.B)(e.serverName,s)?{type:ye(e),id:e.serverName,label:Object(X.b)(e.label),answer:s[e.serverName]}:{type:ye(e),id:e.serverName,label:Object(X.b)(e.label)}})),properties:Object(g.a)({},o&&{lc2:{form_type:o}})})};return void 0!==c.choosenGroup&&(l.choosenGroup=c.choosenGroup),l},we=0,_e=Object(b.xb)(300,(function(e){var n=Object(F.b)(t),r=new Date(e).toISOString().replace(/Z$/,"999Z");n&&i.markEventsAsSeen({chatId:n,seenUpTo:r}).catch(b.V)}));t.on("request_update_event",(function(e){var n,r,a,u=t.getEvent(ie.d,e.id);if(e.data.seen)e.resolve(),we=Math.max(we,t.getEvent(ie.d,e.id).timestamp),_e(we);else if("ticket"===u.properties.formType){var c=e.data.properties.answers,s=u.properties.fields,d=ue(s,c).fields,f=t.getApplicationState(),p=null,h=null,y=null;switch(Object(F.g)("ticketForm",t).mode){case"helpdesk":var j=re({license:f.license,group:f.group,pageUrl:f.page.url,form:(a=u.properties,ne(te(a))),answers:d});n="production",r=j,p=Object(J.a)("https://api."+("labs"===n?"labs.":"")+"helpdesk.com/v1/externalTickets",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}).then((function(e){return{id:e.ID}})),h=function(e){return function(e,t){var n=t.requester,r=t.message,i=t.subject,o=r.text,a=n.name,u=n.email;return Object(g.a)({id:e,text:o},i&&{subject:i},{visitor:{name:a||null,email:u||null}})}(e.id,j)},y=T.j;break;case"offline_message":var x=Oe(u,c).filledForm;p=ze({customerStartingEvent:x,group:f.group}),h=function(e){var t,n,r=Object(b.o)((function(e){return"subject"===e.type}),x.fields);return Object(g.a)({id:e.thread,text:ot(x),visitor:{name:(null==(t=Object(b.o)((function(e){return"name"===e.type}),x.fields))?void 0:t.answer)||null,email:(null==(n=Object(b.o)((function(e){return"email"===e.type}),x.fields))?void 0:n.answer)||null}},(null==r?void 0:r.answer)&&{subject:r.answer})},y=function(e,t,n){n()};break;default:var E=Oe(u,c).filledForm,D=(new Intl.DateTimeFormat).resolvedOptions().timeZone;p=i.sendTicketForm({filledForm:E,groupId:f.group,timeZone:"string"!==typeof D||/^Etc\//.test(D)||-1===D.indexOf("/")&&"UTC"!==D?null:D}),h=function(e){var t,n,r=Object(b.o)((function(e){return"subject"===e.type}),E.fields);return Object(g.a)({id:e.id,text:e.text,visitor:{name:(null==(t=Object(b.o)((function(e){return"name"===e.type}),E.fields))?void 0:t.answer)||null,email:(null==(n=Object(b.o)((function(e){return"email"===e.type}),E.fields))?void 0:n.answer)||null}},(null==r?void 0:r.answer)&&{subject:r.answer})},y=function(e,t,n){e&&"VALIDATION"===e.code?/name must be at most \d+ characters long/.test(e.message)?n({name:e.message}):"mail must be a valid e-mail address"!==e.message?n():n({email:t("invalid_email")}):n()}}p.then((function(n){var r=u.properties.fields;!function(e,t,n,r){var i=r.id,o=r.text,a=r.visitor,u=a.email,c=a.name,s=r.subject,l={form_data:Ze(t,n),ticket_id:i,text:o,visitor_name:c,visitor_email:u};s&&(l.ticket_subject=s),e.emit("on_ticket_created",l)}(t,r,d,h(n)),e.resolve(),Object(T.M)(t,e.id),t.setCurrentView("Chat")}),(function(n){y(n,t.localize,e.reject)}))}else if("prechat"===u.properties.formType){var k=e.data.properties.answers,I=u.properties.fields;!function(e,t,n){Ye(e,"prechat",t,n)}(t,I,ue(I,k).fields);var S=Oe(u,k),z=S.filledForm,B=S.choosenGroup,M=function(t){switch(t.code){case"SERVICE_UNAVAILABLE":return void R({withSystemMessage:!0});case"GROUPS_OFFLINE":return void _().then(e.resolve,e.reject);case"CUSTOMER_BANNED":case"GROUP_NOT_FOUND":return void l();default:e.reject()}},L=function(){return ze({customerStartingEvent:z,agentFakeEvent:Object(F.f)(t,ie.d),group:B}).then((function(e){Fe(e),t.setDefaultView("Chat","timeline")})).catch((function(e){return M(e)}))};if(void 0!==B)return void function(e,t){var n=t.groupId;return Pe(e,{groupIds:[n]}).then((function(e){return e[n]}))}(o,{groupId:B}).then((function(e){if("not_found"===e){var t=new Error('Group "'+B+'" not found (most likely it has been removed).');throw t.code="GROUP_NOT_FOUND",t}return e})).then((function(n){var r=t.getApplicationState().group;if(t.setApplicationState({group:B}),!("online"===n))return Object(F.H)(t)?void L().then((function(){t.setApplicationState({availability:"offline"})}),M):void Promise.all([Ve(o,B),r!==B&&Ue(o,{groupId:B})].filter(Boolean)).then((function(e){var n=e[0],r=e[1];n.enabled?(Object(T.i)(t,"ticketForm",r&&{mode:r}),t.updateView("Chat/ticketForm",n.form)):Object(T.g)(t,"ticketForm"),t.setApplicationState({availability:"offline"})}),(function(t){"CONNECTION_LOST"!==t.code?l():e.reject()}));L().catch(M)}),(function(t){"CONNECTION_LOST"!==t.code?l():e.reject()}));L()}else if("postchat"===u.properties.formType){var P=e.data.properties.answers,q=u.properties.fields;!function(e,t,n){Ye(e,"postchat",t,n)}(t,q,ue(q,P).fields);var N=Oe(u,P).filledForm;i.sendEvent({chatId:Object(F.b)(t),event:N,attachToLastThread:!0}).then((function(n){e.resolve(),Object(T.M)(t,e.id,je(t,n)),"rating"in P?function(e,t){var n=w(t),r=e.getApplicationState().testGroup;if(n.score===et&&n.comment===et)return Promise.resolve(null);Object(O.b)({testGroup:r,chatRating:n.score===Qe?"canceled":t.rating,chatRatingSource:"postchat"});var i=[];return n.score===tt&&n.comment===tt?(i.push(m(t)),Je(e,t.rating),Ke(e,t.rateComment)):n.score===Qe&&n.comment===Qe?i.push(v(["comment","score"])):(n.score===Qe?i.push(v(["score"])):n.score===tt&&(i.push(m({rating:t.rating})),Je(e,t.rating)),n.comment===Qe?i.push(v(["comment"])):n.comment===tt&&(i.push(m({rateComment:t.rateComment})),Ke(e,t.rateComment))),Promise.all(i.map((function(e){return e.catch(b.V)})))}(t,P).finally((function(){return C(t)})):C(t)})).catch((function(e){if(e.message===ie.c)return Object(T.z)(t,ie.d,{forced:!0}),dt(yt()).then((function(e){return gt(e)}));throw e}))}else if("ask_for_email"===u.properties.formId){var V=e.data.properties.answers,U=Oe(u,V).filledForm;i.sendEvent({chatId:Object(F.b)(t),event:U,attachToLastThread:!0}).then((function(t){e.resolve(),A(t)}))}})),t.on("request_customer_token",(function(){o.sdk.auth.getToken().then((function(e){return t.emit("customer_token_response",e)})).catch((function(e){return t.emit("customer_token_error",e)}))})),t.on("request_update_user",(function(e){var n=e.resolve,r=e.id,o=e.data,a=o.properties,u=Object(y.a)(o,["properties"]);if(t.getSessionUserId()===r){if(Object(F.G)(t)){var c=Object(b.f)({name:u.name,email:u.email,sessionFields:a});i.updateCustomer(c).catch((function(e){return Object(O.c)("update_customer_request_failed",e)}))}n()}})),t.on("request_set_user_properties",(function(e){var n=e.resolve,r=e.id,o=e.properties;t.getSessionUserId()===r&&(Object(F.G)(t)&&i.setCustomerSessionFields({sessionFields:o}).catch(b.V),n())}));var xe=function(e,n){var r=n.id,i=n.timestamp,o=n.threadId;Xe(t,e,i),t.setEventServerId(ie.d,e.id,r),t.updateEvent(ie.d,e.id,{delivered:!0,serverTimestamp:i,thread:o})},Ce=function(e){t.updateEvent(ie.d,e.id,{failed:!0})};t.on("send_file_events",(function(){t.setApplicationState({isSendingFileEvents:!0});var e=[].concat(Object(F.j)(t));e.filter((function(e){return e.properties.failed})).forEach((function(e){return t.updateEvent(ie.d,e.id,{properties:{canceled:!0}})}));var n=e.filter((function(e){var t=e.type,n=e.delivered,r=e.properties,i=r.canceled,o=r.finished;return"file"===t&&!n&&!i&&o})).map((function(e){return i.sendEvent({chatId:Object(F.b)(t),event:{type:"file",customId:e.id,url:e.properties.serverUrl,alternativeText:e.properties.alternativeText}}).then((function(n){t.updateEvent(ie.d,e.id,{delivered:!0}),A(n),Promise.resolve().then((function(){"image"===e.properties.fileType&&URL.revokeObjectURL(e.properties.url)}));var r=e.properties.uploadSource;("clipboard"===r||Math.random()<.1)&&Object(O.d)("file_upload_sent",{uploadSource:r})}))}));Promise.all(n).finally((function(){t.setApplicationState({isSendingFileEvents:!1})}))}));var ke={};t.on("cancel_upload",(function(e){var n=e.eventId,r=t.getEvent(ie.d,n);t.updateEvent(ie.d,n,{properties:{canceled:!0}}),ke[n]&&ke[n].cancel(),Promise.resolve().then((function(){"image"===r.properties.fileType&&URL.revokeObjectURL(r.properties.url)}))}));var Te=function(e){var n=e.event,r=e.meta;if("file"===n.type){var o=i.uploadFile({file:r.file,onProgress:function(e){return t.updateEvent(ie.d,n.id,{properties:{progress:e}})}});return ke[n.id]=o,o.promise.then((function(e){var r=e.url;t.updateEvent(ie.d,n.id,{properties:{serverUrl:r,finished:!0}})}),(function(e){"UPLOAD_CANCELED"!==e.code&&t.updateEvent(ie.d,n.id,{properties:{failed:!0,failReason:ut(t,e)}})})).finally((function(){delete ke[n.id]}))}if(Object(b.D)(n.type,["message","emoji"]))return i.sendEvent({chatId:Object(F.b)(t),event:Se(t,n)}).then((function(e){xe(n,e)}),(function(){Ce(n)}));if("custom_system_message"===n.type)return i.sendEvent({chatId:Object(F.b)(t),event:Se(t,n)}).then(A,b.V);if("rich_message_postback"===n.type){var a=n.properties,u=a.eventId,c=a.postback;return i.sendRichMessagePostback({chatId:Object(F.b)(t),threadId:t.getEvent(ie.d,u).thread,eventId:u,postback:c}).catch(b.V)}if("url_preview"===n.type){var s=i.getUrlInfo({url:n.properties.url}).catch((function(){return null}));return i.sendEvent({chatId:Object(F.b)(t),event:Se(t,n)}).then((function(e){xe(n,e),s.then((function(r){var o=r.title,a=r.description,u=r.url,c=r.imageUrl;return t.updateEvent(ie.d,n.id,{properties:{title:o,description:a,image:{url:c,link:u}}}),i.updateEventProperties({chatId:Object(F.b)(t),threadId:e.thread,eventId:e.id,properties:{url_details:{title:o,description:a,url:u,image_url:c,image_width:r.imageWidth,image_height:r.imageHeight}}})})).catch(b.V)}),(function(){Ce(n)}))}},Fe=function(e){var n=e.events,r=Object(y.a)(e,["events"]),i=t.getSessionUser().id;n.forEach((function(e){t.getEvent(ie.d,e.id)?e.author===i?function(e,t){var n=t.timestamp;"message"===t.properties.serverType&&Xe(e,t,n),e.setEventServerId(ie.d,t.id,t.serverId);var r={delivered:!0,serverTimestamp:n,thread:t.thread};"form"===t.type&&(r.properties={answered:!0,fields:t.properties.fields}),e.updateEvent(ie.d,t.id,r)}(t,e):e.properties.welcomeMessage||e.properties.invitation?function(e,t){var n=Object(F.f)(e,ie.d);e.setEventServerId(ie.d,n.id,t.serverId);var r=n.author!==t.author;r&&e.setEventData(ie.d,n.id,{author:t.author});var i={delivered:!0,thread:t.thread,serverTimestamp:t.timestamp,properties:{}};n.properties.text!==t.properties.text&&(i.properties.text=t.properties.text),e.updateEvent(ie.d,n.id,i),r&&(Object(T.D)(e,t.author),e.recalculateTimeline(ie.d))}(t,e):S(e):S(e)})),f(Object(g.a)({},r,{events:[]}))},ze=function e(n){return t.updateChat(ie.d,{properties:{starting:!0}}),Me(o,n).then((function(e){return t.updateChat(ie.d,{properties:{starting:!1}}),e}),(function(r){if(r.message===ie.c)return Object(T.z)(t,ie.d,{forced:!0}),e(n);throw t.updateChat(ie.d,{properties:{starting:!1}}),r}))},qe=[],He=function(e){if(Object(F.F)(ie.d,t))qe.push(e);else{var n=function(){Object(F.ab)(t)&&Object(T.c)(t)};t.getChat(ie.d).active?e&&Te(e).then(n):ze(Object(g.a)({},e&&{customerStartingEvent:e.event},{agentFakeEvent:Object(F.f)(t,ie.d)})).then((function(e){Fe(e);var t=qe;qe=[],t.forEach(Te),n()}),(function(n){t.updateEvent(ie.d,e.event.id,{failed:!0});var r=qe;switch(qe=[],r.forEach((function(e){t.updateEvent(ie.d,e.id,{failed:!0})})),n.code){case"SERVICE_UNAVAILABLE":return void R({withSystemMessage:!0});case"CUSTOMER_BANNED":return void l();case"GROUPS_OFFLINE":return void _();default:return}}))}};t.on("start_thread",He),t.on("send_event",He),t.on("request_cancel_greeting",(function(e){Object(F.W)(t,"maximized")&&Object(T.v)(t),i.cancelGreeting({uniqueId:e})}));var lt=function(e){return ze({agentFakeEvent:e}).then((function(e){return[{type:"hide_ticket_form"},{type:"chat_activated",payload:e}]}),(function(e){switch(e.code){case"WIDGET_DESTROYED":case"CHAT_ALREADY_ACTIVE":case"CHAT_LIMIT_REACHED":return{type:"nothing"};case"GROUPS_OFFLINE":return Ve(o,t.getApplicationState("group")).then((function(e){return e.enabled?{type:"nothing"}:{type:"show_ticket_form",payload:e.form}}));case"CUSTOMER_BANNED":default:return{type:"panic"}}}))},dt=function(e){var n=e.active,r=e.availability,i=e.connected,a=e.hasFakeAgentMessage,u=e.startChatAgainPending,c=e.limitReached,s=e.hasMutedGreeting;return Object(K.a)((function(){return c||n?{type:"nothing"}:"offline"===r?Object(F.H)(t)?u&&Object(F.S)(t)?{type:"show_prechat"}:{type:"nothing"}:Object(F.T)(t)?Object(F.w)(t)?{type:"nothing"}:{type:"show_ticket_form"}:{type:"hide_prechat_form"}:s?{type:"accept_muted_greeting"}:a?{type:"hide_ticket_form"}:Object(F.W)(t,"maximized")?Object(F.S)(t)?{type:"show_prechat"}:!i||st.acceptingGreeting?{type:"nothing"}:(st.requestingPredictedWelcomeMessage=!0,de.then((function(){return function(e){var t=e.sdk,n=e.store;return t.getPredictedAgent().then((function(e){var t,r=e.agent,i=e.queue,o=n.localize("welcome_to_chat");return{agent:r,groupHasQueue:i,message:oe.c((t={id:Object(b.w)(n.getIndexedEvents(ie.d)),type:"message",authorId:r.id,text:Object(j.i)(n,o,{agent:r.name}),originalText:o,welcomeMessage:!0},Object(g.a)({},t,{serverId:null,timestamp:Date.now(),seen:!0,properties:t.properties||{}})))}}))}(o)})).then((function(e){var t=e.agent,n=e.message,r=e.groupHasQueue;return st.requestingPredictedWelcomeMessage=!1,t.isBot?lt(n):[{type:"hide_ticket_form"},{type:"predicted_welcome_message",payload:{agent:t,message:n,groupHasQueue:r}}]}),(function(e){if(st.requestingPredictedWelcomeMessage=!1,"offline"===t.getApplicationState("availability"))return{type:"nothing"};switch(e.code){case"GROUP_UNAVAILABLE":return lt();case"GROUP_OFFLINE":return{type:"nothing"};default:return{type:"panic"}}}))):{type:"nothing"}})).then(b.l)},ft=function(){var e=t.getChat(ie.d);return(!e.active||e.properties.queued)&&!e.properties.starting&&!e.properties.ended},pt=function(){t.updateView("minimized",{hidden:!1})};Object(B.y)(se,Object(B.j)(pt));var ht=Object(B.y)(Object(L.c)(t,(function(e){return e.application.destroyed})),Object(B.i)(Boolean),Object(B.F)(1),B.z);Object(B.y)(ae,Object(B.F)(1),Object(B.s)((function(){var e=Object(G.a)(Object(b.cb)(["license","group","requestedGroup"],t.getApplicationState()));return[Object(rt.b)("session")&&window.sessionStorage.getItem(e),e]})),Object(B.i)((function(e){var t=e[0];return Boolean(t)})),Object(B.j)((function(e){var n=e[0],r=e[1];!function(e){var n,r=p();try{n=JSON.parse(e)}catch(i){return}n&&r&&n.forEach((function(e){t.getEvent(ie.d,e.id)||Object(T.d)(t,ie.d,{thread:r,id:e.id,type:"file",own:!0,author:t.getSessionUser().id,delivered:!1,failed:!1,properties:e})}))}(n),window.sessionStorage.removeItem(r)})));var mt=Object(B.y)(Object(L.c)(t,(function(e){return e.application.availability})),Object(B.B)(1),B.A,Object(B.s)((function(e){return{type:e}})),Object(B.x)((function(e){return"online"===e.type}))),bt=mt[0],vt=mt[1];Object(B.y)(ce((function(){return vt})),Object(B.i)(ft),Object(B.j)((function(){!Object(F.L)(t,"prechat")&&Object(F.H)(t)&&Object(F.S)(t)&&"offline"===t.getApplicationState().availability&&!t.getChat(ie.d).active&&Object(T.H)(t),Object(F.L)(t,"prechat")&&(Object(T.x)(t),Object(F.H)(t)&&Object(T.H)(t)),s()}))),Object(B.y)(bt,Object(B.i)(ft),Object(B.j)((function(){t.getView("minimized").hidden&&pt(),!Object(F.T)(t)&&Object(F.Q)(t)&&Object(F.W)(t,"hidden")&&Object(T.v)(t)}))),Object(B.y)(ce((function(){if(!Object(F.S)(t))return B.u;var e=Object(L.c)(t,(function(){return Object(F.L)(t,"prechat")}));return Object(B.y)(Object(B.t)(se,e),Object(B.i)((function(){return Object(F.L)(t,"prechat")})),Object(B.E)((function(){var e=t.getLastEvent(ie.d);return Object(B.y)(Object(B.o)(function(e,t){var n=Object(b.p)((function(e){return"groupSelect"===e.meta}),t);if(-1===n)return Promise.resolve(null);var r=t[n],i=r.options.map((function(e){return e.groupId}));return i.length>20?Promise.resolve(null):Pe(e,{groupIds:i}).then((function(e){return Object(b.Ab)(n,Object(g.a)({},r,{options:r.options.map((function(t){return Object(g.a)({},t,{meta:{online:"online"===e[t.groupId]}})}))}),t)}))}(o,e.properties.fields)),B.q)})))})),Object(B.i)((function(e){return e&&Object(F.L)(t,"prechat")})),Object(B.j)((function(e){var n=t.getLastEvent(ie.d).id;return t.updateEvent(ie.d,n,{properties:{fields:e}})})));var gt=function(e){return e.forEach((function(e){switch(e.type){case"panic":return void l();case"chat_activated":return void Fe(e.payload);case"predicted_welcome_message":var n=e.payload,r=n.agent,i=n.message,a=n.groupHasQueue;return k(r),Object(T.D)(t,r.id),S(i),void t.updateChat(ie.d,{properties:{fakeAgentMessageId:i.id,groupHasProbableQueue:a}});case"show_ticket_form":return e.payload&&t.updateView("Chat/ticketForm",e.payload),void Object(T.I)(t);case"hide_prechat_form":return void Object(T.x)(t);case"hide_ticket_form":return void(Object(F.L)(t,"ticket")&&(Object(T.y)(t),t.setDefaultView("Chat","timeline")));case"show_prechat":return void Object(T.H)(t);case"accept_muted_greeting":return void function(){var e=t.getLastEvent(ie.d),n=t.getChat(ie.d).properties.mutedGreeting;t.updateEvent(ie.d,e.id,{seen:!0}),st.acceptingGreeting=!0,Be(o,n).then((function(e){var n=e.event;t.updateChat(ie.d,{properties:{mutedGreeting:void 0}}),Object(T.u)(t,n)}),b.V).finally((function(){st.acceptingGreeting=!1}))}();default:return}}))},yt=function(){var e=t.getChat(ie.d);return{active:e.active,availability:t.getApplicationState("availability"),connected:Object(F.G)(t),hasFakeAgentMessage:Object(F.z)(t,ie.d),startChatAgainPending:e.properties.startChatAgainPending,limitReached:t.getApplicationState("limitReached"),hasMutedGreeting:!!e.properties.mutedGreeting}};Object(B.y)(ce((function(){return Object(B.y)(Object(L.c)(t,(function(){return t.getChat(ie.d).properties.startChatAgainPending})),Object(B.i)(Boolean))})),Object(B.E)((function(){return Object(B.o)(dt(yt()))})),Object(B.j)((function(e){Object(T.z)(t,ie.d,{chatId:t.getChat(ie.d).serverId}),gt(e)}))),Object(B.y)(Object(B.t)(se,bt,vt),Object(B.g)(ae),Object(B.i)((function(){return ft()&&t.getApplicationState().eagerFetchingMode})),Object(B.h)((function(){return Object(B.o)(dt(yt()))})),Object(B.G)(ht),Object(B.j)(gt)),Object(B.y)(ce((function(){return Object(B.y)(se,Object(B.i)((function(){return!t.getApplicationState().eagerFetchingMode})))})),Object(B.E)((function(){var e=t.getChat(ie.d).serverId;return Object(B.o)(Promise.all([dt(yt()),Object(F.E)(t)&&e&&$e(o,e)].filter(Boolean)))})),Object(B.G)(ht),Object(B.j)((function(e){var n=e[0],r=e[1];if(Object(T.a)(t),r){d(t.getChat(ie.d).serverId,r.iterator),Q(r.hasMore);var i=Object(b.s)((function(e){return e.events}),r.threads).filter((function(e){return!t.hasEvent(ie.d,e.id)}));i.length>0&&t.addHistoryEvents(ie.d,i),t.updateChat(ie.d,{properties:{lastThread:r.threads.length?Object(b.M)(r.threads).id:null,eventsSeenUpToMap:r.eventsSeenUpToMap}})}t.setApplicationState({eagerFetchingMode:!0}),gt(n)}))),Object(B.y)(Object(L.c)(t,(function(e){return e.application.page})),Object(B.B)(1),Object(B.G)(ht),Object(B.j)((function(e){var t=e.url,n=e.title;i.updateCustomerPage({url:t,title:n})})))},dt=function(e){return e.some(b.C)},ft=n(207),pt=n(118),ht=n(86),mt=n(135);function bt(e,t,r,i){var o=t.adapterOptions,a=t.props,u=a.onError,c=void 0===u?b.V:u,s=Object(y.a)(a,["onError"]),l=t.onBootstrap,d=void 0===l?b.V:l;Promise.resolve(C.a&&Promise.all([n.e(1),n.e(6),n.e(5)]).then(n.bind(null,539))).then((function(t){lt(o,e,r);e.on("set_application_state",(function n(r){if(r.readyState!==at.a.NOT_READY){window.performance&&"function"===typeof window.performance.mark&&window.performance.mark("lc_sdk_ready"),e.off("set_application_state",n),e.getApplicationState("embedded")||function(e){Object(B.y)(Object(L.c)(e,(function(){return e.localize("welcome_title")})),Object(B.j)((function(e){document.title=e})))}(e),e.getApplicationState("embedded")&&!Object(pt.b)()||Object(ft.b)(e),Object(ht.a)(e),Object(O.a)(e),function(e,t){var n=Object(B.y)(Object(B.p)(),B.z);if(t){var r=Object(B.n)(t);Object(B.y)(n,Object(B.j)((function(n){e.setApplicationState({applicationFocused:n}),t.emit("focus",n)}))),Object(B.y)(Object(B.b)(n,r),Object(B.d)(50),Object(B.s)(dt),Object(B.f)(),Object(B.j)((function(t){e.setApplicationState({pageFocused:t})})))}else Object(B.y)(n,Object(B.j)((function(t){e.setApplicationState({pageFocused:t,applicationFocused:t})})))}(e,i),t&&t.connect(e);var o=document.getElementById("root");Object(mt.c)(o,Object(g.a)({},s,{onError:function(e,t){var n=t.componentStack;Object(O.c)("react_error",e,{componentStack:n}),W.render(null,o),c()},store:e,amplitude:t})),window.performance&&"function"===typeof window.performance.mark&&window.performance.mark("lc_bootstrap_end"),d(e)}}))}))}var vt=n(139),gt=function(e,t,n,r){var i=e.getApplicationState("visibility");return r&&"maximized"!==i.state?{state:"hidden",forced:!0}:n?{state:"maximized"}:t?{state:"minimized"}:i};function yt(e,t){var n=e.license,r=e.group,i=e.uniqueGroups,o=e.isIdentityProviderEnabled,a=Object(A.a)({application:{license:n,group:r}},{persistKey:Object(G.a)(e)}),u=function(e){return{hide:function(){Object(F.W)(e,"hidden")||e.setApplicationState({visibility:{state:"hidden",forced:!0}})},hideGreeting:function(){Object(T.q)(e)},hideEyeCatcher:function(){Object(T.p)(e)},isFocused:function(){return!!document.hasFocus&&document.hasFocus()},maximize:function(t){var n=(void 0===t?{}:t).modality;n&&e.emit("set_host_modality",n),e.setApplicationState({visibility:{state:"maximized"}})},minimize:function(){e.setApplicationState({visibility:{state:Object(F.Q)(e)?"minimized":"hidden"}})},startStateSync:function(){e.startStateSync(this)},storeMethod:function(t){var n=t[0],r=t.slice(1);e[n].apply(e,r)},logInfo:function(){O.d.apply(void 0,arguments)},logError:function(){O.c.apply(void 0,arguments)},logNotice:function(){O.e.apply(void 0,arguments)}}}(a);new S.Model(u).then((function(e){return Promise.all([e,a.syncing()])})).then((function(e){var u=e[0];window.performance&&"function"===typeof window.performance.mark&&window.performance.mark("lc_postmate_ready");var c=u.model,s=c.clientLimitExceeded,l=c.customer,d=c.requestedGroup,f=c.hidden,p=c.integrationName,h=c.isInCustomContainer,m=c.page,b=c.region,v=c.serverConfig,y=c.actingAsDirectLink,O=a.getApplicationState("mobile"),j=y||h,w=v.__unsafeProperties.group.language;Object(G.c)(w),a.updateUser(a.getSessionUserId(),l),a.setApplicationState({clientLimitExceeded:!a.getApplicationState("clientLimitExceededLifted")&&s,actingAsDirectLink:y,embedded:!0,region:b,isInCustomContainer:h,mobileWrapper:null,page:m,rtl:Object(G.b)(w),language:w,integrationName:p,requestedGroup:d,visibility:gt(a,O,j,f)});var _={onAnimationEnd:function(){return a.emit("animation_end")},onError:function(){u.call("kill")},onMinimizedRef:function(e){u.minimizedRef=e},onMinimizedResize:function(){return U(u,a)}};bt(a,{adapterOptions:Object(g.a)({license:n,group:r,requestedGroup:d,region:b,uniqueGroups:i,mobile:Object(P.i)()},o&&{identityProvider:function(){return{getToken:function(){return u.call("callIdentityProvider","getToken")},getFreshToken:function(){return u.call("callIdentityProvider","getFreshToken")},hasToken:function(){return u.call("callIdentityProvider","hasToken")},invalidate:function(){return u.call("callIdentityProvider","invalidate")}}}}),props:_,onBootstrap:function(){if(vt.a(u,a),j)return u.call("show"),void t(a);H(u,a).then((function(){"hidden"!==a.getApplicationState("visibility").state&&u.call("show"),t(a)}))}},v,u)}))}var Ot=n(117),jt=function(e,t){var n=e.license,r=e.group,i=e.requestedGroup,o=t.__unsafeProperties.group.language.language,a=Object(A.a)({application:{license:n,group:r,requestedGroup:i,region:t.region,rtl:Object(G.b)(o),language:o,embedded:!1,mobileWrapper:Object(ht.b)(),page:{title:document.title,url:String(document.location),referrer:document.referrer}}},{persistKey:Object(G.a)(e)}),u=!a.getApplicationState().clientLimitExceededLifted&&t.clientLimitExceeded;return a.setApplicationState({visibility:{state:"maximized"},clientLimitExceeded:u}),a.updateUser(a.getSessionUserId(),function(){var e=Object(E.i)(window.location.search),t=Object(b.fb)(["name","email"],e);return e.params&&(t.properties=Object(b.P)((function(e){return String(e)}),Object(E.b)(e.params))),t}()),a};function wt(e,t){window.performance&&"function"===typeof window.performance.mark&&window.performance.mark("lc_config_request");var n,r=e.license,i=e.group;(n={licenseId:r,groupId:i,url:Object(Ot.a)(String(document.location)),channelType:"direct_link"},Object(Te.a)(n).then((function(e){var t=e.groupId;return Promise.all([e,Object(Te.d)({licenseId:n.licenseId,groupId:t,region:e.region,version:e.configVersion})]).then((function(e){var t=e[0],n=e[1];return Object(g.a)({},t,n)}))}))).then((function(n){window.performance&&"function"===typeof window.performance.mark&&window.performance.mark("lc_server_config");var o=n.groupId,a=n.region;Object(G.c)(n.__unsafeProperties.group.language);var u=jt(Object(g.a)({},e,{group:o,requestedGroup:i}),n);Object(Te.b)({licenseId:r,region:a,groupId:o,version:n.localizationVersion,language:n.__unsafeProperties.group.language}).then(u.setLocalization);var c={adapterOptions:Object(g.a)({},e,{group:o,requestedGroup:i,region:a,mobile:Object(P.i)()}),props:{},onBootstrap:t};Object(ht.c)()&&(c.props.onMinimizeButtonPress=function(){return u.emit("mobile_wrapper_minimize_intent")}),bt(u,c,n)}))}var _t=n(206),xt=n(146),Ct="first-paint",Et=function(e,t){if(!e||!t)return null;var n=Object(b.M)(e);return n?Math.max(n.startTime+n.duration,t.startTime):t.startTime},Dt=function(){if(!Math.floor(1e3*Math.random())){var e=Object(_t.a)(Ct);return{getLogs:function(){return Promise.all([e,Object(xt.a)(Ct)]).then((function(e){var t=e[0],n=e[1];return Object(b.P)((function(e){return e&&Object(b.vb)(e,2)}),{totalBlockingTime:t&&Object(b.qb)(t.map((function(e){return e.duration}))),firstContentfulPaint:null==n?void 0:n.startTime,timeToInteractive:Et(t,n)})}))}}}},kt=Object(E.i)(window.location.search),It=Object(j.c)(),St=Object(j.b)(kt),At=Object(j.e)(),Tt="1"===kt.custom_identity_provider;if(!It)throw new Error("No license found in the URL.");C.a&&Promise.all([n.e(1),n.e(6),n.e(5)]).then(n.bind(null,539)).catch(b.V),function(){var e={license:It,group:St,uniqueGroups:At,isIdentityProviderEnabled:Tt},t=Dt(),n=function(e){e.setApplicationState({readyState:at.a.BOOTSTRAPPED}),Tt&&Object(O.d)("custom_identity_provider_enabled",{}),t&&t.getLogs().then((function(e){Object(O.d)("iframe_vitals",Object(b.f)(Object(g.a)({},e,{isEmbedded:!!kt.embedded})))}))};kt.embedded?yt(e,n):wt(e,n)}()}],[[510,13,0,3]]]);